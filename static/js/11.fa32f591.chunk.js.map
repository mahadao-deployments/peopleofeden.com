{"version":3,"sources":["../node_modules/@coinbase/wallet-sdk/dist/assets/wallet-logo.js","../node_modules/@coinbase/wallet-sdk/dist/lib/ScopedLocalStorage.js","../../src/errors.ts","../node_modules/qs/lib/index.js","../node_modules/qs/lib/stringify.js","../node_modules/side-channel/index.js","../node_modules/has-symbols/index.js","../node_modules/has-symbols/shams.js","../node_modules/function-bind/implementation.js","../node_modules/has/src/index.js","../node_modules/call-bind/callBound.js","../node_modules/call-bind/index.js","../node_modules/object-inspect/index.js","../node_modules/qs/lib/parse.js","../node_modules/@coinbase/wallet-sdk/dist/vendor-js/eth-eip712-util/index.js","../node_modules/@coinbase/wallet-sdk/dist/vendor-js/eth-eip712-util/abi.js","../node_modules/@coinbase/wallet-sdk/dist/provider/FilterPolyfill.js","../node_modules/@coinbase/wallet-sdk/dist/provider/JSONRPC.js","../node_modules/@coinbase/wallet-sdk/dist/provider/SubscriptionManager.js","../node_modules/@coinbase/wallet-sdk/dist/provider/WalletSDKUI.js","../node_modules/@coinbase/wallet-sdk/dist/components/LinkFlow/LinkFlow.js","../node_modules/@coinbase/wallet-sdk/dist/components/ConnectDialog/ConnectDialog.js","../node_modules/@coinbase/wallet-sdk/dist/components/ConnectContent/ConnectContent.js","../node_modules/@coinbase/wallet-sdk/dist/version.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/CloseIcon.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/coinbase-round-svg.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/coinbase-wallet-round-svg.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/QRCodeIcon.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/QRLogoCoinbase.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/QRLogoWallet.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/StatusDotIcon.js","../node_modules/@coinbase/wallet-sdk/dist/components/QRCode.js","../node_modules/@coinbase/wallet-sdk/dist/vendor-js/qrcode-svg/index.js","../node_modules/@coinbase/wallet-sdk/dist/components/Spinner/Spinner.js","../node_modules/@coinbase/wallet-sdk/dist/components/Spinner/Spinner-css.js","../node_modules/@coinbase/wallet-sdk/dist/components/ConnectContent/ConnectContent-css.js","../node_modules/@coinbase/wallet-sdk/dist/components/TryExtensionContent/TryExtensionContent.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/ArrowLeftIcon.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/LaptopIcon.js","../node_modules/@coinbase/wallet-sdk/dist/components/icons/SafeIcon.js","../node_modules/@coinbase/wallet-sdk/dist/components/TryExtensionContent/TryExtensionContent-css.js","../node_modules/@coinbase/wallet-sdk/dist/components/ConnectDialog/ConnectDialog-css.js","../node_modules/@coinbase/wallet-sdk/dist/components/Snackbar/Snackbar.js","../node_modules/@coinbase/wallet-sdk/dist/components/Snackbar/Snackbar-css.js","../node_modules/@coinbase/wallet-sdk/dist/lib/cssReset.js","../node_modules/@coinbase/wallet-sdk/dist/lib/cssReset-css.js","../node_modules/@coinbase/wallet-sdk/dist/relay/WalletSDKRelay.js","../node_modules/@coinbase/wallet-sdk/dist/connection/WalletSDKConnection.js","../node_modules/@coinbase/wallet-sdk/dist/connection/ClientMessage.js","../node_modules/@coinbase/wallet-sdk/dist/connection/RxWebSocket.js","../node_modules/@coinbase/wallet-sdk/dist/connection/ServerMessage.js","../node_modules/@coinbase/wallet-sdk/dist/provider/WalletUIError.js","../node_modules/@coinbase/wallet-sdk/dist/relay/aes256gcm.js","../node_modules/@coinbase/wallet-sdk/dist/relay/Web3RequestCanceledMessage.js","../node_modules/@coinbase/wallet-sdk/dist/relay/Web3RequestMessage.js","../node_modules/@coinbase/wallet-sdk/dist/relay/Web3Response.js","../node_modules/@coinbase/wallet-sdk/dist/relay/Web3ResponseMessage.js","../node_modules/@coinbase/wallet-sdk/dist/relay/WalletSDKRelayEventManager.js","../node_modules/@coinbase/wallet-sdk/dist/index.js","../node_modules/events/events.js","../node_modules/sha.js/hash.js","../node_modules/@coinbase/wallet-sdk/dist/util.js","../node_modules/sha.js/index.js","../node_modules/sha.js/sha256.js","../node_modules/sha.js/sha512.js","../node_modules/@coinbase/wallet-sdk/node_modules/bn.js/lib/bn.js","../node_modules/@coinbase/wallet-sdk/dist/types.js","../node_modules/sha.js/sha.js","../node_modules/sha.js/sha1.js","../node_modules/sha.js/sha224.js","../node_modules/sha.js/sha384.js","../node_modules/@coinbase/wallet-sdk/dist/provider/CoinbaseWalletProvider.js","../../src/index.ts","../../src/classes.ts","../../src/error-constants.ts","../node_modules/@coinbase/wallet-sdk/dist/connection/DiagnosticLogger.js","../node_modules/@coinbase/wallet-sdk/dist/relay/Session.js","../node_modules/get-intrinsic/index.js","../node_modules/function-bind/index.js","../node_modules/qs/lib/formats.js","../node_modules/@coinbase/wallet-sdk/dist/relay/RelayMessage.js","../node_modules/@coinbase/wallet-sdk/dist/CoinbaseWalletSDK.js","../../src/utils.ts","../node_modules/qs/lib/utils.js","../node_modules/@coinbase/wallet-sdk/dist/relay/WalletSDKRelayAbstract.js","../node_modules/@coinbase/wallet-sdk/dist/vendor-js/eth-eip712-util/util.js","../node_modules/@coinbase/wallet-sdk/dist/relay/Web3Method.js"],"names":["Object","defineProperty","exports","value","walletLogo","type","width","height","toFixed","ScopedLocalStorage","scope","this","key","localStorage","setItem","scopedKey","getItem","removeItem","prefix","keysToRemove","i","length","startsWith","push","forEach","stringify","require","parse","formats","module","getSideChannel","utils","has","prototype","hasOwnProperty","arrayPrefixGenerators","brackets","comma","indices","repeat","isArray","Array","split","String","pushToArray","arr","valueOrArray","apply","toISO","Date","toISOString","defaultFormat","defaults","addQueryPrefix","allowDots","charset","charsetSentinel","delimiter","encode","encoder","encodeValuesOnly","format","formatter","formatters","serializeDate","date","call","skipNulls","strictNullHandling","sentinel","object","generateArrayPrefix","commaRoundTrip","filter","sort","sideChannel","v","obj","tmpSc","step","findFlag","get","pos","RangeError","maybeMap","isBuffer","keyValue","valuesArray","valuesJoined","objKeys","values","join","keys","adjustedPrefix","j","keyPrefix","set","valueSideChannel","opts","options","TypeError","normalizeStringifyOptions","arrayFormat","joined","GetIntrinsic","callBound","inspect","$TypeError","$WeakMap","$Map","$weakMapGet","$weakMapSet","$weakMapHas","$mapGet","$mapSet","$mapHas","listGetNode","list","curr","prev","next","$wm","$m","$o","channel","assert","objects","node","listGet","listHas","listSet","origSymbol","Symbol","hasSymbolSham","getOwnPropertySymbols","iterator","sym","symObj","toString","getOwnPropertyNames","syms","propertyIsEnumerable","getOwnPropertyDescriptor","descriptor","enumerable","ERROR_MESSAGE","slice","toStr","funcType","that","target","bound","args","arguments","binder","result","concat","boundLength","Math","max","boundArgs","Function","Empty","bind","callBind","$indexOf","name","allowMissing","intrinsic","$apply","$call","$reflectApply","$gOPD","$defineProperty","$max","e","originalFunction","func","desc","configurable","applyBind","hasMap","Map","mapSizeDescriptor","mapSize","mapForEach","hasSet","Set","setSizeDescriptor","setSize","setForEach","weakMapHas","WeakMap","weakSetHas","WeakSet","weakRefDeref","WeakRef","deref","booleanValueOf","Boolean","valueOf","objectToString","functionToString","$match","match","$slice","$replace","replace","$toUpperCase","toUpperCase","$toLowerCase","toLowerCase","$test","RegExp","test","$concat","$join","$arrSlice","$floor","floor","bigIntValueOf","BigInt","gOPS","symToString","hasShammedSymbols","toStringTag","isEnumerable","gPO","Reflect","getPrototypeOf","__proto__","O","addNumericSeparator","num","str","Infinity","sepRegex","int","intStr","dec","utilInspect","inspectCustom","custom","inspectSymbol","isSymbol","wrapQuotes","s","defaultStyle","quoteChar","quoteStyle","quote","isRegExp","inspect_","depth","seen","maxStringLength","customInspect","indent","parseInt","numericSeparator","inspectString","bigIntStr","maxDepth","baseIndent","base","getIndent","indexOf","from","noIndent","newOpts","f","m","nameOf","arrObjKeys","symString","markBoxed","x","HTMLElement","nodeName","getAttribute","isElement","attrs","attributes","childNodes","xs","singleLineValues","indentedJoin","isError","parts","Error","cause","isMap","mapParts","collectionOf","isSet","setParts","isWeakMap","weakCollectionOf","isWeakSet","isWeakRef","isNumber","Number","isBigInt","isBoolean","isString","isDate","ys","isPlainObject","constructor","protoTag","stringTag","tag","hasOwn","l","remaining","trailer","lowbyte","c","n","charCodeAt","size","entries","lineJoiner","isArr","symMap","k","allowPrototypes","allowSparse","arrayLimit","decoder","decode","ignoreQueryPrefix","interpretNumericEntities","parameterLimit","parseArrays","plainObjects","$0","numberStr","fromCharCode","parseArrayValue","val","parseKeys","givenKey","valuesParsed","child","segment","exec","parent","index","chain","leaf","root","create","cleanRoot","charAt","isNaN","parseObject","undefined","normalizeParseOptions","tempObj","cleanStr","limit","skipIndex","part","bracketEqualsPos","encodedVal","combine","parseValues","newObj","merge","compact","util","abi","TYPED_MESSAGE_SCHEMA","properties","types","additionalProperties","items","required","primaryType","domain","message","TypedDataUtils","encodeData","data","useV4","encodedTypes","encodedValues","hashType","encodeField","keccak","Buffer","lastIndexOf","parsedType","typeValuePairs","map","item","rawEncode","field","encodeType","deps","findTypeDependencies","dep","results","includes","hashStruct","sanitizeData","sanitizedData","assign","EIP712Domain","hash","typedData","hashForSignTypedDataLegacy","msgParams","error","toBuffer","schema","soliditySHA3","fill","typedSignatureHashLegacy","hashForSignTypedData_v3","hashForSignTypedData_v4","BN","elementaryName","parseTypeN","parseTypeNxM","tmp","parseTypeArray","parseNumber","arg","isHexString","stripHexPrefix","toArray","encodeSingle","ret","JSON","unshift","zeros","setLengthRight","bitLength","toArrayLike","toTwos","mul","pow","isDynamic","solidityPack","setLength","output","headLength","cur","filterFromParam","FilterPolyfill","types_1","util_1","JSONRPC_TEMPLATE","jsonrpc","id","provider","logFilters","blockFilters","pendingTransactionFilters","cursors","timeouts","nextFilterId","IntNumber","param","makeFilterId","setInitialCursorPosition","fromBlock","cursor","console","log","setFilterTimeout","hexStringFromIntNumber","add","filterId","intNumberFromHexString","deleteFilter","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","Promise","resolve","filterNotFoundError","sendAsyncPromise","method","params","paramFromFilter","request","reject","sendAsync","err","response","delete","cursorPosition","getCurrentBlockHeight","currentBlockHeight","toBlock","emptyResult","blocks","blockNumber","highestBlock","newCursorPosition","all","range","getBlockHashByNumber","_id","startBlock","initialCursorPosition","existing","window","clearTimeout","timeout","setTimeout","ensureHexString","intBlockHeightFromHexBlockHeight","addresses","address","topics","hexBlockHeightFromIntBlockHeight","code","JSONRPCMethod","SubscriptionManager","PollingBlockTracker","createSubscriptionManager","noop","blockTracker","pollingInterval","setSkipCacheFlag","events","middleware","subscriptionMiddleware","destroy","WalletSDKUI","LinkFlow_1","Snackbar_1","cssReset_1","standalone","attached","appSrc","snackbar","Snackbar","darkMode","linkFlow","LinkFlow","version","sessionId","session","sessionSecret","secret","linkAPIUrl","connected$","chainId$","isParentConnection","el","document","documentElement","container","createElement","className","appendChild","attach","injectCssReset","connectDisabled","setConnectDisabled","_options","open","onCancel","close","_","snackbarProps","isUnlinkedErrorState","autoExpand","menuItems","isRed","info","svgWidth","svgHeight","path","defaultFillRule","defaultClipRule","onClick","onResetConnection","presentItem","location","reload","_chainId","status","_a","preact_1","rxjs_1","ConnectDialog_1","extensionUI$","BehaviorSubject","subscriptions","Subscription","isConnected","chainId","isOpen","render","subscribe","unsubscribe","parentElement","removeChild","subscription","h","ConnectDialog","__importDefault","mod","__esModule","clsx_1","hooks_1","ConnectContent_1","TryExtensionContent_1","ConnectDialog_css_1","props","useState","containerHidden","setContainerHidden","dialogHidden","setDialogHidden","useEffect","timers","theme","class","default","ConnectContent","TryExtensionContent","CoinbaseAppSteps","CoinbaseWalletSteps","ConnectItem","version_1","CloseIcon_1","coinbase_round_svg_1","coinbase_wallet_round_svg_1","QRCodeIcon_1","QRLogoCoinbase_1","QRLogoWallet_1","StatusDotIcon_1","QRCode_1","Spinner_1","ConnectContent_css_1","wallets","title","description","icon","steps","makeIconColor","selected","src","alt","QRCodeIcon","StatusDotIcon","setSelected","handleSelect","useCallback","qrUrl","createQrUrl","app","WalletSteps","coinbaseApp","CloseIcon","QRCode","content","fgColor","bgColor","image","svg","LIB_VERSION","Spinner","color","viewBox","xmlns","d","qrcode_svg_1","setSvg","_b","qrcode","background","ecl","padding","base64","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","byteArray","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","getLength","buffer","write","put","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","qr_mc","createEmptyMovieClip","y","beginFill","moveTo","lineTo","endFill","getPatternPosition","bits","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","QRPolynomial","modIndex","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","a","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","abs","glog","LOG_TABLE","EXP_TABLE","shift","ratio","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","bufIndex","bit","QRCodeLimitLength","encodeURI","_getUTF8Length","len","table","_getTypeNumber","_getErrorCorrectLevel","opt","pretty","EOL","xsize","ysize","swap","xmlDeclaration","predefined","defs","bgrect","modrect","pathdata","px","py","t","w","isInteger","imgSvg","imgWidth","imgHeight","imgY","Spinner_css_1","style","cx","cy","stroke","ArrowLeftIcon_1","LaptopIcon_1","SafeIcon_1","TryExtensionContent_css_1","clicked","setClicked","handleInstallClick","handleClick","ArrowLeftIcon","LaptopIcon","SafeIcon","SnackbarInstance","SnackbarContainer","Snackbar_css_1","makeSnackbarIcon","nextItemKey","itemProps","clear","children","hidden","setHidden","expanded","setExpanded","action","cssReset_css_1","styleEl","createTextNode","__createBinding","o","k2","__setModuleDefault","__decorate","decorators","decorate","__importStar","WalletSDKRelay","bind_decorator_1","eth_rpc_errors_1","operators_1","DiagnosticLogger_1","WalletSDKConnection_1","WalletUIError_1","aes256gcm","Session_1","WalletSDKRelayAbstract_1","Web3Method_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","accountsCallback","chainCallback","dappDefaultChainSubject","dappDefaultChain","appName","appLogoUrl","storage","ui","connection","_session","relayEventManager","diagnosticLogger","eventListener","diagnostic","onEvent","_reloadOnDisconnect","reloadOnDisconnect","Session","load","save","WalletSDKConnection","sessionConfig$","sessionConfig","onSessionConfigChanged","EVENTS","GENERAL_ERROR","incomingEvent$","pipe","event","handleIncomingEvent","linked$","skip","tap","linked","isLinked","cachedAddresses","LOCAL_STORAGE_ADDRESSES_KEY","wasConnectedViaStandalone","sessionIdHash","getSessionIdHash","UNLINKED_ERROR_STATE","metadata","__destroyed","alreadyDestroyed","isDestroyed","METADATA_DESTROYED","resetAndReload","WalletUsername","mergeMap","decrypt","walletUsername","WALLET_USER_NAME_KEY","AppVersion","appVersion","APP_VERSION_KEY","ChainId","JsonRpcUrl","zip","distinctUntilChanged","jsonRpcUrl","EthereumAddress","selectedAddress","accountRequestCallbackIds","Web3ResponseMessage","RequestEthereumAccountsResponse","invokeCallback","AppSrc","setAppSrc","uiConstructor","connect","setSessionMetadata","catchError","of","_c","isStandalone","SESSION_STATE_CHANGE","sessionMetadataChange","storedSession","SKIPPED_CLEARING_SESSION","storedSessionIdHash","reloadUI","setStandalone","attachUI","FAILURE","addPrefix","typedDataJson","sendRequest","Web3Method","signEthereumMessage","hexStringFromBuffer","signature","ethereumAddressFromSignedMessage","signEthereumTransaction","fromAddress","toAddress","weiValue","bigIntStringFromBN","nonce","gasPriceInWei","maxFeePerGas","maxPriorityFeePerGas","gasLimit","shouldSubmit","signedTransaction","submitEthereumTransaction","regExp","scanQRCode","generic","hideSnackbarItem","randomBytesHex","cancel","publishWeb3RequestCanceledEvent","handleErrorResponse","promise","showConnecting","callbacks","errorMessage","sendRequestStandalone","publishWeb3RequestEvent","disabled","Web3RequestMessage","WEB3_REQUEST","eventId","isSessionMismatched","publishEvent","WEB3_REQUEST_PUBLISHED","handleWeb3ResponseMessage","Web3RequestCanceledMessage","callWebhook","Observable","subscriber","encrypt","origin","then","encrypted","complete","json","isWeb3ResponseMessage","WEB3_RESPONSE","isRequestEthereumAccountsResponse","errorCode","ErrorResponse","WalletUIError","UserRejectedRequest","callback","requestEthereumAccounts","hideRequestEthereumAccounts","userAgent","navigator","isInIFrame","top","href","encodeURIComponent","inlineAccountsResponse","onAccounts","accounts","ethErrors","userRejectedRequest","providerOptions","selectProvider","onApprove","selectedProviderKey","SelectProviderResponse","_error","ProviderType","Unselected","symbol","decimals","watchAsset","inlineWatchAsset","WatchAssetReponse","rpcUrls","iconUrls","blockExplorerUrls","chainName","nativeCurrency","addEthereumChain","inlineAddEthereumChain","AddEthereumChainResponse","isApproved","rpcUrl","switchEthereumChain","SwitchEthereumChainUnsupportedChainId","SwitchEthereumChainResponse","inlineSwitchEthereumChain","_cancel","onSuccess","_nextSessionConfig","WalletSDKRelayAbstract","ClientMessage_1","RxWebSocket_1","ServerMessage_1","HEARTBEAT_INTERVAL","sessionKey","WebSocketClass","WebSocket","destroyed","lastHeartbeatResponse","nextReqId","connectedSubject","linkedSubject","sessionConfigSubject","ReplaySubject","ws","RxWebSocket","connectionState$","state","CONNECTED_STATE_CHANGE","cs","ConnectionState","DISCONNECTED","delay","flatMap","retry","switchMap","iif","CONNECTED","authenticate","sendIsLinked","sendGetSessionConfig","connected","timer","updateLastHeartbeat","heartbeat","incomingData$","incomingJSONData$","msg","LINKED","onlineGuests","SESSION_CONFIG_RECEIVED","metadata_keys","webhookId","webhookUrl","STARTED_CONNECTING","disconnect","asObservable","take","sme","ClientMessageSetSessionConfig","onceConnected$","makeRequest","res","isServerMessageFail","ClientMessagePublishEvent","onceLinked$","sendData","now","reqId","throwError","timeoutWith","ClientMessageHostSession","ClientMessageIsLinked","ClientMessageGetSessionConfig","url","webSocket","connectionStateSubject","incomingDataSubject","Subject","obs","CONNECTING","onclose","evt","clearWebSocket","reason","onopen","onmessage","empty","send","onerror","plainText","ivBytes","crypto","getRandomValues","Uint8Array","subtle","importKey","hexStringToUint8Array","secretKey","enc","TextEncoder","iv","encryptedResult","authTag","byteLength","encryptedPlaintext","authTagBytes","encryptedPlaintextBytes","concatted","uint8ArrayToHex","cipherText","concattedBytes","algo","decrypted","TextDecoder","RelayMessage_1","RelayMessageType","WEB3_REQUEST_CANCELED","EthereumAddressFromSignedMessageResponse","SubmitEthereumTransactionResponse","SignEthereumTransactionResponse","SignEthereumMessageResponse","addResponse","switchResponse","success","signedData","txHash","WalletSDKRelayEventManager","_nextRequestId","idStr","prepend0x","CoinbaseWalletProvider","CoinbaseWalletSDK","CoinbaseWalletSDK_1","CoinbaseWalletProvider_1","CoinbaseWalletSDK_2","CoinbaseWalletProvider_2","WalletLink","WalletLinkProvider","ReflectOwnKeys","R","ReflectApply","receiver","ownKeys","NumberIsNaN","EventEmitter","init","once","emitter","errorListener","removeListener","resolver","eventTargetAgnosticAddListener","handler","flags","on","addErrorHandlerIfEventEmitter","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","_addListener","prepend","warning","newListener","emit","warned","warn","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","copy","addEventListener","wrapListener","removeEventListener","setMaxListeners","getMaxListeners","doError","er","context","listeners","addListener","prependListener","prependOnceListener","position","originalListener","pop","spliceOne","off","removeAllListeners","rawListeners","eventNames","Hash","blockSize","finalSize","_block","alloc","_finalSize","_blockSize","_len","update","block","accum","assigned","remainder","min","_update","digest","rem","writeUInt32BE","lowBits","highBits","_hash","getFavicon","isBigNumber","ensureParsedJSONObject","ensureBN","ensureRegExpString","ensureIntNumber","ensureBuffer","ensureAddressString","ensureEvenLengthHexString","strip0x","has0xPrefix","bn_js_1","qs_1","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","b","padStart","hex","includePrefix","HexString","toNumber","config","EUCLID","hexString","byte","buf","bn","BigIntString","AddressString","RegExpString","isBN","start","stop","querySelector","protocol","host","serverUrl","sessionIdKey","query","frameElement","algorithm","Algorithm","sha","sha1","sha224","sha256","sha384","sha512","inherits","K","W","Sha256","_w","ch","z","maj","sigma0","sigma1","gamma0","_d","_e","_f","_g","_h","M","g","readInt32BE","T1","T2","H","allocUnsafe","writeInt32BE","Sha512","Ch","xl","Gamma0","Gamma0l","Gamma1","Gamma1l","getCarry","_ah","_bh","_ch","_dh","_eh","_fh","_gh","_hh","_al","_bl","_cl","_dl","_el","_fl","_gl","_hl","ah","bh","dh","eh","fh","gh","hh","al","bl","cl","dl","fl","gl","hl","xh","gamma0l","gamma1","gamma1l","Wi7h","Wi7l","Wi16h","Wi16l","Wil","Wih","majh","majl","sigma0h","sigma0l","sigma1h","sigma1l","Kih","Kil","chh","chl","t1l","t1h","t2l","t2h","writeInt64BE","ctor","superCtor","super_","TempCtor","number","endian","negative","words","red","_init","wordSize","parseHex4Bits","string","parseHexByte","lowerBound","parseBase","end","move","dest","left","right","cmp","_initNumber","_initArray","_parseHex","_parseBase","ceil","_strip","limbLen","limbPow","total","word","imuln","_iaddn","_move","clone","_expand","_normSign","for","groupSizes","groupBases","out","carry","groupSize","groupBase","isZero","modrn","idivn","toJSON","smallMulTo","self","lo","ncarry","rword","maxJ","ArrayType","reqLength","allocate","_toArrayLikeLE","_toArrayLikeBE","clz32","_countBits","_zeroBits","hi","zeroBits","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","wbit","iadd","isub","sub","comb10MulTo","mid","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","FFTM","mulTo","makeRBT","N","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","rtwdf","cos","PI","itwdf","sin","p","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","odd","conjugate","normalize13b","round","convert13b","stub","ph","mulp","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","carryMask","newCarry","ishln","iushrn","hint","extended","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","andln","acc","modn","egcd","A","B","C","D","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","imulK","strip","input","outLen","mod3","one","nOne","lpow","inv","wnd","current","currentLen","mont","u","OpaqueType","Sha","rotl30","ft","Sha1","rotl5","Sha224","SHA512","Sha384","safe_event_emitter_1","eth_eip712_util_1","FilterPolyfill_1","JSONRPC_1","SubscriptionManager_1","DEFAULT_CHAIN_ID_KEY","DEFAULT_JSON_RPC_URL","_filterPolyfill","_subscriptionManager","_relay","_addresses","hasMadeFirstChainChangedEmission","_send","_sendAsync","setProviderInfo","updateProviderInfo","getChainId","setAppInfo","enable","_setAddresses","genericRequest","_chainIdFromOpts","_jsonRpcUrlFromOpts","_overrideIsMetaMask","overrideIsMetaMask","_relayProvider","relayProvider","_storage","_relayEventManager","isCoinbaseWallet","overrideIsCoinbaseWallet","isCoinbaseBrowser","overrideIsCoinbaseBrowser","supportsAddressSwitching","isLedger","chainIdStr","notification","initializeRelay","source","originalChainId","relay","isWhitelistedNetworkOrStandalone","_isAuthorized","ETH_ACCOUNTS_STATE","addresses_length","eth_requestAccounts","requestOrMethod","callbackOrParams","_sendRequestAsync","_sendRequest","req","arrayCb","_sendMultipleRequestsAsync","responses","catch","cb","rpc","invalidRequest","newParams","makeRequestId","_handleSynchronousMethods","isDisconnect","newAddresses","syncResult","filterPromise","_handleAsynchronousFilterMethods","subscriptionPromise","_handleSubscriptionMethods","_handleAsynchronousMethods","requests","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","eth_chainId","_eth_chainId","eth_sign","eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","cbWallet_arbitrary","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","_eth_requestAccounts","_eth_sign","_eth_ecRecover","_personal_sign","_personal_ecRecover","_eth_signTransaction","_eth_sendRawTransaction","_eth_sendTransaction","_eth_signTypedData_v1","_throwUnsupportedMethodError","_eth_signTypedData_v3","_eth_signTypedData_v4","_cbwallet_arbitrary","_wallet_addEthereumChain","_wallet_switchEthereumChain","_wallet_watchAsset","makeEthereumJSONRPCRequest","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","eth_subscribe","eth_unsubscribe","handleRequest","addressString","addressStr","_isKnownAddress","UNKNOWN_ADDRESS_ENCOUNTERED","tx","_ensureKnownAddress","to","gasPrice","gas","unauthorized","unsupportedMethod","_requireAuthorization","_signEthereumMessage","_ethereumAddressFromSignedMessage","_prepareTransactionParams","signAndSubmitEthereumTransaction","typedDataJSON","trim","chainIdNumber","invalidParams","uninstallFilter","newFilter","newBlockFilter","newPendingTransactionFilter","getFilterChanges","getFilterLogs","setAccountsCallback","setChainCallback","setDappDefaultChainCallback","sha_js_1","STORAGE_KEY_SESSION_ID","STORAGE_KEY_SESSION_SECRET","STORAGE_KEY_SESSION_LINKED","_secret","_key","_linked","persistLinked","fromEvent","oldValue","newValue","$SyntaxError","SyntaxError","$Function","getEvalledConstructor","expressionSyntax","throwTypeError","ThrowTypeError","calleeThrows","gOPDthrows","hasSymbols","getProto","needsEval","TypedArray","INTRINSICS","AggregateError","ArrayBuffer","Atomics","DataView","decodeURI","decodeURIComponent","eval","EvalError","Float32Array","Float64Array","FinalizationRegistry","Int8Array","Int16Array","Int32Array","isFinite","parseFloat","Proxy","ReferenceError","SharedArrayBuffer","Uint8ClampedArray","Uint16Array","Uint32Array","URIError","doEval","fn","gen","LEGACY_ALIASES","$spliceApply","splice","$strSlice","$exec","rePropName","reEscapeChar","stringToPath","first","last","subString","getBaseIntrinsic","alias","intrinsicName","intrinsicBaseName","intrinsicRealName","skipFurtherCaching","isOwn","implementation","percentTwenties","Format","RFC1738","RFC3986","wallet_logo_1","ScopedLocalStorage_1","WalletSDKUI_1","WalletSDKRelay_1","WalletSDKRelayEventManager_1","LINK_API_URL","process","SDK_VERSION","_appName","_appLogoUrl","_overrideIsCoinbaseWallet","_overrideIsCoinbaseBrowser","_diagnosticLogger","URL","VERSION","walletExtension","coinbaseBrowser","headlessMode","extension","isCipherProvider","disableReloadOnDisconnect","dappBrowser","getQrUrl","getQRCodeUrl","coinbaseWalletExtension","walletLinkExtension","ethereum","isCipher","FALLBACK_ERROR","serialized","hexTable","array","arrayToObject","reduce","queue","prop","refs","compacted","compactQueue","strWithoutPlus","unescape","defaultEncoder","kind","escape","mapped","mergeTarget","targetItem","fetch","body","headers","serializeError","createKeccakHash","bytes","intToBuffer","bufferToHex"],"mappings":"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iB,KAAKohB,SAASqB,mBAAmBD,EACrC,GACA,8BACA,SAAiBE,GACb,GAEJ,wBACA,SAAWA,GACP,GAEJ,iCACA,SAAoBA,GAChB,GACH,qCACD,SAAwBld,GACpBxF,KAAKohB,SAASuB,KAAK,CAAEC,SAAUpd,EAAQod,UAC3C,GAAC,yCACD,WACI5iB,KAAKohB,SAASyB,OAClB,GACA,iCACA,SAAoBC,GAChB,GAEJ,qCACA,SAAwBA,GACpB,GAEJ,uCACA,SAA0BA,GACtB,GAEJ,8CACA,SAAiCA,GAC7B,GACH,4BACD,SAAetd,GACX,IAAIud,EAgDJ,OA9CIA,EADAvd,EAAQwd,qBACQ,CACZC,YAAY,EACZ/L,QAAS,kBACT8J,OAAQhhB,KAAKghB,OACbkC,UAAW,CACP,CACIC,OAAO,EACPC,KAAM,mBACNC,SAAU,KACVC,UAAW,KACXC,KAAM,0gBACNC,gBAAiB,UACjBC,gBAAiB,UACjBC,QAASle,EAAQme,qBAMb,CACZzM,QAAS,mBACT8J,OAAQhhB,KAAKghB,OACbkC,UAAW,CACP,CACIC,OAAO,EACPC,KAAM,qBACNC,SAAU,KACVC,UAAW,KACXC,KAAM,uNACNC,gBAAiB,UACjBC,gBAAiB,UACjBC,QAASle,EAAQod,UAErB,CACIO,OAAO,EACPC,KAAM,mBACNC,SAAU,KACVC,UAAW,KACXC,KAAM,0gBACNC,gBAAiB,UACjBC,gBAAiB,UACjBC,QAASle,EAAQme,qBAK1B3jB,KAAKihB,SAAS2C,YAAYb,EACrC,GACA,uBACA,SAAU/B,GACNhhB,KAAKghB,OAASA,CAClB,GACA,sBACA,WACIgB,SAAS6B,SAASC,QACtB,GACA,oCACA,WACI,OAAO,CACX,GACA,oCACA,SAAuBC,GACnB,OAAO,CACX,GACA,8BACA,WACI,OAAO,CACX,GACA,uCACA,WACI,OAAO,CACX,GACA,2BACA,SAAcC,GACVhkB,KAAK8gB,WAAakD,CACtB,GACA,0BACA,WACI,IAAIC,EACJ,OAAkC,QAA1BA,EAAKjkB,KAAK8gB,kBAA+B,IAAPmD,GAAgBA,CAC9D,KAAC,EAxJY,GA0JjB1kB,EAAQmhB,YAAcA,C,oCC9JtB,sCACArhB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ8hB,cAAW,EACnB,IAAM6C,EAAWnjB,EAAQ,KACnBojB,EAASpjB,EAAQ,KACjBqjB,EAAkBrjB,EAAQ,MAC1BsgB,EAAQ,WACV,WAAY7b,GAAS,UACjBxF,KAAKqkB,aAAe,IAAIF,EAAOG,gBAAgB,CAAC,GAChDtkB,KAAKukB,cAAgB,IAAIJ,EAAOK,aAChCxkB,KAAKykB,aAAc,EACnBzkB,KAAK0kB,QAAU,EACf1kB,KAAK2kB,QAAS,EACd3kB,KAAK4iB,SAAW,KAChB5iB,KAAKoV,KAAO,KAEZpV,KAAKwiB,iBAAkB,EACvBxiB,KAAKmhB,SAAW3b,EAAQ2b,SACxBnhB,KAAKshB,QAAU9b,EAAQ8b,QACvBthB,KAAKuhB,UAAY/b,EAAQ+b,UACzBvhB,KAAKyhB,cAAgBjc,EAAQic,cAC7BzhB,KAAK2hB,WAAanc,EAAQmc,WAC1B3hB,KAAK8hB,mBAAqBtc,EAAQsc,mBAClC9hB,KAAK4hB,WAAapc,EAAQoc,WAC1B5hB,KAAK6hB,SAAWrc,EAAQqc,QAC5B,CAoDC,OApDA,yBACD,SAAOE,GAAI,WACP/hB,KAAKoV,KAAO4M,SAASG,cAAc,OACnCniB,KAAKoV,KAAKgN,UAAY,yBACtBL,EAAGM,YAAYriB,KAAKoV,MACpBpV,KAAK4kB,SACL5kB,KAAKukB,cAAcxH,IAAI/c,KAAK4hB,WAAWiD,WAAU,SAAA5gB,GACzC,EAAKwgB,cAAgBxgB,IACrB,EAAKwgB,YAAcxgB,EACnB,EAAK2gB,SAEb,KACA5kB,KAAKukB,cAAcxH,IAAI/c,KAAK6hB,SAASgD,WAAU,SAAAH,GACvC,EAAKA,UAAYA,IACjB,EAAKA,QAAUA,EACf,EAAKE,SAEb,IACJ,GAAC,oBACD,WACI,IAAIX,EACCjkB,KAAKoV,OAGVpV,KAAKukB,cAAcO,eACnB,EAAIZ,EAASU,QAAQ,KAAM5kB,KAAKoV,MACG,QAAlC6O,EAAKjkB,KAAKoV,KAAK2P,qBAAkC,IAAPd,GAAyBA,EAAGe,YAAYhlB,KAAKoV,MAC5F,GAAC,gCACD,SAAmBoN,GACfxiB,KAAKwiB,gBAAkBA,CAC3B,GAAC,kBACD,SAAKhd,GACDxF,KAAK2kB,QAAS,EACd3kB,KAAK4iB,SAAWpd,EAAQod,SACxB5iB,KAAK4kB,QACT,GAAC,mBACD,WACI5kB,KAAK2kB,QAAS,EACd3kB,KAAK4iB,SAAW,KAChB5iB,KAAK4kB,QACT,GAAC,oBACD,WAAS,WACL,GAAK5kB,KAAKoV,KAAV,CAGA,IAAM6P,EAAejlB,KAAKqkB,aAAaQ,WAAU,WACxC,EAAKzP,OAGV,EAAI8O,EAASU,SAAQ,EAAIV,EAASgB,GAAGd,EAAgBe,cAAe,CAAEhE,SAAU,EAAKA,SAAUG,QAAS,EAAKA,QAASC,UAAW,EAAKA,UAAWE,cAAe,EAAKA,cAAeE,WAAY,EAAKA,WAAYgD,OAAQ,EAAKA,OAAQF,YAAa,EAAKA,YAAa3C,mBAAoB,EAAKA,mBAAoB4C,QAAS,EAAKA,QAAS9B,SAAU,EAAKA,SAAUJ,gBAAiB,EAAKA,kBAAoB,EAAKpN,KACrZ,IACApV,KAAKukB,cAAcxH,IAAIkI,EAPvB,CAQJ,KAAC,EAvES,GAyEd1lB,EAAQ8hB,SAAWA,C,oCC/EnB,qBACI+D,EAAmBplB,MAAQA,KAAKolB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhmB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4lB,mBAAgB,EACxB,IAAMI,EAASH,EAAgBrkB,EAAQ,KACjCmjB,EAAWnjB,EAAQ,KACnBykB,EAAUzkB,EAAQ,KAClB0kB,EAAmB1kB,EAAQ,MAC3B2kB,EAAwB3kB,EAAQ,MAChC4kB,EAAsBP,EAAgBrkB,EAAQ,OAgCpDxB,EAAQ4lB,cA/Bc,SAACS,GACnB,IAAQjB,EAAqBiB,EAArBjB,OAAQxD,EAAayE,EAAbzE,SAChB,GAA8C,EAAIqE,EAAQK,WAAWlB,GAAO,SAArEmB,EAAe,KAAEC,EAAkB,KAC1C,GAAwC,EAAIP,EAAQK,WAAWlB,GAAO,SAA/DqB,EAAY,KAAEC,EAAe,MACpC,EAAIT,EAAQU,YAAW,WACnB,IAAMC,EAAS,CACXhH,OAAOG,YAAW,WACd2G,GAAiBtB,EACrB,GAAG,KAUP,OARIA,EACAoB,GAAmB,GAGnBI,EAAOvlB,KAAKue,OAAOG,YAAW,WAC1ByG,GAAmB,EACvB,GAAG,MAEA,WACHI,EAAOtlB,QAAQse,OAAOC,aAC1B,CACJ,GAAG,CAACwG,EAAMjB,SACV,IAAMyB,EAAQjF,EAAW,OAAS,QAClC,OAAQ,EAAI+C,EAASgB,GAAG,MAAO,CAAEmB,OAAO,EAAId,EAAOe,SAAS,mCAAoCR,GAAmB,6CAC/G,EAAI5B,EAASgB,GAAG,QAAS,KAAMS,EAAoBW,UACnD,EAAIpC,EAASgB,GAAG,MAAO,CAAEmB,OAAO,EAAId,EAAOe,SAAS,kCAAmCF,EAAOJ,GAAgB,6CAC9G,EAAI9B,EAASgB,GAAG,MAAO,CAAEmB,MAAO,2BAC5B,EAAInC,EAASgB,GAAG,MAAO,CAAEmB,OAAO,EAAId,EAAOe,SAAS,6BAA8BN,GAAgB,sCAC7FJ,EAAMpD,gBAA+U,MAA5T,EAAI0B,EAASgB,GAAGO,EAAiBc,eAAgB,CAAEH,MAAOA,EAAO9E,QAASsE,EAAMtE,QAASC,UAAWqE,EAAMrE,UAAWE,cAAemE,EAAMnE,cAAeE,WAAYiE,EAAMjE,WAAY8C,YAAamB,EAAMnB,YAAa3C,mBAAoB8D,EAAM9D,mBAAoB4C,QAASkB,EAAMlB,QAAS9B,SAAUgD,EAAMhD,YACvU,EAAIsB,EAASgB,GAAGQ,EAAsBc,oBAAqB,CAAEJ,MAAOA,MACpF,C,oCC1CA,qBACIhB,EAAmBplB,MAAQA,KAAKolB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhmB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQknB,iBAAmBlnB,EAAQmnB,oBAAsBnnB,EAAQonB,YAAcpnB,EAAQgnB,oBAAiB,EACxG,IAAMhB,EAASH,EAAgBrkB,EAAQ,KACjCmjB,EAAWnjB,EAAQ,KACnBykB,EAAUzkB,EAAQ,KAClB2a,EAAS3a,EAAQ,KACjB6lB,EAAY7lB,EAAQ,MACpB8lB,EAAc9lB,EAAQ,MACtB+lB,EAAuB1B,EAAgBrkB,EAAQ,OAC/CgmB,EAA8B3B,EAAgBrkB,EAAQ,OACtDimB,EAAejmB,EAAQ,MACvBkmB,EAAmB7B,EAAgBrkB,EAAQ,OAC3CmmB,EAAiB9B,EAAgBrkB,EAAQ,OACzComB,EAAkBpmB,EAAQ,MAC1BqmB,EAAWrmB,EAAQ,MACnBsmB,EAAYtmB,EAAQ,MACpBumB,EAAuBlC,EAAgBrkB,EAAQ,OAC/CwmB,EAAU,CACZ,sBAAuB,CACnBC,MAAO,sBACPC,YAAa,wCACbC,KAAMX,EAA4BT,QAClCqB,MAAOjB,GAEX,eAAgB,CACZc,MAAO,eACPC,YAAa,qCACbC,KAAMZ,EAAqBR,QAC3BqB,MAAOlB,IAYTmB,EAAgB,SAACxB,GACnB,MAAiB,UAAVA,EAAoB,UAAY,SAC3C,EA4CA,SAASO,EAAY,GAAyD,IAAvDa,EAAK,EAALA,MAAOC,EAAW,EAAXA,YAAaC,EAAI,EAAJA,KAAMG,EAAQ,EAARA,SAAUzB,EAAK,EAALA,MAAO1C,EAAO,EAAPA,QAC9D,OAAQ,EAAIQ,EAASgB,GAAG,MAAO,CAAExB,QAASA,EAAS2C,OAAO,EAAId,EAAOe,SAAS,uBAAwBF,EAAO,CAAEyB,eAC3G,EAAI3D,EAASgB,GAAG,MAAO,MACnB,EAAIhB,EAASgB,GAAG,MAAO,CAAE4C,IAAKJ,EAAMK,IAAKP,MAC7C,EAAItD,EAASgB,GAAG,MAAO,CAAEmB,MAAO,sCAC5B,EAAInC,EAASgB,GAAG,KAAM,CAAEmB,MAAO,8BAAgCmB,IAC/D,EAAItD,EAASgB,GAAG,IAAK,CAAEmB,MAAO,oCAAsCoB,IAChF,CAEA,SAASf,EAAoB,GAAW,IAATN,EAAK,EAALA,MAC3B,OAAQ,EAAIlC,EAASgB,GAAG,KAAM,CAAEmB,MAAO,yBACnC,EAAInC,EAASgB,GAAG,KAAM,CAAEmB,OAAO,EAAId,EAAOe,SAAS,4BAA6BF,KAC5E,EAAIlC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,qCAAuC,8BAC3E,EAAInC,EAASgB,GAAG,KAAM,CAAEmB,OAAO,EAAId,EAAOe,SAAS,4BAA6BF,KAC5E,EAAIlC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,sCAC5B,EAAInC,EAASgB,GAAG,OAAQ,KACpB,QACA,EAAIhB,EAASgB,GAAG,SAAU,KAAM,QAChC,MACJ,EAAIhB,EAASgB,GAAG,OAAQ,CAAEmB,OAAO,EAAId,EAAOe,SAAS,gCAAiC,4BAA6BF,KAC/G,EAAIlC,EAASgB,GAAG8B,EAAagB,WAAY,CAAEzO,KAAMqO,EAAcxB,QACnF,CAEA,SAASK,EAAiB,GAAW,IAATL,EAAK,EAALA,MACxB,OAAQ,EAAIlC,EAASgB,GAAG,KAAM,CAAEmB,MAAO,yBACnC,EAAInC,EAASgB,GAAG,KAAM,CAAEmB,OAAO,EAAId,EAAOe,SAAS,4BAA6BF,KAC5E,EAAIlC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,qCAAuC,uBAC3E,EAAInC,EAASgB,GAAG,KAAM,CAAEmB,OAAO,EAAId,EAAOe,SAAS,4BAA6BF,KAC5E,EAAIlC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,sCAC5B,EAAInC,EAASgB,GAAG,OAAQ,KACpB,QACA,EAAIhB,EAASgB,GAAG,SAAU,KAAM,UACpC,EAAIhB,EAASgB,GAAG,OAAQ,CAAEmB,OAAO,EAAId,EAAOe,SAAS,gCAAiC,4BAA6BF,KAC/G,EAAIlC,EAASgB,GAAGiC,EAAgBc,cAAe,CAAE1O,KAAMqO,EAAcxB,OACzE,EAAIlC,EAASgB,GAAG,OAAQ,CAAEmB,MAAO,iCAC7B,SACA,EAAInC,EAASgB,GAAG,SAAU,KAAM,UACpC,EAAIhB,EAASgB,GAAG,OAAQ,CAAEmB,OAAO,EAAId,EAAOe,SAAS,gCAAiC,4BAA6BF,KAC/G,EAAIlC,EAASgB,GAAG8B,EAAagB,WAAY,CAAEzO,KAAMqO,EAAcxB,QACnF,CAxCA7mB,EAAQgnB,eA1CR,SAAwBX,GACpB,IAAQQ,EAAUR,EAAVQ,MACR,GAAgC,EAAIZ,EAAQK,UAAU,uBAAsB,SAArEgC,EAAQ,KAAEK,EAAW,KACtBC,GAAe,EAAI3C,EAAQ4C,cAAa,SAACvM,GAC3CqM,EAAYrM,EAChB,GAAG,IACGwM,GAAQ,EAAI3M,EAAO4M,aAAa1C,EAAMrE,UAAWqE,EAAMnE,cAAemE,EAAMjE,WAAYiE,EAAM9D,mBAAoB8D,EAAMtE,QAASsE,EAAMlB,SAE7I,IAAKmD,EACD,OAAO,KAEX,IAvBqBU,EAuBfC,EAJSjB,EAAQM,GAIIF,MACrBc,EAA2B,iBAAbZ,EACpB,OAAQ,EAAI3D,EAASgB,GAAG,MAAO,CAAE,cAAe,kBAAmBmB,OAAO,EAAId,EAAOe,SAAS,0BAA2BF,KACrH,EAAIlC,EAASgB,GAAG,QAAS,KAAMoC,EAAqBhB,UACpD,EAAIpC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,mCAC5B,EAAInC,EAASgB,GAAG,KAAM,CAAEmB,OAAO,EAAId,EAAOe,SAAS,kCAAmCF,IAAU,+CAChGR,EAAMhD,WAAa,EAAIsB,EAASgB,GAAG,SAAU,CAAExlB,KAAM,SAAU2mB,MAAO,wBAAyB3C,QAASkC,EAAMhD,WAC1G,EAAIsB,EAASgB,GAAG2B,EAAY6B,UAAW,CAAEnP,KAAgB,UAAV6M,EAAoB,UAAY,eACvF,EAAIlC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,mCAC5B,EAAInC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,wCAC5B,EAAInC,EAASgB,GAAG,MAAO,KAAM7lB,OAAOiU,QAAQiU,GAASvP,KAAI,YAAkB,aAAhB/X,EAAG,KAAET,EAAK,KACjE,OAAQ,EAAI0kB,EAASgB,GAAGyB,EAAa,CAAE1mB,IAAKA,EAAKunB,MAAOhoB,EAAMgoB,MAAOC,YAAajoB,EAAMioB,YAAaC,KAAMloB,EAAMkoB,KAAMG,SAAUA,IAAa5nB,EAAKyjB,QAAS,kBAAMyE,EAAaloB,EAAI,EAAEmmB,MAAOA,GAChM,KACAqC,IAAgB,EAAIvE,EAASgB,GAAG,MAAO,CAAEmB,OAAO,EAAId,EAAOe,SAAS,qCAAsCF,IACtG,qBACA,EAAIlC,EAASgB,GAAG,SAAU,KAAM,QAChC,4EACR,EAAIhB,EAASgB,GAAG,MAAO,CAAEmB,MAAO,yCAC5B,EAAInC,EAASgB,GAAG,MAAO,CAAEmB,MAAO,uCAC5B,EAAInC,EAASgB,GAAGkC,EAASuB,OAAQ,CAAEC,QAASP,EAAO1oB,MAAO,IAAKC,OAAQ,IAAKipB,QAAS,OAAQC,QAAS,cAAeC,MAAO,CACpHC,KA3CHT,EA2CwBV,EAzCpC,iBADDU,EAEOtB,EAAiBX,QAGjBY,EAAeZ,SAsCN3mB,MAAO,GACPC,OAAQ,OAEhB,EAAIskB,EAASgB,GAAG,QAAS,CAAExlB,KAAM,SAAUiK,KAAM,qBAAsBnK,MAAOonB,EAAUqC,eACxF,EAAI/E,EAASgB,GAAG,QAAS,CAAExlB,KAAM,SAAUF,MAAO6oB,MACtD,EAAInE,EAASgB,GAAGsD,EAAa,CAAEpC,MAAOA,KACrCR,EAAMnB,cAAgB,EAAIP,EAASgB,GAAG,MAAO,CAAE,cAAe,qBAAsBmB,OAAO,EAAId,EAAOe,SAAS,wCAAyCF,KACrJ,EAAIlC,EAASgB,GAAGmC,EAAU6B,QAAS,CAAE7V,KAAM,GAAI8V,MAAiB,SAAV/C,EAAmB,OAAS,UAClF,EAAIlC,EAASgB,GAAG,IAAK,KAAM,oBAC/C,EAUA3lB,EAAQonB,YAAcA,EActBpnB,EAAQmnB,oBAAsBA,EAkB9BnnB,EAAQknB,iBAAmBA,C,oCCnI3BpnB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0pB,iBAAc,EACtB1pB,EAAQ0pB,YAAc,O,oCCFtB5pB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmpB,eAAY,EACpB,IAAMxE,EAAWnjB,EAAQ,KAKzBxB,EAAQmpB,UAJR,SAAmB9C,GACf,OAAQ,EAAI1B,EAASgB,GAAG,MAAO7lB,OAAOwZ,OAAO,CAAElZ,MAAO,KAAMC,OAAQ,KAAMwpB,QAAS,YAAa7P,KAAM,OAAQ8P,MAAO,8BAAgCzD,IACjJ,EAAI1B,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,kMACrC,C,oCCJAjqB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+mB,QAAU,glB,oCCDlBjnB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+mB,QAAU,43B,oCCHlBjnB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyoB,gBAAa,EACrB,IAAM9D,EAAWnjB,EAAQ,KAazBxB,EAAQyoB,WAZR,SAAoBpC,GAChB,OAAQ,EAAI1B,EAASgB,GAAG,MAAO7lB,OAAOwZ,OAAO,CAAElZ,MAAO,KAAMC,OAAQ,KAAMwpB,QAAS,YAAaC,MAAO,8BAAgCzD,IACnI,EAAI1B,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,4DAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,2JAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,uEAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,6KAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,4DAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,2JAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,uIAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,uDAC7B,EAAIpF,EAASgB,GAAG,OAAQ,CAAEoE,EAAG,sDACrC,C,oCCdAjqB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAQtDD,EAAQ+mB,QAPI,w5B,oCCDZjnB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+mB,QAAU,o0B,oCCDlBjnB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ0oB,mBAAgB,EACxB,IAAM/D,EAAWnjB,EAAQ,KAKzBxB,EAAQ0oB,cAJR,SAAuBrC,GACnB,OAAQ,EAAI1B,EAASgB,GAAG,MAAO7lB,OAAOwZ,OAAO,CAAElZ,MAAO,KAAMC,OAAQ,KAAMwpB,QAAS,YAAaC,MAAO,8BAAgCzD,IACnI,EAAI1B,EAASgB,GAAG,OAAQ,CAAE,YAAa,UAAW,YAAa,UAAWoE,EAAG,6nBACrF,C,qCCPA,YAEA,qBACIlE,EAAmBplB,MAAQA,KAAKolB,iBAAoB,SAAUC,GAC9D,OAAQA,GAAOA,EAAIC,WAAcD,EAAM,CAAE,QAAWA,EACxD,EACAhmB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQopB,YAAS,EACjB,IAAMzE,EAAWnjB,EAAQ,KACnBykB,EAAUzkB,EAAQ,KAClBwoB,EAAenE,EAAgBrkB,EAAQ,OAqB7CxB,EAAQopB,OApBO,SAAA/C,GACX,OAAsB,EAAIJ,EAAQK,UAAU,IAAG,SAAxCmD,EAAG,KAAEQ,EAAM,KAiBlB,OAhBA,EAAIhE,EAAQU,YAAW,WACnB,IAAIjC,EAAIwF,EACFC,EAAS,IAAIH,EAAajD,QAAQ,CACpCsC,QAAShD,EAAMgD,QACfe,WAAY/D,EAAMkD,SAAW,UAC7BK,MAAOvD,EAAMiD,SAAW,UACxB3G,UAAW,MACX0H,IAAK,IACLjqB,MAA8B,QAAtBskB,EAAK2B,EAAMjmB,aAA0B,IAAPskB,EAAgBA,EAAK,IAC3DrkB,OAAgC,QAAvB6pB,EAAK7D,EAAMhmB,cAA2B,IAAP6pB,EAAgBA,EAAK,IAC7DI,QAAS,EACTd,MAAOnD,EAAMmD,QAEXe,EAASlS,EAAO5H,KAAK0Z,EAAOV,MAAO,QAAQjhB,SAAS,UAC1DyhB,EAAO,6BAAD,OAA8BM,GACxC,IACOd,GAAM,EAAI9E,EAASgB,GAAG,MAAO,CAAE4C,IAAKkB,EAAKjB,IAAK,YAAe,IACxE,C,gDCDA,SAASgC,EAAW1S,GAClBrX,KAAKgqB,KAAOC,EAAOC,eACnBlqB,KAAKqX,KAAOA,EACZrX,KAAKmqB,WAAa,GAGlB,IAAK,IAAI1pB,EAAI,EAAGqS,EAAI9S,KAAKqX,KAAK3W,OAAQD,EAAIqS,EAAGrS,IAAK,CAChD,IAAI2pB,EAAY,GACZvK,EAAO7f,KAAKqX,KAAKjE,WAAW3S,GAE5Bof,EAAO,OACTuK,EAAU,GAAK,KAAgB,QAAPvK,KAAqB,GAC7CuK,EAAU,GAAK,KAAgB,OAAPvK,KAAoB,GAC5CuK,EAAU,GAAK,KAAgB,KAAPvK,KAAkB,EAC1CuK,EAAU,GAAK,IAAe,GAAPvK,GACdA,EAAO,MAChBuK,EAAU,GAAK,KAAgB,MAAPvK,KAAmB,GAC3CuK,EAAU,GAAK,KAAgB,KAAPvK,KAAkB,EAC1CuK,EAAU,GAAK,IAAe,GAAPvK,GACdA,EAAO,KAChBuK,EAAU,GAAK,KAAgB,KAAPvK,KAAkB,EAC1CuK,EAAU,GAAK,IAAe,GAAPvK,GAEvBuK,EAAU,GAAKvK,EAGjB7f,KAAKmqB,WAAWvpB,KAAKwpB,EACvB,CAEApqB,KAAKmqB,WAAaroB,MAAMR,UAAU2H,OAAO7G,MAAM,GAAIpC,KAAKmqB,YAEpDnqB,KAAKmqB,WAAWzpB,QAAUV,KAAKqX,KAAK3W,SACtCV,KAAKmqB,WAAW1P,QAAQ,KACxBza,KAAKmqB,WAAW1P,QAAQ,KACxBza,KAAKmqB,WAAW1P,QAAQ,KAE5B,CAaA,SAAS4P,EAAYC,EAAYC,GAC/BvqB,KAAKsqB,WAAaA,EAClBtqB,KAAKuqB,kBAAoBA,EACzBvqB,KAAKwqB,QAAU,KACfxqB,KAAKyqB,YAAc,EACnBzqB,KAAK0qB,UAAY,KACjB1qB,KAAK2qB,SAAW,EAClB,CAlBAZ,EAAWzoB,UAAY,CACrBspB,UAAW,SAAUC,GACnB,OAAO7qB,KAAKmqB,WAAWzpB,MACzB,EACAoqB,MAAO,SAAUD,GACf,IAAK,IAAIpqB,EAAI,EAAGqS,EAAI9S,KAAKmqB,WAAWzpB,OAAQD,EAAIqS,EAAGrS,IACjDoqB,EAAOE,IAAI/qB,KAAKmqB,WAAW1pB,GAAI,EAEnC,GAYF4pB,EAAY/oB,UAAU,CAAC0pB,QAAQ,SAAS3T,GAAM,IAAI4T,EAAQ,IAAIlB,EAAW1S,GAAMrX,KAAK2qB,SAAS/pB,KAAKqqB,GAASjrB,KAAK0qB,UAAU,IAAK,EAAEQ,OAAO,SAASC,EAAIC,GAAK,GAAGD,EAAI,GAAGnrB,KAAKyqB,aAAaU,GAAKC,EAAI,GAAGprB,KAAKyqB,aAAaW,EAAK,MAAM,IAAI9Z,MAAM6Z,EAAI,IAAIC,GACjP,OAAOprB,KAAKwqB,QAAQW,GAAKC,EAAK,EAAEC,eAAe,WAAW,OAAOrrB,KAAKyqB,WAAY,EAAEa,KAAK,WAAWtrB,KAAKurB,UAAS,EAAMvrB,KAAKwrB,qBAAsB,EAAED,SAAS,SAAS5e,EAAK8e,GAAazrB,KAAKyqB,YAA4B,EAAhBzqB,KAAKsqB,WAAa,GAAGtqB,KAAKwqB,QAAQ,IAAI1oB,MAAM9B,KAAKyqB,aAAa,IAAI,IAAIU,EAAI,EAAEA,EAAInrB,KAAKyqB,YAAYU,IAAM,CAACnrB,KAAKwqB,QAAQW,GAAK,IAAIrpB,MAAM9B,KAAKyqB,aAAa,IAAI,IAAIW,EAAI,EAAEA,EAAIprB,KAAKyqB,YAAYW,IAAOprB,KAAKwqB,QAAQW,GAAKC,GAAK,IAAM,CACvaprB,KAAK0rB,0BAA0B,EAAE,GAAG1rB,KAAK0rB,0BAA0B1rB,KAAKyqB,YAAY,EAAE,GAAGzqB,KAAK0rB,0BAA0B,EAAE1rB,KAAKyqB,YAAY,GAAGzqB,KAAK2rB,6BAA6B3rB,KAAK4rB,qBAAqB5rB,KAAK6rB,cAAclf,EAAK8e,GAAgBzrB,KAAKsqB,YAAY,GAAGtqB,KAAK8rB,gBAAgBnf,GACxQ,MAAhB3M,KAAK0qB,YAAiB1qB,KAAK0qB,UAAUL,EAAY0B,WAAW/rB,KAAKsqB,WAAWtqB,KAAKuqB,kBAAkBvqB,KAAK2qB,WAC3G3qB,KAAKgsB,QAAQhsB,KAAK0qB,UAAUe,EAAa,EAAEC,0BAA0B,SAASP,EAAIC,GAAK,IAAI,IAAIa,GAAG,EAAEA,GAAG,EAAEA,IAAK,KAAGd,EAAIc,IAAI,GAAGjsB,KAAKyqB,aAAaU,EAAIc,GAAW,IAAI,IAAI/Y,GAAG,EAAEA,GAAG,EAAEA,IAAQkY,EAAIlY,IAAI,GAAGlT,KAAKyqB,aAAaW,EAAIlY,IAAgGlT,KAAKwqB,QAAQW,EAAIc,GAAGb,EAAIlY,GAAzG,GAAG+Y,GAAGA,GAAG,IAAO,GAAH/Y,GAAS,GAAHA,IAAS,GAAGA,GAAGA,GAAG,IAAO,GAAH+Y,GAAS,GAAHA,IAAS,GAAGA,GAAGA,GAAG,GAAG,GAAG/Y,GAAGA,GAAG,EAA8E,EAAEsY,mBAAmB,WAA4C,IAAjC,IAAIU,EAAa,EAAMC,EAAQ,EAAU1rB,EAAE,EAAEA,EAAE,EAAEA,IAAI,CAACT,KAAKurB,UAAS,EAAK9qB,GAAG,IAAI2rB,EAAUC,EAAOC,aAAatsB,OAAY,GAAHS,GAAMyrB,EAAaE,KAAWF,EAAaE,EAAUD,EAAQ1rB,EAAG,CACzlB,OAAO0rB,CAAQ,EAAEI,gBAAgB,SAASC,EAAUC,EAAcvd,GAAO,IAAIwd,EAAMF,EAAUG,qBAAqBF,EAAcvd,GAAgBlP,KAAKsrB,OAAO,IAAI,IAAIH,EAAI,EAAEA,EAAInrB,KAAKwqB,QAAQ9pB,OAAOyqB,IAAoB,IAAb,IAAIyB,EAA/D,EAAiEzB,EAAeC,EAAI,EAAEA,EAAIprB,KAAKwqB,QAAQW,GAAKzqB,OAAO0qB,IAAM,CAAC,IAAI3a,EAA9H,EAAgI2a,EAAgBprB,KAAKwqB,QAAQW,GAAKC,KAAcsB,EAAMG,UAAU,EAAE,KAAKH,EAAMI,OAAOrc,EAAEmc,GAAGF,EAAMK,OAAOtc,EAAtO,EAA2Omc,GAAGF,EAAMK,OAAOtc,EAA3P,EAAgQmc,EAAhQ,GAAsQF,EAAMK,OAAOtc,EAAEmc,EAArR,GAA2RF,EAAMM,UAAW,CAC1b,OAAON,CAAM,EAAEd,mBAAmB,WAAW,IAAI,IAAIK,EAAE,EAAEA,EAAEjsB,KAAKyqB,YAAY,EAAEwB,IAA4B,MAApBjsB,KAAKwqB,QAAQyB,GAAG,KACtGjsB,KAAKwqB,QAAQyB,GAAG,GAAIA,EAAE,GAAG,GACzB,IAAI,IAAI/Y,EAAE,EAAEA,EAAElT,KAAKyqB,YAAY,EAAEvX,IAA4B,MAApBlT,KAAKwqB,QAAQ,GAAGtX,KACzDlT,KAAKwqB,QAAQ,GAAGtX,GAAIA,EAAE,GAAG,EAAI,EAAEyY,2BAA2B,WAA8D,IAAnD,IAAIpnB,EAAI8nB,EAAOY,mBAAmBjtB,KAAKsqB,YAAoB7pB,EAAE,EAAEA,EAAE8D,EAAI7D,OAAOD,IAAK,IAAI,IAAI0E,EAAE,EAAEA,EAAEZ,EAAI7D,OAAOyE,IAAI,CAAC,IAAIgmB,EAAI5mB,EAAI9D,GAAO2qB,EAAI7mB,EAAIY,GAAG,GAA2B,MAAxBnF,KAAKwqB,QAAQW,GAAKC,GACvO,IAAI,IAAIa,GAAG,EAAEA,GAAG,EAAEA,IAAK,IAAI,IAAI/Y,GAAG,EAAEA,GAAG,EAAEA,IAAgDlT,KAAKwqB,QAAQW,EAAIc,GAAGb,EAAIlY,IAA5D,GAAJ+Y,GAAU,GAAHA,IAAU,GAAJ/Y,GAAU,GAAHA,GAAU,GAAH+Y,GAAS,GAAH/Y,CAAiF,CAAE,EAAE4Y,gBAAgB,SAASnf,GAAwD,IAAlD,IAAIugB,EAAKb,EAAOc,iBAAiBntB,KAAKsqB,YAAoB7pB,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAC,IAAI4kB,GAAM1Y,GAAqB,IAAbugB,GAAMzsB,EAAG,GAAOT,KAAKwqB,QAAQrhB,KAAK6D,MAAMvM,EAAE,IAAIA,EAAE,EAAET,KAAKyqB,YAAY,EAAE,GAAGpF,CAAI,CAC5W,IAAQ5kB,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAK4kB,GAAM1Y,GAAqB,IAAbugB,GAAMzsB,EAAG,GAAOT,KAAKwqB,QAAQ/pB,EAAE,EAAET,KAAKyqB,YAAY,EAAE,GAAGthB,KAAK6D,MAAMvM,EAAE,IAAI4kB,CAAI,CAAC,EAAEwG,cAAc,SAASlf,EAAK8e,GAAmG,IAAtF,IAAIpU,EAAMrX,KAAKuqB,mBAAmB,EAAGkB,EAAgByB,EAAKb,EAAOe,eAAe/V,GAAc5W,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAC,IAAI4kB,GAAM1Y,GAAqB,IAAbugB,GAAMzsB,EAAG,GAAUA,EAAE,EAAGT,KAAKwqB,QAAQ/pB,GAAG,GAAG4kB,EAAa5kB,EAAE,EAAGT,KAAKwqB,QAAQ/pB,EAAE,GAAG,GAAG4kB,EAAUrlB,KAAKwqB,QAAQxqB,KAAKyqB,YAAY,GAAGhqB,GAAG,GAAG4kB,CAAK,CACta,IAAQ5kB,EAAE,EAAEA,EAAE,GAAGA,IAAI,CAAK4kB,GAAM1Y,GAAqB,IAAbugB,GAAMzsB,EAAG,GAAUA,EAAE,EAAGT,KAAKwqB,QAAQ,GAAGxqB,KAAKyqB,YAAYhqB,EAAE,GAAG4kB,EAAa5kB,EAAE,EAAGT,KAAKwqB,QAAQ,GAAG,GAAG/pB,EAAE,EAAE,GAAG4kB,EAAUrlB,KAAKwqB,QAAQ,GAAG,GAAG/pB,EAAE,GAAG4kB,CAAK,CACzLrlB,KAAKwqB,QAAQxqB,KAAKyqB,YAAY,GAAG,IAAK9d,CAAM,EAAEqf,QAAQ,SAAS3U,EAAKoU,GAAkF,IAArE,IAAI4B,GAAK,EAAMlC,EAAInrB,KAAKyqB,YAAY,EAAM6C,EAAS,EAAMC,EAAU,EAAUnC,EAAIprB,KAAKyqB,YAAY,EAAEW,EAAI,EAAEA,GAAK,EAAmB,IAAR,GAALA,GAAOA,MAAiB,CAAC,IAAI,IAAIlY,EAAE,EAAEA,EAAE,EAAEA,IAAK,GAA6B,MAA1BlT,KAAKwqB,QAAQW,GAAKC,EAAIlY,GAAS,CAAC,IAAIsa,GAAK,EAASD,EAAUlW,EAAK3W,SAAQ8sB,EAAwC,IAAhCnW,EAAKkW,KAAaD,EAAU,IAC3VjB,EAAOoB,QAAQhC,EAAYN,EAAIC,EAAIlY,KAAYsa,GAAMA,GAC9DxtB,KAAKwqB,QAAQW,GAAKC,EAAIlY,GAAGsa,GAA8B,KAAzBF,IAA4BC,IAAYD,EAAS,EAAG,CACzE,IAATnC,GAAKkC,GAAW,GAAGrtB,KAAKyqB,aAAaU,EAAI,CAACA,GAAKkC,EAAIA,GAAKA,EAAI,KAAM,CAAC,CAAE,GAAGhD,EAAYqD,KAAK,IAAKrD,EAAYsD,KAAK,GAAKtD,EAAY0B,WAAW,SAASzB,EAAWC,EAAkBI,GAAwG,IAA9F,IAAIiD,EAASC,EAAUC,YAAYxD,EAAWC,GAAuBM,EAAO,IAAIkD,EAAsBttB,EAAE,EAAEA,EAAEkqB,EAASjqB,OAAOD,IAAI,CAAC,IAAI4W,EAAKsT,EAASlqB,GAAGoqB,EAAOE,IAAI1T,EAAK2S,KAAK,GAAGa,EAAOE,IAAI1T,EAAKuT,YAAYyB,EAAO2B,gBAAgB3W,EAAK2S,KAAKM,IAAajT,EAAKyT,MAAMD,EAAQ,CACtc,IAAIoD,EAAe,EAAE,IAAQxtB,EAAE,EAAEA,EAAEmtB,EAASltB,OAAOD,IAAKwtB,GAAgBL,EAASntB,GAAGytB,UACpF,GAAGrD,EAAOmD,kBAAiC,EAAfC,EAAkB,MAAM,IAAI3c,MAAM,0BAC7DuZ,EAAOmD,kBACP,IACe,EAAfC,EACA,KAED,IADGpD,EAAOmD,kBAAkB,GAAkB,EAAfC,GAAkBpD,EAAOE,IAAI,EAAE,GACxDF,EAAOmD,kBAAkB,GAAG,GAAGnD,EAAOsD,QAAO,GACnD,OAAetD,EAAOmD,mBAAkC,EAAfC,KACzCpD,EAAOE,IAAIV,EAAYqD,KAAK,KAAM7C,EAAOmD,mBAAkC,EAAfC,KAC5DpD,EAAOE,IAAIV,EAAYsD,KAAK,GAC5B,OAAOtD,EAAY+D,YAAYvD,EAAO+C,EAAU,EAAEvD,EAAY+D,YAAY,SAASvD,EAAO+C,GAAqI,IAA3H,IAAIS,EAAO,EAAMC,EAAW,EAAMC,EAAW,EAAMC,EAAO,IAAI1sB,MAAM8rB,EAASltB,QAAY+tB,EAAO,IAAI3sB,MAAM8rB,EAASltB,QAAgBurB,EAAE,EAAEA,EAAE2B,EAASltB,OAAOurB,IAAI,CAAC,IAAIyC,EAAQd,EAAS3B,GAAGiC,UAAcS,EAAQf,EAAS3B,GAAG2C,WAAWF,EAAQJ,EAAWnlB,KAAKC,IAAIklB,EAAWI,GAASH,EAAWplB,KAAKC,IAAImlB,EAAWI,GAASH,EAAOvC,GAAG,IAAInqB,MAAM4sB,GAAS,IAAI,IAAIjuB,EAAE,EAAEA,EAAE+tB,EAAOvC,GAAGvrB,OAAOD,IAAK+tB,EAAOvC,GAAGxrB,GAAG,IAAKoqB,EAAOA,OAAOpqB,EAAE4tB,GAClgBA,GAAQK,EAAQ,IAAIG,EAAOxC,EAAOyC,0BAA0BH,GAA0EI,EAArD,IAAIC,EAAaR,EAAOvC,GAAG4C,EAAOjE,YAAY,GAAuBvF,IAAIwJ,GAAQJ,EAAOxC,GAAG,IAAInqB,MAAM+sB,EAAOjE,YAAY,GAAG,IAAQnqB,EAAE,EAAEA,EAAEguB,EAAOxC,GAAGvrB,OAAOD,IAAI,CAAC,IAAIwuB,EAASxuB,EAAEsuB,EAAQnE,YAAY6D,EAAOxC,GAAGvrB,OAAO+tB,EAAOxC,GAAGxrB,GAAIwuB,GAAU,EAAGF,EAAQzqB,IAAI2qB,GAAU,CAAE,CAAC,CACxV,IAAIC,EAAe,EAAE,IAAQzuB,EAAE,EAAEA,EAAEmtB,EAASltB,OAAOD,IAAKyuB,GAAgBtB,EAASntB,GAAGmuB,WACpF,IAAIvX,EAAK,IAAIvV,MAAMotB,GAAoBja,EAAM,EAAE,IAAQxU,EAAE,EAAEA,EAAE6tB,EAAW7tB,IAAK,IAAQwrB,EAAE,EAAEA,EAAE2B,EAASltB,OAAOurB,IAAQxrB,EAAE+tB,EAAOvC,GAAGvrB,SAAQ2W,EAAKpC,KAASuZ,EAAOvC,GAAGxrB,IAC/J,IAAQA,EAAE,EAAEA,EAAE8tB,EAAW9tB,IAAK,IAAQwrB,EAAE,EAAEA,EAAE2B,EAASltB,OAAOurB,IAAQxrB,EAAEguB,EAAOxC,GAAGvrB,SAAQ2W,EAAKpC,KAASwZ,EAAOxC,GAAGxrB,IAChH,OAAO4W,CAAK,EAgBoE,IAhBlE,IAAI4S,EAAO,CAACkF,YAAY,EAAKC,eAAe,EAAKlF,eAAe,EAAKmF,WAAW,GAAUC,EAAuB,EAAvBA,EAA2B,EAA3BA,EAA+B,EAA/BA,EAAmC,EAAOC,EAA0B,EAA1BA,EAAuC,EAAvCA,EAAoD,EAApDA,EAAiE,EAAjEA,EAA8E,EAA9EA,EAA2F,EAA3FA,EAAwG,EAAxGA,EAAqH,EAAOlD,EAAO,CAACmD,uBAAuB,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,IAAI,IAAI,MAAMC,IAAK,KAAiDC,IAAK,KAA0DC,SAAU,MAAqCvC,eAAe,SAAS/V,GAAqB,IAAf,IAAIiS,EAAEjS,GAAM,GAASgV,EAAOuD,YAAYtG,GAAG+C,EAAOuD,YAAYvD,EAAOoD,MAAM,GAAGnG,GAAI+C,EAAOoD,KAAMpD,EAAOuD,YAAYtG,GAAG+C,EAAOuD,YAAYvD,EAAOoD,KACpuC,OAAQpY,GAAM,GAAIiS,GAAG+C,EAAOsD,QAAS,EAAExC,iBAAiB,SAAS9V,GAAqB,IAAf,IAAIiS,EAAEjS,GAAM,GAASgV,EAAOuD,YAAYtG,GAAG+C,EAAOuD,YAAYvD,EAAOqD,MAAM,GAAGpG,GAAI+C,EAAOqD,KAAMrD,EAAOuD,YAAYtG,GAAG+C,EAAOuD,YAAYvD,EAAOqD,KACtN,OAAOrY,GAAM,GAAIiS,CAAE,EAAEsG,YAAY,SAASvY,GAAkB,IAAZ,IAAIwY,EAAM,EAAc,GAANxY,GAASwY,IAAQxY,KAAQ,EAC3F,OAAOwY,CAAM,EAAE5C,mBAAmB,SAAS3C,GAAY,OAAO+B,EAAOmD,uBAAuBlF,EAAW,EAAG,EAAEmD,QAAQ,SAAShC,EAAYhrB,EAAE0E,GAAG,OAAOsmB,GAAa,KAAK8D,EAAyB,OAAO9uB,EAAE0E,GAAG,GAAG,EAAE,KAAKoqB,EAAyB,OAAO9uB,EAAE,GAAG,EAAE,KAAK8uB,EAAyB,OAAOpqB,EAAE,GAAG,EAAE,KAAKoqB,EAAyB,OAAO9uB,EAAE0E,GAAG,GAAG,EAAE,KAAKoqB,EAAyB,OAAOpmB,KAAK6D,MAAMvM,EAAE,GAAG0I,KAAK6D,MAAM7H,EAAE,IAAI,GAAG,EAAE,KAAKoqB,EAAyB,OAAO9uB,EAAE0E,EAAG,EAAG1E,EAAE0E,EAAG,GAAG,EAAE,KAAKoqB,EAAyB,OAAQ9uB,EAAE0E,EAAG,EAAG1E,EAAE0E,EAAG,GAAG,GAAG,EAAE,KAAKoqB,EAAyB,OAAQ9uB,EAAE0E,EAAG,GAAG1E,EAAE0E,GAAG,GAAG,GAAG,EAAE,QAAQ,MAAM,IAAImM,MAAM,mBAAmBma,GAAc,EAAEqD,0BAA0B,SAASgB,GAAkD,IAA9B,IAAIC,EAAE,IAAIf,EAAa,CAAC,GAAG,GAAWvuB,EAAE,EAAEA,EAAEqvB,EAAmBrvB,IAAKsvB,EAAEA,EAAEC,SAAS,IAAIhB,EAAa,CAAC,EAAEiB,EAAOC,KAAKzvB,IAAI,IACvzB,OAAOsvB,CAAE,EAAE/B,gBAAgB,SAAShE,EAAKtqB,GAAM,GAAG,GAAGA,GAAMA,EAAK,GAAI,OAAOsqB,GAAM,KAAKC,EAAOkF,YAAY,OAAO,GAAG,KAAKlF,EAAOmF,eAAe,OAAO,EAAE,KAAKnF,EAAOC,eAAwB,KAAKD,EAAOoF,WAAW,OAAO,EAAE,QAAQ,MAAM,IAAI/d,MAAM,QAAQ0Y,QAAa,GAAGtqB,EAAK,GAAI,OAAOsqB,GAAM,KAAKC,EAAOkF,YAAY,OAAO,GAAG,KAAKlF,EAAOmF,eAAe,OAAO,GAAG,KAAKnF,EAAOC,eAAe,OAAO,GAAG,KAAKD,EAAOoF,WAAW,OAAO,GAAG,QAAQ,MAAM,IAAI/d,MAAM,QAAQ0Y,OAAa,MAAGtqB,EAAK,IAA2M,MAAM,IAAI4R,MAAM,QAAQ5R,GAA/N,OAAOsqB,GAAM,KAAKC,EAAOkF,YAAY,OAAO,GAAG,KAAKlF,EAAOmF,eAAe,OAAO,GAAG,KAAKnF,EAAOC,eAAe,OAAO,GAAG,KAAKD,EAAOoF,WAAW,OAAO,GAAG,QAAQ,MAAM,IAAI/d,MAAM,QAAQ0Y,GAA2C,CAAC,EAAEsC,aAAa,SAAS6D,GAAgE,IAAxD,IAAI1F,EAAY0F,EAAO9E,iBAAqBe,EAAU,EAAUjB,EAAI,EAAEA,EAAIV,EAAYU,IAAO,IAAI,IAAIC,EAAI,EAAEA,EAAIX,EAAYW,IAAM,CAAiD,IAAhD,IAAIgF,EAAU,EAAM5C,EAAK2C,EAAOjF,OAAOC,EAAIC,GAAaa,GAAG,EAAEA,GAAG,EAAEA,IAAK,KAAGd,EAAIc,EAAE,GAAGxB,GAAaU,EAAIc,GACn9B,IAAI,IAAI/Y,GAAG,EAAEA,GAAG,EAAEA,IAAQkY,EAAIlY,EAAE,GAAGuX,GAAaW,EAAIlY,GAC9C,GAAH+Y,GAAS,GAAH/Y,GACNsa,GAAM2C,EAAOjF,OAAOC,EAAIc,EAAEb,EAAIlY,IAAIkd,IAClCA,EAAU,IAAGhE,GAAY,EAAEgE,EAAU,EAAI,CAC5C,IAAQjF,EAAI,EAAEA,EAAIV,EAAY,EAAEU,IAAO,IAAQC,EAAI,EAAEA,EAAIX,EAAY,EAAEW,IAAM,CAAC,IAAIiF,EAAM,EAAKF,EAAOjF,OAAOC,EAAIC,IAAKiF,IAAWF,EAAOjF,OAAOC,EAAI,EAAEC,IAAKiF,IAAWF,EAAOjF,OAAOC,EAAIC,EAAI,IAAGiF,IAAWF,EAAOjF,OAAOC,EAAI,EAAEC,EAAI,IAAGiF,IAAkB,GAAPA,GAAiB,GAAPA,IAAUjE,GAAW,EAAG,CAC/Q,IAAQjB,EAAI,EAAEA,EAAIV,EAAYU,IAAO,IAAQC,EAAI,EAAEA,EAAIX,EAAY,EAAEW,IAAU+E,EAAOjF,OAAOC,EAAIC,KAAO+E,EAAOjF,OAAOC,EAAIC,EAAI,IAAI+E,EAAOjF,OAAOC,EAAIC,EAAI,IAAI+E,EAAOjF,OAAOC,EAAIC,EAAI,IAAI+E,EAAOjF,OAAOC,EAAIC,EAAI,KAAK+E,EAAOjF,OAAOC,EAAIC,EAAI,IAAI+E,EAAOjF,OAAOC,EAAIC,EAAI,KAAIgB,GAAW,IAChR,IAAQhB,EAAI,EAAEA,EAAIX,EAAYW,IAAO,IAAQD,EAAI,EAAEA,EAAIV,EAAY,EAAEU,IAAUgF,EAAOjF,OAAOC,EAAIC,KAAO+E,EAAOjF,OAAOC,EAAI,EAAEC,IAAM+E,EAAOjF,OAAOC,EAAI,EAAEC,IAAM+E,EAAOjF,OAAOC,EAAI,EAAEC,IAAM+E,EAAOjF,OAAOC,EAAI,EAAEC,KAAO+E,EAAOjF,OAAOC,EAAI,EAAEC,IAAM+E,EAAOjF,OAAOC,EAAI,EAAEC,KAAMgB,GAAW,IAChR,IAAIkE,EAAU,EAAE,IAAQlF,EAAI,EAAEA,EAAIX,EAAYW,IAAO,IAAQD,EAAI,EAAEA,EAAIV,EAAYU,IAAUgF,EAAOjF,OAAOC,EAAIC,IAAMkF,IAClC,OAApBlE,GAAiB,IAAtEjjB,KAAKonB,IAAI,IAAID,EAAU7F,EAAYA,EAAY,IAAI,EAAuC,GAAOwF,EAAO,CAACO,KAAK,SAASrd,GAAG,GAAGA,EAAE,EAAG,MAAM,IAAI7B,MAAM,QAAQ6B,EAAE,KACtK,OAAO8c,EAAOQ,UAAUtd,EAAG,EAAE+c,KAAK,SAAS/c,GAAG,KAAMA,EAAE,GAAGA,GAAG,IAC5D,KAAMA,GAAG,KAAKA,GAAG,IACjB,OAAO8c,EAAOS,UAAUvd,EAAG,EAAEud,UAAU,IAAI5uB,MAAM,KAAK2uB,UAAU,IAAI3uB,MAAM,MAAcrB,EAAE,EAAEA,EAAE,EAAEA,IAAKwvB,EAAOS,UAAUjwB,GAAG,GAAGA,EAC5H,IAAQA,EAAE,EAAEA,EAAE,IAAIA,IAAKwvB,EAAOS,UAAUjwB,GAAGwvB,EAAOS,UAAUjwB,EAAE,GAAGwvB,EAAOS,UAAUjwB,EAAE,GAAGwvB,EAAOS,UAAUjwB,EAAE,GAAGwvB,EAAOS,UAAUjwB,EAAE,GAChI,IAAQA,EAAE,EAAEA,EAAE,IAAIA,IAAKwvB,EAAOQ,UAAUR,EAAOS,UAAUjwB,IAAIA,EAC7D,SAASuuB,EAAalhB,EAAI6iB,GAAO,QAAejb,GAAZ5H,EAAIpN,OAAmB,MAAM,IAAI4Q,MAAMxD,EAAIpN,OAAO,IAAIiwB,GAC7E,IAAb,IAAItC,EAAO,EAAQA,EAAOvgB,EAAIpN,QAAqB,GAAboN,EAAIugB,IAAYA,IACtDruB,KAAK8N,IAAI,IAAIhM,MAAMgM,EAAIpN,OAAO2tB,EAAOsC,GAAO,IAAI,IAAIlwB,EAAE,EAAEA,EAAEqN,EAAIpN,OAAO2tB,EAAO5tB,IAAKT,KAAK8N,IAAIrN,GAAGqN,EAAIrN,EAAE4tB,EAAS,CAKnE,SAASR,EAAUe,EAAWV,GAAWluB,KAAK4uB,WAAWA,EAAW5uB,KAAKkuB,UAAUA,CAAU,CAG2T,SAASH,IAAc/tB,KAAK6qB,OAAO,GAAG7qB,KAAKU,OAAO,CAAE,CAPrfsuB,EAAa1tB,UAAU,CAACgD,IAAI,SAAS2Q,GAAO,OAAOjV,KAAK8N,IAAImH,EAAO,EAAE2V,UAAU,WAAW,OAAO5qB,KAAK8N,IAAIpN,MAAO,EAAEsvB,SAAS,SAAS5lB,GAAuD,IAApD,IAAI0D,EAAI,IAAIhM,MAAM9B,KAAK4qB,YAAYxgB,EAAEwgB,YAAY,GAAWnqB,EAAE,EAAEA,EAAET,KAAK4qB,YAAYnqB,IAAK,IAAI,IAAI0E,EAAE,EAAEA,EAAEiF,EAAEwgB,YAAYzlB,IAAK2I,EAAIrN,EAAE0E,IAAI8qB,EAAOC,KAAKD,EAAOO,KAAKxwB,KAAKsE,IAAI7D,IAAIwvB,EAAOO,KAAKpmB,EAAE9F,IAAIa,KAClU,OAAO,IAAI6pB,EAAalhB,EAAI,EAAG,EAAEuX,IAAI,SAASjb,GAAG,GAAGpK,KAAK4qB,YAAYxgB,EAAEwgB,YAAY,EAAG,OAAO5qB,KACA,IAA7F,IAAI4wB,EAAMX,EAAOO,KAAKxwB,KAAKsE,IAAI,IAAI2rB,EAAOO,KAAKpmB,EAAE9F,IAAI,IAAQwJ,EAAI,IAAIhM,MAAM9B,KAAK4qB,aAAqBnqB,EAAE,EAAEA,EAAET,KAAK4qB,YAAYnqB,IAAKqN,EAAIrN,GAAGT,KAAKsE,IAAI7D,GACjJ,IAAQA,EAAE,EAAEA,EAAE2J,EAAEwgB,YAAYnqB,IAAKqN,EAAIrN,IAAIwvB,EAAOC,KAAKD,EAAOO,KAAKpmB,EAAE9F,IAAI7D,IAAImwB,GAC3E,OAAO,IAAI5B,EAAalhB,EAAI,GAAGuX,IAAIjb,EAAG,GACtCyjB,EAAUgD,eAAe,CAAC,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,C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","file":"static/js/11.fa32f591.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.walletLogo = void 0;\nconst walletLogo = (type, width) => {\n    let height;\n    switch (type) {\n        case \"standard\":\n            height = width;\n            return `data:image/svg+xml,%3Csvg width='${width}' height='${height}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;\n        case \"circle\":\n            height = width;\n            return `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${width}' height='${height}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;\n        case \"text\":\n            height = (0.1 * width).toFixed(2);\n            return `data:image/svg+xml,%3Csvg width='${width}' height='${height}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;\n        case \"textWithLogo\":\n            height = (0.25 * width).toFixed(2);\n            return `data:image/svg+xml,%3Csvg width='${width}' height='${height}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;\n        case \"textLight\":\n            height = (0.1 * width).toFixed(2);\n            return `data:image/svg+xml,%3Csvg width='${width}' height='${height}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;\n        case \"textWithLogoLight\":\n            height = (0.25 * width).toFixed(2);\n            return `data:image/svg+xml,%3Csvg width='${width}' height='${height}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;\n        default:\n            height = width;\n            return `data:image/svg+xml,%3Csvg width='${width}' height='${height}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;\n    }\n};\nexports.walletLogo = walletLogo;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScopedLocalStorage = void 0;\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ethErrors = void 0;\nconst classes_1 = require(\"./classes\");\nconst utils_1 = require(\"./utils\");\nconst error_constants_1 = require(\"./error-constants\");\nexports.ethErrors = {\n    rpc: {\n        /**\n         * Get a JSON RPC 2.0 Parse (-32700) error.\n         */\n        parse: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n         */\n        invalidRequest: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n         */\n        invalidParams: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams, arg),\n        /**\n         * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n         */\n        methodNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound, arg),\n        /**\n         * Get a JSON RPC 2.0 Internal (-32603) error.\n         */\n        internal: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal, arg),\n        /**\n         * Get a JSON RPC 2.0 Server error.\n         * Permits integer error codes in the [ -32099 <= -32005 ] range.\n         * Codes -32000 through -32004 are reserved by EIP-1474.\n         */\n        server: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum RPC Server errors must provide single object argument.');\n            }\n            const { code } = opts;\n            if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n                throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n            }\n            return getEthJsonRpcError(code, opts);\n        },\n        /**\n         * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n         */\n        invalidInput: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n         */\n        resourceNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n         */\n        resourceUnavailable: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable, arg),\n        /**\n         * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n         */\n        transactionRejected: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected, arg),\n        /**\n         * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n         */\n        methodNotSupported: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported, arg),\n        /**\n         * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n         */\n        limitExceeded: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded, arg),\n    },\n    provider: {\n        /**\n         * Get an Ethereum Provider User Rejected Request (4001) error.\n         */\n        userRejectedRequest: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unauthorized (4100) error.\n         */\n        unauthorized: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unauthorized, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unsupported Method (4200) error.\n         */\n        unsupportedMethod: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod, arg);\n        },\n        /**\n         * Get an Ethereum Provider Not Connected (4900) error.\n         */\n        disconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.disconnected, arg);\n        },\n        /**\n         * Get an Ethereum Provider Chain Not Connected (4901) error.\n         */\n        chainDisconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected, arg);\n        },\n        /**\n         * Get a custom Ethereum Provider error.\n         */\n        custom: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum Provider custom errors must provide single object argument.');\n            }\n            const { code, message, data } = opts;\n            if (!message || typeof message !== 'string') {\n                throw new Error('\"message\" must be a nonempty string');\n            }\n            return new classes_1.EthereumProviderError(code, message, data);\n        },\n    },\n};\n// Internal\nfunction getEthJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumRpcError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumProviderError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message || undefined, data];\n        }\n    }\n    return [];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Vycm9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBb0U7QUFDcEUsbUNBQTZDO0FBQzdDLHVEQUErQztBQWVsQyxRQUFBLFNBQVMsR0FBRztJQUN2QixHQUFHLEVBQUU7UUFFSDs7V0FFRztRQUNILEtBQUssRUFBRSxDQUFJLEdBQW9CLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUNwRCw0QkFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUMxQjtRQUVEOztXQUVHO1FBQ0gsY0FBYyxFQUFFLENBQUksR0FBb0IsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQzdELDRCQUFVLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQ25DO1FBRUQ7O1dBRUc7UUFDSCxhQUFhLEVBQUUsQ0FBSSxHQUFvQixFQUFFLEVBQUUsQ0FBQyxrQkFBa0IsQ0FDNUQsNEJBQVUsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FDbEM7UUFFRDs7V0FFRztRQUNILGNBQWMsRUFBRSxDQUFJLEdBQW9CLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUM3RCw0QkFBVSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUNuQztRQUVEOztXQUVHO1FBQ0gsUUFBUSxFQUFFLENBQUksR0FBb0IsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQ3ZELDRCQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQzdCO1FBRUQ7Ozs7V0FJRztRQUNILE1BQU0sRUFBRSxDQUFJLElBQTJCLEVBQUUsRUFBRTtZQUN6QyxJQUFJLENBQUMsSUFBSSxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM1RCxNQUFNLElBQUksS0FBSyxDQUFDLGlFQUFpRSxDQUFDLENBQUM7YUFDcEY7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","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar getSideChannel = require('side-channel');\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) {\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) {\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) {\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar split = String.prototype.split;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaultFormat = formats['default'];\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    format: defaultFormat,\n    formatter: formats.formatters[defaultFormat],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) {\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar isNonNullishPrimitive = function isNonNullishPrimitive(v) {\n    return typeof v === 'string'\n        || typeof v === 'number'\n        || typeof v === 'boolean'\n        || typeof v === 'symbol'\n        || typeof v === 'bigint';\n};\n\nvar sentinel = {};\n\nvar stringify = function stringify(\n    object,\n    prefix,\n    generateArrayPrefix,\n    commaRoundTrip,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    format,\n    formatter,\n    encodeValuesOnly,\n    charset,\n    sideChannel\n) {\n    var obj = object;\n\n    var tmpSc = sideChannel;\n    var step = 0;\n    var findFlag = false;\n    while ((tmpSc = tmpSc.get(sentinel)) !== void undefined && !findFlag) {\n        // Where object last appeared in the ref tree\n        var pos = tmpSc.get(object);\n        step += 1;\n        if (typeof pos !== 'undefined') {\n            if (pos === step) {\n                throw new RangeError('Cyclic object value');\n            } else {\n                findFlag = true; // Break while\n            }\n        }\n        if (typeof tmpSc.get(sentinel) === 'undefined') {\n            step = 0;\n        }\n    }\n\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = utils.maybeMap(obj, function (value) {\n            if (value instanceof Date) {\n                return serializeDate(value);\n            }\n            return value;\n        });\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset, 'key', format) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (isNonNullishPrimitive(obj) || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset, 'key', format);\n            if (generateArrayPrefix === 'comma' && encodeValuesOnly) {\n                var valuesArray = split.call(String(obj), ',');\n                var valuesJoined = '';\n                for (var i = 0; i < valuesArray.length; ++i) {\n                    valuesJoined += (i === 0 ? '' : ',') + formatter(encoder(valuesArray[i], defaults.encoder, charset, 'value', format));\n                }\n                return [formatter(keyValue) + (commaRoundTrip && isArray(obj) && valuesArray.length === 1 ? '[]' : '') + '=' + valuesJoined];\n            }\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset, 'value', format))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        // we need to join elements in\n        objKeys = [{ value: obj.length > 0 ? obj.join(',') || null : void undefined }];\n    } else if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    var adjustedPrefix = commaRoundTrip && isArray(obj) && obj.length === 1 ? prefix + '[]' : prefix;\n\n    for (var j = 0; j < objKeys.length; ++j) {\n        var key = objKeys[j];\n        var value = typeof key === 'object' && typeof key.value !== 'undefined' ? key.value : obj[key];\n\n        if (skipNulls && value === null) {\n            continue;\n        }\n\n        var keyPrefix = isArray(obj)\n            ? typeof generateArrayPrefix === 'function' ? generateArrayPrefix(adjustedPrefix, key) : adjustedPrefix\n            : adjustedPrefix + (allowDots ? '.' + key : '[' + key + ']');\n\n        sideChannel.set(object, step);\n        var valueSideChannel = getSideChannel();\n        valueSideChannel.set(sentinel, sideChannel);\n        pushToArray(values, stringify(\n            value,\n            keyPrefix,\n            generateArrayPrefix,\n            commaRoundTrip,\n            strictNullHandling,\n            skipNulls,\n            encoder,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            format,\n            formatter,\n            encodeValuesOnly,\n            charset,\n            valueSideChannel\n        ));\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && typeof opts.encoder !== 'undefined' && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        format: format,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n    if (opts && 'commaRoundTrip' in opts && typeof opts.commaRoundTrip !== 'boolean') {\n        throw new TypeError('`commaRoundTrip` must be a boolean, or absent');\n    }\n    var commaRoundTrip = generateArrayPrefix === 'comma' && opts && opts.commaRoundTrip;\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    var sideChannel = getSideChannel();\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            commaRoundTrip,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.format,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset,\n            sideChannel\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('✓')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\nvar callBound = require('call-bind/callBound');\nvar inspect = require('object-inspect');\n\nvar $TypeError = GetIntrinsic('%TypeError%');\nvar $WeakMap = GetIntrinsic('%WeakMap%', true);\nvar $Map = GetIntrinsic('%Map%', true);\n\nvar $weakMapGet = callBound('WeakMap.prototype.get', true);\nvar $weakMapSet = callBound('WeakMap.prototype.set', true);\nvar $weakMapHas = callBound('WeakMap.prototype.has', true);\nvar $mapGet = callBound('Map.prototype.get', true);\nvar $mapSet = callBound('Map.prototype.set', true);\nvar $mapHas = callBound('Map.prototype.has', true);\n\n/*\n * This function traverses the list returning the node corresponding to the\n * given key.\n *\n * That node is also moved to the head of the list, so that if it's accessed\n * again we don't need to traverse the whole list. By doing so, all the recently\n * used nodes can be accessed relatively quickly.\n */\nvar listGetNode = function (list, key) { // eslint-disable-line consistent-return\n\tfor (var prev = list, curr; (curr = prev.next) !== null; prev = curr) {\n\t\tif (curr.key === key) {\n\t\t\tprev.next = curr.next;\n\t\t\tcurr.next = list.next;\n\t\t\tlist.next = curr; // eslint-disable-line no-param-reassign\n\t\t\treturn curr;\n\t\t}\n\t}\n};\n\nvar listGet = function (objects, key) {\n\tvar node = listGetNode(objects, key);\n\treturn node && node.value;\n};\nvar listSet = function (objects, key, value) {\n\tvar node = listGetNode(objects, key);\n\tif (node) {\n\t\tnode.value = value;\n\t} else {\n\t\t// Prepend the new node to the beginning of the list\n\t\tobjects.next = { // eslint-disable-line no-param-reassign\n\t\t\tkey: key,\n\t\t\tnext: objects.next,\n\t\t\tvalue: value\n\t\t};\n\t}\n};\nvar listHas = function (objects, key) {\n\treturn !!listGetNode(objects, key);\n};\n\nmodule.exports = function getSideChannel() {\n\tvar $wm;\n\tvar $m;\n\tvar $o;\n\tvar channel = {\n\t\tassert: function (key) {\n\t\t\tif (!channel.has(key)) {\n\t\t\t\tthrow new $TypeError('Side channel does not contain ' + inspect(key));\n\t\t\t}\n\t\t},\n\t\tget: function (key) { // eslint-disable-line consistent-return\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapGet($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapGet($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listGet($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\thas: function (key) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif ($wm) {\n\t\t\t\t\treturn $weakMapHas($wm, key);\n\t\t\t\t}\n\t\t\t} else if ($Map) {\n\t\t\t\tif ($m) {\n\t\t\t\t\treturn $mapHas($m, key);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif ($o) { // eslint-disable-line no-lonely-if\n\t\t\t\t\treturn listHas($o, key);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tset: function (key, value) {\n\t\t\tif ($WeakMap && key && (typeof key === 'object' || typeof key === 'function')) {\n\t\t\t\tif (!$wm) {\n\t\t\t\t\t$wm = new $WeakMap();\n\t\t\t\t}\n\t\t\t\t$weakMapSet($wm, key, value);\n\t\t\t} else if ($Map) {\n\t\t\t\tif (!$m) {\n\t\t\t\t\t$m = new $Map();\n\t\t\t\t}\n\t\t\t\t$mapSet($m, key, value);\n\t\t\t} else {\n\t\t\t\tif (!$o) {\n\t\t\t\t\t/*\n\t\t\t\t\t * Initialize the linked list as an empty node, so that we don't have\n\t\t\t\t\t * to special-case handling of the first node: we can always refer to\n\t\t\t\t\t * it as (previous node).next, instead of something like (list).head\n\t\t\t\t\t */\n\t\t\t\t\t$o = { key: {}, next: null };\n\t\t\t\t}\n\t\t\t\tlistSet($o, key, value);\n\t\t\t}\n\t\t}\n\t};\n\treturn channel;\n};\n","'use strict';\n\nvar origSymbol = typeof Symbol !== 'undefined' && Symbol;\nvar hasSymbolSham = require('./shams');\n\nmodule.exports = function hasNativeSymbols() {\n\tif (typeof origSymbol !== 'function') { return false; }\n\tif (typeof Symbol !== 'function') { return false; }\n\tif (typeof origSymbol('foo') !== 'symbol') { return false; }\n\tif (typeof Symbol('bar') !== 'symbol') { return false; }\n\n\treturn hasSymbolSham();\n};\n","'use strict';\n\n/* eslint complexity: [2, 18], max-statements: [2, 33] */\nmodule.exports = function hasSymbols() {\n\tif (typeof Symbol !== 'function' || typeof Object.getOwnPropertySymbols !== 'function') { return false; }\n\tif (typeof Symbol.iterator === 'symbol') { return true; }\n\n\tvar obj = {};\n\tvar sym = Symbol('test');\n\tvar symObj = Object(sym);\n\tif (typeof sym === 'string') { return false; }\n\n\tif (Object.prototype.toString.call(sym) !== '[object Symbol]') { return false; }\n\tif (Object.prototype.toString.call(symObj) !== '[object Symbol]') { return false; }\n\n\t// temp disabled per https://github.com/ljharb/object.assign/issues/17\n\t// if (sym instanceof Symbol) { return false; }\n\t// temp disabled per https://github.com/WebReflection/get-own-property-symbols/issues/4\n\t// if (!(symObj instanceof Symbol)) { return false; }\n\n\t// if (typeof Symbol.prototype.toString !== 'function') { return false; }\n\t// if (String(sym) !== Symbol.prototype.toString.call(sym)) { return false; }\n\n\tvar symVal = 42;\n\tobj[sym] = symVal;\n\tfor (sym in obj) { return false; } // eslint-disable-line no-restricted-syntax, no-unreachable-loop\n\tif (typeof Object.keys === 'function' && Object.keys(obj).length !== 0) { return false; }\n\n\tif (typeof Object.getOwnPropertyNames === 'function' && Object.getOwnPropertyNames(obj).length !== 0) { return false; }\n\n\tvar syms = Object.getOwnPropertySymbols(obj);\n\tif (syms.length !== 1 || syms[0] !== sym) { return false; }\n\n\tif (!Object.prototype.propertyIsEnumerable.call(obj, sym)) { return false; }\n\n\tif (typeof Object.getOwnPropertyDescriptor === 'function') {\n\t\tvar descriptor = Object.getOwnPropertyDescriptor(obj, sym);\n\t\tif (descriptor.value !== symVal || descriptor.enumerable !== true) { return false; }\n\t}\n\n\treturn true;\n};\n","'use strict';\n\n/* eslint no-invalid-this: 1 */\n\nvar ERROR_MESSAGE = 'Function.prototype.bind called on incompatible ';\nvar slice = Array.prototype.slice;\nvar toStr = Object.prototype.toString;\nvar funcType = '[object Function]';\n\nmodule.exports = function bind(that) {\n    var target = this;\n    if (typeof target !== 'function' || toStr.call(target) !== funcType) {\n        throw new TypeError(ERROR_MESSAGE + target);\n    }\n    var args = slice.call(arguments, 1);\n\n    var bound;\n    var binder = function () {\n        if (this instanceof bound) {\n            var result = target.apply(\n                this,\n                args.concat(slice.call(arguments))\n            );\n            if (Object(result) === result) {\n                return result;\n            }\n            return this;\n        } else {\n            return target.apply(\n                that,\n                args.concat(slice.call(arguments))\n            );\n        }\n    };\n\n    var boundLength = Math.max(0, target.length - args.length);\n    var boundArgs = [];\n    for (var i = 0; i < boundLength; i++) {\n        boundArgs.push('$' + i);\n    }\n\n    bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this,arguments); }')(binder);\n\n    if (target.prototype) {\n        var Empty = function Empty() {};\n        Empty.prototype = target.prototype;\n        bound.prototype = new Empty();\n        Empty.prototype = null;\n    }\n\n    return bound;\n};\n","'use strict';\n\nvar bind = require('function-bind');\n\nmodule.exports = bind.call(Function.call, Object.prototype.hasOwnProperty);\n","'use strict';\n\nvar GetIntrinsic = require('get-intrinsic');\n\nvar callBind = require('./');\n\nvar $indexOf = callBind(GetIntrinsic('String.prototype.indexOf'));\n\nmodule.exports = function callBoundIntrinsic(name, allowMissing) {\n\tvar intrinsic = GetIntrinsic(name, !!allowMissing);\n\tif (typeof intrinsic === 'function' && $indexOf(name, '.prototype.') > -1) {\n\t\treturn callBind(intrinsic);\n\t}\n\treturn intrinsic;\n};\n","'use strict';\n\nvar bind = require('function-bind');\nvar GetIntrinsic = require('get-intrinsic');\n\nvar $apply = GetIntrinsic('%Function.prototype.apply%');\nvar $call = GetIntrinsic('%Function.prototype.call%');\nvar $reflectApply = GetIntrinsic('%Reflect.apply%', true) || bind.call($call, $apply);\n\nvar $gOPD = GetIntrinsic('%Object.getOwnPropertyDescriptor%', true);\nvar $defineProperty = GetIntrinsic('%Object.defineProperty%', true);\nvar $max = GetIntrinsic('%Math.max%');\n\nif ($defineProperty) {\n\ttry {\n\t\t$defineProperty({}, 'a', { value: 1 });\n\t} catch (e) {\n\t\t// IE 8 has a broken defineProperty\n\t\t$defineProperty = null;\n\t}\n}\n\nmodule.exports = function callBind(originalFunction) {\n\tvar func = $reflectApply(bind, $call, arguments);\n\tif ($gOPD && $defineProperty) {\n\t\tvar desc = $gOPD(func, 'length');\n\t\tif (desc.configurable) {\n\t\t\t// original length, plus the receiver, minus any additional arguments (after the receiver)\n\t\t\t$defineProperty(\n\t\t\t\tfunc,\n\t\t\t\t'length',\n\t\t\t\t{ value: 1 + $max(0, originalFunction.length - (arguments.length - 1)) }\n\t\t\t);\n\t\t}\n\t}\n\treturn func;\n};\n\nvar applyBind = function applyBind() {\n\treturn $reflectApply(bind, $apply, arguments);\n};\n\nif ($defineProperty) {\n\t$defineProperty(module.exports, 'apply', { value: applyBind });\n} else {\n\tmodule.exports.apply = applyBind;\n}\n","var hasMap = typeof Map === 'function' && Map.prototype;\nvar mapSizeDescriptor = Object.getOwnPropertyDescriptor && hasMap ? Object.getOwnPropertyDescriptor(Map.prototype, 'size') : null;\nvar mapSize = hasMap && mapSizeDescriptor && typeof mapSizeDescriptor.get === 'function' ? mapSizeDescriptor.get : null;\nvar mapForEach = hasMap && Map.prototype.forEach;\nvar hasSet = typeof Set === 'function' && Set.prototype;\nvar setSizeDescriptor = Object.getOwnPropertyDescriptor && hasSet ? Object.getOwnPropertyDescriptor(Set.prototype, 'size') : null;\nvar setSize = hasSet && setSizeDescriptor && typeof setSizeDescriptor.get === 'function' ? setSizeDescriptor.get : null;\nvar setForEach = hasSet && Set.prototype.forEach;\nvar hasWeakMap = typeof WeakMap === 'function' && WeakMap.prototype;\nvar weakMapHas = hasWeakMap ? WeakMap.prototype.has : null;\nvar hasWeakSet = typeof WeakSet === 'function' && WeakSet.prototype;\nvar weakSetHas = hasWeakSet ? WeakSet.prototype.has : null;\nvar hasWeakRef = typeof WeakRef === 'function' && WeakRef.prototype;\nvar weakRefDeref = hasWeakRef ? WeakRef.prototype.deref : null;\nvar booleanValueOf = Boolean.prototype.valueOf;\nvar objectToString = Object.prototype.toString;\nvar functionToString = Function.prototype.toString;\nvar $match = String.prototype.match;\nvar $slice = String.prototype.slice;\nvar $replace = String.prototype.replace;\nvar $toUpperCase = String.prototype.toUpperCase;\nvar $toLowerCase = String.prototype.toLowerCase;\nvar $test = RegExp.prototype.test;\nvar $concat = Array.prototype.concat;\nvar $join = Array.prototype.join;\nvar $arrSlice = Array.prototype.slice;\nvar $floor = Math.floor;\nvar bigIntValueOf = typeof BigInt === 'function' ? BigInt.prototype.valueOf : null;\nvar gOPS = Object.getOwnPropertySymbols;\nvar symToString = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? Symbol.prototype.toString : null;\nvar hasShammedSymbols = typeof Symbol === 'function' && typeof Symbol.iterator === 'object';\n// ie, `has-tostringtag/shams\nvar toStringTag = typeof Symbol === 'function' && Symbol.toStringTag && (typeof Symbol.toStringTag === hasShammedSymbols ? 'object' : 'symbol')\n    ? Symbol.toStringTag\n    : null;\nvar isEnumerable = Object.prototype.propertyIsEnumerable;\n\nvar gPO = (typeof Reflect === 'function' ? Reflect.getPrototypeOf : Object.getPrototypeOf) || (\n    [].__proto__ === Array.prototype // eslint-disable-line no-proto\n        ? function (O) {\n            return O.__proto__; // eslint-disable-line no-proto\n        }\n        : null\n);\n\nfunction addNumericSeparator(num, str) {\n    if (\n        num === Infinity\n        || num === -Infinity\n        || num !== num\n        || (num && num > -1000 && num < 1000)\n        || $test.call(/e/, str)\n    ) {\n        return str;\n    }\n    var sepRegex = /[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;\n    if (typeof num === 'number') {\n        var int = num < 0 ? -$floor(-num) : $floor(num); // trunc(num)\n        if (int !== num) {\n            var intStr = String(int);\n            var dec = $slice.call(str, intStr.length + 1);\n            return $replace.call(intStr, sepRegex, '$&_') + '.' + $replace.call($replace.call(dec, /([0-9]{3})/g, '$&_'), /_$/, '');\n        }\n    }\n    return $replace.call(str, sepRegex, '$&_');\n}\n\nvar utilInspect = require('./util.inspect');\nvar inspectCustom = utilInspect.custom;\nvar inspectSymbol = isSymbol(inspectCustom) ? inspectCustom : null;\n\nmodule.exports = function inspect_(obj, options, depth, seen) {\n    var opts = options || {};\n\n    if (has(opts, 'quoteStyle') && (opts.quoteStyle !== 'single' && opts.quoteStyle !== 'double')) {\n        throw new TypeError('option \"quoteStyle\" must be \"single\" or \"double\"');\n    }\n    if (\n        has(opts, 'maxStringLength') && (typeof opts.maxStringLength === 'number'\n            ? opts.maxStringLength < 0 && opts.maxStringLength !== Infinity\n            : opts.maxStringLength !== null\n        )\n    ) {\n        throw new TypeError('option \"maxStringLength\", if provided, must be a positive integer, Infinity, or `null`');\n    }\n    var customInspect = has(opts, 'customInspect') ? opts.customInspect : true;\n    if (typeof customInspect !== 'boolean' && customInspect !== 'symbol') {\n        throw new TypeError('option \"customInspect\", if provided, must be `true`, `false`, or `\\'symbol\\'`');\n    }\n\n    if (\n        has(opts, 'indent')\n        && opts.indent !== null\n        && opts.indent !== '\\t'\n        && !(parseInt(opts.indent, 10) === opts.indent && opts.indent > 0)\n    ) {\n        throw new TypeError('option \"indent\" must be \"\\\\t\", an integer > 0, or `null`');\n    }\n    if (has(opts, 'numericSeparator') && typeof opts.numericSeparator !== 'boolean') {\n        throw new TypeError('option \"numericSeparator\", if provided, must be `true` or `false`');\n    }\n    var numericSeparator = opts.numericSeparator;\n\n    if (typeof obj === 'undefined') {\n        return 'undefined';\n    }\n    if (obj === null) {\n        return 'null';\n    }\n    if (typeof obj === 'boolean') {\n        return obj ? 'true' : 'false';\n    }\n\n    if (typeof obj === 'string') {\n        return inspectString(obj, opts);\n    }\n    if (typeof obj === 'number') {\n        if (obj === 0) {\n            return Infinity / obj > 0 ? '0' : '-0';\n        }\n        var str = String(obj);\n        return numericSeparator ? addNumericSeparator(obj, str) : str;\n    }\n    if (typeof obj === 'bigint') {\n        var bigIntStr = String(obj) + 'n';\n        return numericSeparator ? addNumericSeparator(obj, bigIntStr) : bigIntStr;\n    }\n\n    var maxDepth = typeof opts.depth === 'undefined' ? 5 : opts.depth;\n    if (typeof depth === 'undefined') { depth = 0; }\n    if (depth >= maxDepth && maxDepth > 0 && typeof obj === 'object') {\n        return isArray(obj) ? '[Array]' : '[Object]';\n    }\n\n    var indent = getIndent(opts, depth);\n\n    if (typeof seen === 'undefined') {\n        seen = [];\n    } else if (indexOf(seen, obj) >= 0) {\n        return '[Circular]';\n    }\n\n    function inspect(value, from, noIndent) {\n        if (from) {\n            seen = $arrSlice.call(seen);\n            seen.push(from);\n        }\n        if (noIndent) {\n            var newOpts = {\n                depth: opts.depth\n            };\n            if (has(opts, 'quoteStyle')) {\n                newOpts.quoteStyle = opts.quoteStyle;\n            }\n            return inspect_(value, newOpts, depth + 1, seen);\n        }\n        return inspect_(value, opts, depth + 1, seen);\n    }\n\n    if (typeof obj === 'function' && !isRegExp(obj)) { // in older engines, regexes are callable\n        var name = nameOf(obj);\n        var keys = arrObjKeys(obj, inspect);\n        return '[Function' + (name ? ': ' + name : ' (anonymous)') + ']' + (keys.length > 0 ? ' { ' + $join.call(keys, ', ') + ' }' : '');\n    }\n    if (isSymbol(obj)) {\n        var symString = hasShammedSymbols ? $replace.call(String(obj), /^(Symbol\\(.*\\))_[^)]*$/, '$1') : symToString.call(obj);\n        return typeof obj === 'object' && !hasShammedSymbols ? markBoxed(symString) : symString;\n    }\n    if (isElement(obj)) {\n        var s = '<' + $toLowerCase.call(String(obj.nodeName));\n        var attrs = obj.attributes || [];\n        for (var i = 0; i < attrs.length; i++) {\n            s += ' ' + attrs[i].name + '=' + wrapQuotes(quote(attrs[i].value), 'double', opts);\n        }\n        s += '>';\n        if (obj.childNodes && obj.childNodes.length) { s += '...'; }\n        s += '</' + $toLowerCase.call(String(obj.nodeName)) + '>';\n        return s;\n    }\n    if (isArray(obj)) {\n        if (obj.length === 0) { return '[]'; }\n        var xs = arrObjKeys(obj, inspect);\n        if (indent && !singleLineValues(xs)) {\n            return '[' + indentedJoin(xs, indent) + ']';\n        }\n        return '[ ' + $join.call(xs, ', ') + ' ]';\n    }\n    if (isError(obj)) {\n        var parts = arrObjKeys(obj, inspect);\n        if (!('cause' in Error.prototype) && 'cause' in obj && !isEnumerable.call(obj, 'cause')) {\n            return '{ [' + String(obj) + '] ' + $join.call($concat.call('[cause]: ' + inspect(obj.cause), parts), ', ') + ' }';\n        }\n        if (parts.length === 0) { return '[' + String(obj) + ']'; }\n        return '{ [' + String(obj) + '] ' + $join.call(parts, ', ') + ' }';\n    }\n    if (typeof obj === 'object' && customInspect) {\n        if (inspectSymbol && typeof obj[inspectSymbol] === 'function' && utilInspect) {\n            return utilInspect(obj, { depth: maxDepth - depth });\n        } else if (customInspect !== 'symbol' && typeof obj.inspect === 'function') {\n            return obj.inspect();\n        }\n    }\n    if (isMap(obj)) {\n        var mapParts = [];\n        mapForEach.call(obj, function (value, key) {\n            mapParts.push(inspect(key, obj, true) + ' => ' + inspect(value, obj));\n        });\n        return collectionOf('Map', mapSize.call(obj), mapParts, indent);\n    }\n    if (isSet(obj)) {\n        var setParts = [];\n        setForEach.call(obj, function (value) {\n            setParts.push(inspect(value, obj));\n        });\n        return collectionOf('Set', setSize.call(obj), setParts, indent);\n    }\n    if (isWeakMap(obj)) {\n        return weakCollectionOf('WeakMap');\n    }\n    if (isWeakSet(obj)) {\n        return weakCollectionOf('WeakSet');\n    }\n    if (isWeakRef(obj)) {\n        return weakCollectionOf('WeakRef');\n    }\n    if (isNumber(obj)) {\n        return markBoxed(inspect(Number(obj)));\n    }\n    if (isBigInt(obj)) {\n        return markBoxed(inspect(bigIntValueOf.call(obj)));\n    }\n    if (isBoolean(obj)) {\n        return markBoxed(booleanValueOf.call(obj));\n    }\n    if (isString(obj)) {\n        return markBoxed(inspect(String(obj)));\n    }\n    if (!isDate(obj) && !isRegExp(obj)) {\n        var ys = arrObjKeys(obj, inspect);\n        var isPlainObject = gPO ? gPO(obj) === Object.prototype : obj instanceof Object || obj.constructor === Object;\n        var protoTag = obj instanceof Object ? '' : 'null prototype';\n        var stringTag = !isPlainObject && toStringTag && Object(obj) === obj && toStringTag in obj ? $slice.call(toStr(obj), 8, -1) : protoTag ? 'Object' : '';\n        var constructorTag = isPlainObject || typeof obj.constructor !== 'function' ? '' : obj.constructor.name ? obj.constructor.name + ' ' : '';\n        var tag = constructorTag + (stringTag || protoTag ? '[' + $join.call($concat.call([], stringTag || [], protoTag || []), ': ') + '] ' : '');\n        if (ys.length === 0) { return tag + '{}'; }\n        if (indent) {\n            return tag + '{' + indentedJoin(ys, indent) + '}';\n        }\n        return tag + '{ ' + $join.call(ys, ', ') + ' }';\n    }\n    return String(obj);\n};\n\nfunction wrapQuotes(s, defaultStyle, opts) {\n    var quoteChar = (opts.quoteStyle || defaultStyle) === 'double' ? '\"' : \"'\";\n    return quoteChar + s + quoteChar;\n}\n\nfunction quote(s) {\n    return $replace.call(String(s), /\"/g, '&quot;');\n}\n\nfunction isArray(obj) { return toStr(obj) === '[object Array]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isDate(obj) { return toStr(obj) === '[object Date]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isRegExp(obj) { return toStr(obj) === '[object RegExp]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isError(obj) { return toStr(obj) === '[object Error]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isString(obj) { return toStr(obj) === '[object String]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isNumber(obj) { return toStr(obj) === '[object Number]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\nfunction isBoolean(obj) { return toStr(obj) === '[object Boolean]' && (!toStringTag || !(typeof obj === 'object' && toStringTag in obj)); }\n\n// Symbol and BigInt do have Symbol.toStringTag by spec, so that can't be used to eliminate false positives\nfunction isSymbol(obj) {\n    if (hasShammedSymbols) {\n        return obj && typeof obj === 'object' && obj instanceof Symbol;\n    }\n    if (typeof obj === 'symbol') {\n        return true;\n    }\n    if (!obj || typeof obj !== 'object' || !symToString) {\n        return false;\n    }\n    try {\n        symToString.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isBigInt(obj) {\n    if (!obj || typeof obj !== 'object' || !bigIntValueOf) {\n        return false;\n    }\n    try {\n        bigIntValueOf.call(obj);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty || function (key) { return key in this; };\nfunction has(obj, key) {\n    return hasOwn.call(obj, key);\n}\n\nfunction toStr(obj) {\n    return objectToString.call(obj);\n}\n\nfunction nameOf(f) {\n    if (f.name) { return f.name; }\n    var m = $match.call(functionToString.call(f), /^function\\s*([\\w$]+)/);\n    if (m) { return m[1]; }\n    return null;\n}\n\nfunction indexOf(xs, x) {\n    if (xs.indexOf) { return xs.indexOf(x); }\n    for (var i = 0, l = xs.length; i < l; i++) {\n        if (xs[i] === x) { return i; }\n    }\n    return -1;\n}\n\nfunction isMap(x) {\n    if (!mapSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        mapSize.call(x);\n        try {\n            setSize.call(x);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof Map; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakMap(x) {\n    if (!weakMapHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakMapHas.call(x, weakMapHas);\n        try {\n            weakSetHas.call(x, weakSetHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakMap; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakRef(x) {\n    if (!weakRefDeref || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakRefDeref.call(x);\n        return true;\n    } catch (e) {}\n    return false;\n}\n\nfunction isSet(x) {\n    if (!setSize || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        setSize.call(x);\n        try {\n            mapSize.call(x);\n        } catch (m) {\n            return true;\n        }\n        return x instanceof Set; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isWeakSet(x) {\n    if (!weakSetHas || !x || typeof x !== 'object') {\n        return false;\n    }\n    try {\n        weakSetHas.call(x, weakSetHas);\n        try {\n            weakMapHas.call(x, weakMapHas);\n        } catch (s) {\n            return true;\n        }\n        return x instanceof WeakSet; // core-js workaround, pre-v2.5.0\n    } catch (e) {}\n    return false;\n}\n\nfunction isElement(x) {\n    if (!x || typeof x !== 'object') { return false; }\n    if (typeof HTMLElement !== 'undefined' && x instanceof HTMLElement) {\n        return true;\n    }\n    return typeof x.nodeName === 'string' && typeof x.getAttribute === 'function';\n}\n\nfunction inspectString(str, opts) {\n    if (str.length > opts.maxStringLength) {\n        var remaining = str.length - opts.maxStringLength;\n        var trailer = '... ' + remaining + ' more character' + (remaining > 1 ? 's' : '');\n        return inspectString($slice.call(str, 0, opts.maxStringLength), opts) + trailer;\n    }\n    // eslint-disable-next-line no-control-regex\n    var s = $replace.call($replace.call(str, /(['\\\\])/g, '\\\\$1'), /[\\x00-\\x1f]/g, lowbyte);\n    return wrapQuotes(s, 'single', opts);\n}\n\nfunction lowbyte(c) {\n    var n = c.charCodeAt(0);\n    var x = {\n        8: 'b',\n        9: 't',\n        10: 'n',\n        12: 'f',\n        13: 'r'\n    }[n];\n    if (x) { return '\\\\' + x; }\n    return '\\\\x' + (n < 0x10 ? '0' : '') + $toUpperCase.call(n.toString(16));\n}\n\nfunction markBoxed(str) {\n    return 'Object(' + str + ')';\n}\n\nfunction weakCollectionOf(type) {\n    return type + ' { ? }';\n}\n\nfunction collectionOf(type, size, entries, indent) {\n    var joinedEntries = indent ? indentedJoin(entries, indent) : $join.call(entries, ', ');\n    return type + ' (' + size + ') {' + joinedEntries + '}';\n}\n\nfunction singleLineValues(xs) {\n    for (var i = 0; i < xs.length; i++) {\n        if (indexOf(xs[i], '\\n') >= 0) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction getIndent(opts, depth) {\n    var baseIndent;\n    if (opts.indent === '\\t') {\n        baseIndent = '\\t';\n    } else if (typeof opts.indent === 'number' && opts.indent > 0) {\n        baseIndent = $join.call(Array(opts.indent + 1), ' ');\n    } else {\n        return null;\n    }\n    return {\n        base: baseIndent,\n        prev: $join.call(Array(depth + 1), baseIndent)\n    };\n}\n\nfunction indentedJoin(xs, indent) {\n    if (xs.length === 0) { return ''; }\n    var lineJoiner = '\\n' + indent.prev + indent.base;\n    return lineJoiner + $join.call(xs, ',' + lineJoiner) + '\\n' + indent.prev;\n}\n\nfunction arrObjKeys(obj, inspect) {\n    var isArr = isArray(obj);\n    var xs = [];\n    if (isArr) {\n        xs.length = obj.length;\n        for (var i = 0; i < obj.length; i++) {\n            xs[i] = has(obj, i) ? inspect(obj[i], obj) : '';\n        }\n    }\n    var syms = typeof gOPS === 'function' ? gOPS(obj) : [];\n    var symMap;\n    if (hasShammedSymbols) {\n        symMap = {};\n        for (var k = 0; k < syms.length; k++) {\n            symMap['$' + syms[k]] = syms[k];\n        }\n    }\n\n    for (var key in obj) { // eslint-disable-line no-restricted-syntax\n        if (!has(obj, key)) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (isArr && String(Number(key)) === key && key < obj.length) { continue; } // eslint-disable-line no-restricted-syntax, no-continue\n        if (hasShammedSymbols && symMap['$' + key] instanceof Symbol) {\n            // this is to prevent shammed Symbols, which are stored as strings, from being included in the string key section\n            continue; // eslint-disable-line no-restricted-syntax, no-continue\n        } else if ($test.call(/[^\\w$]/, key)) {\n            xs.push(inspect(key, obj) + ': ' + inspect(obj[key], obj));\n        } else {\n            xs.push(key + ': ' + inspect(obj[key], obj));\n        }\n    }\n    if (typeof gOPS === 'function') {\n        for (var j = 0; j < syms.length; j++) {\n            if (isEnumerable.call(obj, syms[j])) {\n                xs.push('[' + inspect(syms[j]) + ']: ' + inspect(obj[syms[j]], obj));\n            }\n        }\n    }\n    return xs;\n}\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    allowSparse: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\nvar parseArrayValue = function (val, options) {\n    if (val && typeof val === 'string' && options.comma && val.indexOf(',') > -1) {\n        return val.split(',');\n    }\n\n    return val;\n};\n\n// This is what browsers will submit when the ✓ character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the ✓ character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('✓')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset, 'key');\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset, 'key');\n            val = utils.maybeMap(\n                parseArrayValue(part.slice(pos + 1), options),\n                function (encodedVal) {\n                    return options.decoder(encodedVal, defaults.decoder, charset, 'value');\n                }\n            );\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (part.indexOf('[]=') > -1) {\n            val = isArray(val) ? [val] : val;\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options, valuesParsed) {\n    var leaf = valuesParsed ? val : parseArrayValue(val, options);\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else if (cleanRoot !== '__proto__') {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options, valuesParsed) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = options.depth > 0 && brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while (options.depth > 0 && (segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options, valuesParsed);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        allowSparse: typeof opts.allowSparse === 'boolean' ? opts.allowSparse : defaults.allowSparse,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        // eslint-disable-next-line no-implicit-coercion, no-extra-parens\n        depth: (typeof opts.depth === 'number' || opts.depth === false) ? +opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options, typeof str === 'string');\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    if (options.allowSparse === true) {\n        return obj;\n    }\n\n    return utils.compact(obj);\n};\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {Buffer} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filterFromParam = exports.FilterPolyfill = void 0;\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0,\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = (0, types_1.IntNumber)(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    uninstallFilter(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return (0, types_1.IntNumber)(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign(Object.assign({}, filter), { fromBlock: cursorPosition, toBlock })),\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => (0, util_1.intNumberFromHexString)(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = (0, types_1.IntNumber)(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        (0, util_1.range)(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber((0, types_1.IntNumber)(i))))).filter(hash => !!hash);\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        const newCursorPosition = (0, types_1.IntNumber)(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_blockNumber\", params: [] }));\n        return (0, util_1.intNumberFromHexString)((0, util_1.ensureHexString)(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getBlockByNumber\", params: [(0, util_1.hexStringFromIntNumber)(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return (0, util_1.ensureHexString)(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || [],\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics,\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return (0, types_1.IntNumber)(0);\n    }\n    else if ((0, util_1.isHexString)(value)) {\n        return (0, util_1.intNumberFromHexString)(value);\n    }\n    throw new Error(`Invalid block option: ${String(value)}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return (0, util_1.hexStringFromIntNumber)(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCMethod = void 0;\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_chainId\"] = \"eth_chainId\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"cbWallet_arbitrary\"] = \"walletlink_arbitrary\";\n    JSONRPCMethod[\"wallet_addEthereumChain\"] = \"wallet_addEthereumChain\";\n    JSONRPCMethod[\"wallet_switchEthereumChain\"] = \"wallet_switchEthereumChain\";\n    JSONRPCMethod[\"wallet_watchAsset\"] = \"wallet_watchAsset\";\n    // asynchronous pub/sub\n    JSONRPCMethod[\"eth_subscribe\"] = \"eth_subscribe\";\n    JSONRPCMethod[\"eth_unsubscribe\"] = \"eth_unsubscribe\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionManager = void 0;\nconst PollingBlockTracker = require(\"eth-block-tracker\");\nconst createSubscriptionManager = require(\"eth-json-rpc-filters/subscriptionManager\");\nconst noop = () => { };\nclass SubscriptionManager {\n    constructor(provider) {\n        const blockTracker = new PollingBlockTracker({\n            provider,\n            pollingInterval: 15 * 1000,\n            setSkipCacheFlag: true,\n        });\n        const { events, middleware } = createSubscriptionManager({\n            blockTracker,\n            provider,\n        });\n        this.events = events;\n        this.subscriptionMiddleware = middleware;\n    }\n    async handleRequest(request) {\n        const result = {};\n        await this.subscriptionMiddleware(request, result, noop, noop);\n        return result;\n    }\n    destroy() {\n        this.subscriptionMiddleware.destroy();\n    }\n}\nexports.SubscriptionManager = SubscriptionManager;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletSDKUI = void 0;\nconst LinkFlow_1 = require(\"../components/LinkFlow/LinkFlow\");\nconst Snackbar_1 = require(\"../components/Snackbar/Snackbar\");\nconst cssReset_1 = require(\"../lib/cssReset\");\nclass WalletSDKUI {\n    constructor(options) {\n        this.standalone = null;\n        this.attached = false;\n        this.appSrc = null;\n        this.snackbar = new Snackbar_1.Snackbar({\n            darkMode: options.darkMode,\n        });\n        this.linkFlow = new LinkFlow_1.LinkFlow({\n            darkMode: options.darkMode,\n            version: options.version,\n            sessionId: options.session.id,\n            sessionSecret: options.session.secret,\n            linkAPIUrl: options.linkAPIUrl,\n            connected$: options.connected$,\n            chainId$: options.chainId$,\n            isParentConnection: false,\n        });\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error(\"Coinbase Wallet SDK UI is already attached\");\n        }\n        const el = document.documentElement;\n        const container = document.createElement(\"div\");\n        container.className = \"-cbwsdk-css-reset\";\n        el.appendChild(container);\n        this.linkFlow.attach(container);\n        this.snackbar.attach(container);\n        this.attached = true;\n        (0, cssReset_1.injectCssReset)();\n    }\n    setConnectDisabled(connectDisabled) {\n        this.linkFlow.setConnectDisabled(connectDisabled);\n    }\n    /* istanbul ignore next */\n    addEthereumChain(_options) {\n        // no-op\n    }\n    /* istanbul ignore next */\n    watchAsset(_options) {\n        // no-op\n    }\n    /* istanbul ignore next */\n    switchEthereumChain(_options) {\n        // no-op\n    }\n    requestEthereumAccounts(options) {\n        this.linkFlow.open({ onCancel: options.onCancel });\n    }\n    hideRequestEthereumAccounts() {\n        this.linkFlow.close();\n    }\n    /* istanbul ignore next */\n    signEthereumMessage(_) {\n        // No-op\n    }\n    /* istanbul ignore next */\n    signEthereumTransaction(_) {\n        // No-op\n    }\n    /* istanbul ignore next */\n    submitEthereumTransaction(_) {\n        // No-op\n    }\n    /* istanbul ignore next */\n    ethereumAddressFromSignedMessage(_) {\n        // No-op\n    }\n    showConnecting(options) {\n        let snackbarProps;\n        if (options.isUnlinkedErrorState) {\n            snackbarProps = {\n                autoExpand: true,\n                message: \"Connection lost\",\n                appSrc: this.appSrc,\n                menuItems: [\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection,\n                    },\n                ],\n            };\n        }\n        else {\n            snackbarProps = {\n                message: \"Confirm on phone\",\n                appSrc: this.appSrc,\n                menuItems: [\n                    {\n                        isRed: true,\n                        info: \"Cancel transaction\",\n                        svgWidth: \"11\",\n                        svgHeight: \"11\",\n                        path: \"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z\",\n                        defaultFillRule: \"inherit\",\n                        defaultClipRule: \"inherit\",\n                        onClick: options.onCancel,\n                    },\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection,\n                    },\n                ],\n            };\n        }\n        return this.snackbar.presentItem(snackbarProps);\n    }\n    /* istanbul ignore next */\n    setAppSrc(appSrc) {\n        this.appSrc = appSrc;\n    }\n    /* istanbul ignore next */\n    reloadUI() {\n        document.location.reload();\n    }\n    /* istanbul ignore next */\n    inlineAccountsResponse() {\n        return false;\n    }\n    /* istanbul ignore next */\n    inlineAddEthereumChain(_chainId) {\n        return false;\n    }\n    /* istanbul ignore next */\n    inlineWatchAsset() {\n        return false;\n    }\n    /* istanbul ignore next */\n    inlineSwitchEthereumChain() {\n        return false;\n    }\n    /* istanbul ignore next */\n    setStandalone(status) {\n        this.standalone = status;\n    }\n    /* istanbul ignore next */\n    isStandalone() {\n        var _a;\n        return (_a = this.standalone) !== null && _a !== void 0 ? _a : false;\n    }\n}\nexports.WalletSDKUI = WalletSDKUI;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst ConnectDialog_1 = require(\"../ConnectDialog/ConnectDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.chainId = 1;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.linkAPIUrl = options.linkAPIUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        this.chainId$ = options.chainId$;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-cbwsdk-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n        this.subscriptions.add(this.chainId$.subscribe(chainId => {\n            if (this.chainId !== chainId) {\n                this.chainId = chainId;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$.subscribe(() => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)((0, preact_1.h)(ConnectDialog_1.ConnectDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, linkAPIUrl: this.linkAPIUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, chainId: this.chainId, onCancel: this.onCancel, connectDisabled: this.connectDisabled }), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConnectDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst ConnectContent_1 = require(\"../ConnectContent/ConnectContent\");\nconst TryExtensionContent_1 = require(\"../TryExtensionContent/TryExtensionContent\");\nconst ConnectDialog_css_1 = __importDefault(require(\"./ConnectDialog-css\"));\nconst ConnectDialog = (props) => {\n    const { isOpen, darkMode } = props;\n    const [containerHidden, setContainerHidden] = (0, hooks_1.useState)(!isOpen);\n    const [dialogHidden, setDialogHidden] = (0, hooks_1.useState)(!isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10),\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    const theme = darkMode ? \"dark\" : \"light\";\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-connect-dialog-container\", containerHidden && \"-cbwsdk-connect-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, ConnectDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-connect-dialog-backdrop\", theme, dialogHidden && \"-cbwsdk-connect-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-connect-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-connect-dialog-box\", dialogHidden && \"-cbwsdk-connect-dialog-box-hidden\") },\n                !props.connectDisabled ? ((0, preact_1.h)(ConnectContent_1.ConnectContent, { theme: theme, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, linkAPIUrl: props.linkAPIUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection, chainId: props.chainId, onCancel: props.onCancel })) : null,\n                (0, preact_1.h)(TryExtensionContent_1.TryExtensionContent, { theme: theme })))));\n};\nexports.ConnectDialog = ConnectDialog;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CoinbaseAppSteps = exports.CoinbaseWalletSteps = exports.ConnectItem = exports.ConnectContent = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst util_1 = require(\"../../util\");\nconst version_1 = require(\"../../version\");\nconst CloseIcon_1 = require(\"../icons/CloseIcon\");\nconst coinbase_round_svg_1 = __importDefault(require(\"../icons/coinbase-round-svg\"));\nconst coinbase_wallet_round_svg_1 = __importDefault(require(\"../icons/coinbase-wallet-round-svg\"));\nconst QRCodeIcon_1 = require(\"../icons/QRCodeIcon\");\nconst QRLogoCoinbase_1 = __importDefault(require(\"../icons/QRLogoCoinbase\"));\nconst QRLogoWallet_1 = __importDefault(require(\"../icons/QRLogoWallet\"));\nconst StatusDotIcon_1 = require(\"../icons/StatusDotIcon\");\nconst QRCode_1 = require(\"../QRCode\");\nconst Spinner_1 = require(\"../Spinner/Spinner\");\nconst ConnectContent_css_1 = __importDefault(require(\"./ConnectContent-css\"));\nconst wallets = {\n    \"coinbase-wallet-app\": {\n        title: \"Coinbase Wallet app\",\n        description: \"Connect with your self-custody wallet\",\n        icon: coinbase_wallet_round_svg_1.default,\n        steps: CoinbaseWalletSteps,\n    },\n    \"coinbase-app\": {\n        title: \"Coinbase app\",\n        description: \"Connect with your Coinbase account\",\n        icon: coinbase_round_svg_1.default,\n        steps: CoinbaseAppSteps,\n    },\n};\nconst makeQrCodeImage = (app) => {\n    switch (app) {\n        case \"coinbase-app\":\n            return QRLogoCoinbase_1.default;\n        case \"coinbase-wallet-app\":\n        default:\n            return QRLogoWallet_1.default;\n    }\n};\nconst makeIconColor = (theme) => {\n    return theme === \"light\" ? \"#FFFFFF\" : \"#0A0B0D\";\n};\nfunction ConnectContent(props) {\n    const { theme } = props;\n    const [selected, setSelected] = (0, hooks_1.useState)(\"coinbase-wallet-app\");\n    const handleSelect = (0, hooks_1.useCallback)((id) => {\n        setSelected(id);\n    }, []);\n    const qrUrl = (0, util_1.createQrUrl)(props.sessionId, props.sessionSecret, props.linkAPIUrl, props.isParentConnection, props.version, props.chainId);\n    const wallet = wallets[selected];\n    if (!selected) {\n        return null;\n    }\n    const WalletSteps = wallet.steps;\n    const coinbaseApp = selected === \"coinbase-app\";\n    return ((0, preact_1.h)(\"div\", { \"data-testid\": \"connect-content\", class: (0, clsx_1.default)(\"-cbwsdk-connect-content\", theme) },\n        (0, preact_1.h)(\"style\", null, ConnectContent_css_1.default),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-connect-content-header\" },\n            (0, preact_1.h)(\"h2\", { class: (0, clsx_1.default)(\"-cbwsdk-connect-content-heading\", theme) }, \"Scan to connect with one of our mobile apps\"),\n            props.onCancel && ((0, preact_1.h)(\"button\", { type: \"button\", class: \"-cbwsdk-cancel-button\", onClick: props.onCancel },\n                (0, preact_1.h)(CloseIcon_1.CloseIcon, { fill: theme === \"light\" ? \"#0A0B0D\" : \"#FFFFFF\" })))),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-connect-content-layout\" },\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-connect-content-column-left\" },\n                (0, preact_1.h)(\"div\", null, Object.entries(wallets).map(([key, value]) => {\n                    return ((0, preact_1.h)(ConnectItem, { key: key, title: value.title, description: value.description, icon: value.icon, selected: selected === key, onClick: () => handleSelect(key), theme: theme }));\n                })),\n                coinbaseApp && ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-connect-content-update-app\", theme) },\n                    \"Don\\u2019t see a \",\n                    (0, preact_1.h)(\"strong\", null, \"Scan\"),\n                    \" option? Update your Coinbase app to the latest version and try again.\"))),\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-connect-content-column-right\" },\n                (0, preact_1.h)(\"div\", { class: \"-cbwsdk-connect-content-qr-wrapper\" },\n                    (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 200, height: 200, fgColor: \"#000\", bgColor: \"transparent\", image: {\n                            svg: makeQrCodeImage(selected),\n                            width: 25,\n                            height: 25,\n                        } }),\n                    (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"cbw-cbwsdk-version\", value: version_1.LIB_VERSION }),\n                    (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl })),\n                (0, preact_1.h)(WalletSteps, { theme: theme }),\n                !props.isConnected && ((0, preact_1.h)(\"div\", { \"data-testid\": \"connecting-spinner\", class: (0, clsx_1.default)(\"-cbwsdk-connect-content-qr-connecting\", theme) },\n                    (0, preact_1.h)(Spinner_1.Spinner, { size: 36, color: theme === \"dark\" ? \"#FFF\" : \"#000\" }),\n                    (0, preact_1.h)(\"p\", null, \"Connecting...\")))))));\n}\nexports.ConnectContent = ConnectContent;\nfunction ConnectItem({ title, description, icon, selected, theme, onClick, }) {\n    return ((0, preact_1.h)(\"div\", { onClick: onClick, class: (0, clsx_1.default)(\"-cbwsdk-connect-item\", theme, { selected }) },\n        (0, preact_1.h)(\"div\", null,\n            (0, preact_1.h)(\"img\", { src: icon, alt: title })),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-connect-item-copy-wrapper\" },\n            (0, preact_1.h)(\"h3\", { class: \"-cbwsdk-connect-item-title\" }, title),\n            (0, preact_1.h)(\"p\", { class: \"-cbwsdk-connect-item-description\" }, description))));\n}\nexports.ConnectItem = ConnectItem;\nfunction CoinbaseWalletSteps({ theme }) {\n    return ((0, preact_1.h)(\"ol\", { class: \"-cbwsdk-wallet-steps\" },\n        (0, preact_1.h)(\"li\", { class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme) },\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-wallet-steps-item-wrapper\" }, \"Open Coinbase Wallet app\")),\n        (0, preact_1.h)(\"li\", { class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme) },\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-wallet-steps-item-wrapper\" },\n                (0, preact_1.h)(\"span\", null,\n                    \"Tap \",\n                    (0, preact_1.h)(\"strong\", null, \"Scan\"),\n                    \" \"),\n                (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-pad-left\", \"-cbwsdk-wallet-steps-icon\", theme) },\n                    (0, preact_1.h)(QRCodeIcon_1.QRCodeIcon, { fill: makeIconColor(theme) }))))));\n}\nexports.CoinbaseWalletSteps = CoinbaseWalletSteps;\nfunction CoinbaseAppSteps({ theme }) {\n    return ((0, preact_1.h)(\"ol\", { class: \"-cbwsdk-wallet-steps\" },\n        (0, preact_1.h)(\"li\", { class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme) },\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-wallet-steps-item-wrapper\" }, \"Open Coinbase app\")),\n        (0, preact_1.h)(\"li\", { class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme) },\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-wallet-steps-item-wrapper\" },\n                (0, preact_1.h)(\"span\", null,\n                    \"Tap \",\n                    (0, preact_1.h)(\"strong\", null, \"More\")),\n                (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-pad-left\", \"-cbwsdk-wallet-steps-icon\", theme) },\n                    (0, preact_1.h)(StatusDotIcon_1.StatusDotIcon, { fill: makeIconColor(theme) })),\n                (0, preact_1.h)(\"span\", { class: \"-cbwsdk-wallet-steps-pad-left\" },\n                    \"then \",\n                    (0, preact_1.h)(\"strong\", null, \"Scan\")),\n                (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-pad-left\", \"-cbwsdk-wallet-steps-icon\", theme) },\n                    (0, preact_1.h)(QRCodeIcon_1.QRCodeIcon, { fill: makeIconColor(theme) }))))));\n}\nexports.CoinbaseAppSteps = CoinbaseAppSteps;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LIB_VERSION = void 0;\nexports.LIB_VERSION = \"3.6.3\";\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CloseIcon = void 0;\nconst preact_1 = require(\"preact\");\nfunction CloseIcon(props) {\n    return ((0, preact_1.h)(\"svg\", Object.assign({ width: \"40\", height: \"40\", viewBox: \"0 0 40 40\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" }, props),\n        (0, preact_1.h)(\"path\", { d: \"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z\" })));\n}\nexports.CloseIcon = CloseIcon;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=`;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCodeIcon = void 0;\nconst preact_1 = require(\"preact\");\nfunction QRCodeIcon(props) {\n    return ((0, preact_1.h)(\"svg\", Object.assign({ width: \"10\", height: \"10\", viewBox: \"0 0 10 10\", xmlns: \"http://www.w3.org/2000/svg\" }, props),\n        (0, preact_1.h)(\"path\", { d: \"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z\" })));\n}\nexports.QRCodeIcon = QRCodeIcon;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst svg = `\n    <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z\" fill=\"white\"/>\n        <path d=\"M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z\" fill=\"#0052FF\"/>\n        <path d=\"M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z\" fill=\"white\"/>\n    </svg>\n`;\nexports.default = svg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `\n    <svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"white\"/>\n        <circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" fill=\"#1B53E4\"/>\n        <circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" stroke=\"white\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z\" fill=\"white\"/>\n    </svg>\n`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StatusDotIcon = void 0;\nconst preact_1 = require(\"preact\");\nfunction StatusDotIcon(props) {\n    return ((0, preact_1.h)(\"svg\", Object.assign({ width: \"10\", height: \"10\", viewBox: \"0 0 10 10\", xmlns: \"http://www.w3.org/2000/svg\" }, props),\n        (0, preact_1.h)(\"path\", { \"fill-rule\": \"evenodd\", \"clip-rule\": \"evenodd\", d: \"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z\" })));\n}\nexports.StatusDotIcon = StatusDotIcon;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCode = void 0;\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst qrcode_svg_1 = __importDefault(require(\"../vendor-js/qrcode-svg\"));\nconst QRCode = props => {\n    const [svg, setSvg] = (0, hooks_1.useState)(\"\");\n    (0, hooks_1.useEffect)(() => {\n        var _a, _b;\n        const qrcode = new qrcode_svg_1.default({\n            content: props.content,\n            background: props.bgColor || \"#ffffff\",\n            color: props.fgColor || \"#000000\",\n            container: \"svg\",\n            ecl: \"M\",\n            width: (_a = props.width) !== null && _a !== void 0 ? _a : 256,\n            height: (_b = props.height) !== null && _b !== void 0 ? _b : 256,\n            padding: 0,\n            image: props.image,\n        });\n        const base64 = Buffer.from(qrcode.svg(), \"utf8\").toString(\"base64\");\n        setSvg(`data:image/svg+xml;base64,${base64}`);\n    });\n    return svg ? (0, preact_1.h)(\"img\", { src: svg, alt: \"QR Code\" }) : null;\n};\nexports.QRCode = QRCode;\n","/**\n * @fileoverview\n * - modified davidshimjs/qrcodejs library for use in node.js\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @version 0.9.1 (2016-02-12)\n * @author davidshimjs, papnkukn\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n * @see <a href=\"https://github.com/davidshimjs/qrcodejs\" target=\"_blank\">https://github.com/davidshimjs/qrcodejs</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = [];\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[3] = 0x80 | (code & 0x3F);\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[2] = 0x80 | (code & 0x3F);\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n      byteArray[1] = 0x80 | (code & 0x3F);\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length;\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n\n/** Constructor */\nfunction QRCode(options) {\n  var instance = this;\n\n  //Default options\n  this.options = {\n    padding: 4,\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    color: \"#000000\",\n    background: \"#ffffff\",\n    ecl: \"M\",\n    image:{\n      svg:\"\",\n      width:0,\n      height:0\n    }\n  };\n\n  //In case the options is string\n  if (typeof options === 'string') {\n    options = {\n      content: options\n    };\n  }\n\n  //Merge options\n  if (options) {\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n  }\n\n  if (typeof this.options.content !== 'string') {\n    throw new Error(\"Expected 'content' as string!\");\n  }\n\n  if (this.options.content.length === 0 /* || this.options.content.length > 7089 */) {\n    throw new Error(\"Expected 'content' to be non-empty!\");\n  }\n\n  if (!(this.options.padding >= 0)) {\n    throw new Error(\"Expected 'padding' value to be non-negative!\");\n  }\n\n  if (!(this.options.width > 0) || !(this.options.height > 0)) {\n    throw new Error(\"Expected 'width' or 'height' value to be higher than zero!\");\n  }\n\n  //Gets the error correction level\n  function _getErrorCorrectLevel(ecl) {\n    switch (ecl) {\n        case \"L\":\n          return QRErrorCorrectLevel.L;\n\n        case \"M\":\n          return QRErrorCorrectLevel.M;\n\n        case \"Q\":\n          return QRErrorCorrectLevel.Q;\n\n        case \"H\":\n          return QRErrorCorrectLevel.H;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n  }\n\n  //Get type number\n  function _getTypeNumber(content, ecl) {\n    var length = _getUTF8Length(content);\n\n    var type = 1;\n    var limit = 0;\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var table = QRCodeLimitLength[i];\n      if (!table) {\n        throw new Error(\"Content too long: expected \" + limit + \" but got \" + length);\n      }\n\n      switch (ecl) {\n        case \"L\":\n          limit = table[0];\n          break;\n\n        case \"M\":\n          limit = table[1];\n          break;\n\n        case \"Q\":\n          limit = table[2];\n          break;\n\n        case \"H\":\n          limit = table[3];\n          break;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n\n      if (length <= limit) {\n        break;\n      }\n\n      type++;\n    }\n\n    if (type > QRCodeLimitLength.length) {\n      throw new Error(\"Content too long\");\n    }\n\n    return type;\n  }\n\n  //Gets text length\n  function _getUTF8Length(content) {\n    var result = encodeURI(content).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n    return result.length + (result.length != content ? 3 : 0);\n  }\n\n  //Generate QR Code matrix\n  var content = this.options.content;\n  var type = _getTypeNumber(content, this.options.ecl);\n  var ecl = _getErrorCorrectLevel(this.options.ecl);\n  this.qrcode = new QRCodeModel(type, ecl);\n  this.qrcode.addData(content);\n  this.qrcode.make();\n}\n\n/** Generates QR Code as SVG image */\nQRCode.prototype.svg = function(opt) {\n  var options = this.options || { };\n  var modules = this.qrcode.modules;\n\n  if (typeof opt == \"undefined\") {\n    opt = { container: options.container || \"svg\" };\n  }\n\n  //Apply new lines and indents in SVG?\n  var pretty = typeof options.pretty != \"undefined\" ? !!options.pretty : true;\n\n  var indent = pretty ? '  ' : '';\n  var EOL = pretty ? '\\r\\n' : '';\n  var width = options.width;\n  var height = options.height;\n  var length = modules.length;\n  var xsize = width / (length + 2 * options.padding);\n  var ysize = height / (length + 2 * options.padding);\n\n  //Join (union, merge) rectangles into one shape?\n  var join = typeof options.join != \"undefined\" ? !!options.join : false;\n\n  //Swap the X and Y modules, pull request #2\n  var swap = typeof options.swap != \"undefined\" ? !!options.swap : false;\n\n  //Apply <?xml...?> declaration in SVG?\n  var xmlDeclaration = typeof options.xmlDeclaration != \"undefined\" ? !!options.xmlDeclaration : true;\n\n  //Populate with predefined shape instead of \"rect\" elements, thanks to @kkocdko\n  var predefined = typeof options.predefined != \"undefined\" ? !!options.predefined : false;\n  var defs = predefined ? indent + '<defs><path id=\"qrmodule\" d=\"M0 0 h' + ysize + ' v' + xsize + ' H0 z\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" /></defs>' + EOL : '';\n\n  //Background rectangle\n  var bgrect = indent + '<rect x=\"0\" y=\"0\" width=\"' + width + '\" height=\"' + height + '\" style=\"fill:' + options.background + ';shape-rendering:crispEdges;\"/>' + EOL;\n\n  //Rectangles representing modules\n  var modrect = '';\n  var pathdata = '';\n\n  for (var y = 0; y < length; y++) {\n    for (var x = 0; x < length; x++) {\n      var module = modules[x][y];\n      if (module) {\n\n        var px = (x * xsize + options.padding * xsize);\n        var py = (y * ysize + options.padding * ysize);\n\n        //Some users have had issues with the QR Code, thanks to @danioso for the solution\n        if (swap) {\n          var t = px;\n          px = py;\n          py = t;\n        }\n\n        if (join) {\n          //Module as a part of svg path data, thanks to @danioso\n          var w = xsize + px\n          var h = ysize + py\n\n          px = (Number.isInteger(px))? Number(px): px.toFixed(2);\n          py = (Number.isInteger(py))? Number(py): py.toFixed(2);\n          w = (Number.isInteger(w))? Number(w): w.toFixed(2);\n          h = (Number.isInteger(h))? Number(h): h.toFixed(2);\n\n          pathdata += ('M' + px + ',' + py + ' V' + h + ' H' + w + ' V' + py + ' H' + px + ' Z ');\n        }\n        else if (predefined) {\n          //Module as a predefined shape, thanks to @kkocdko\n          modrect += indent + '<use x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" href=\"#qrmodule\" />' + EOL;\n        }\n        else {\n          //Module as rectangle element\n          modrect += indent + '<rect x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" width=\"' + xsize + '\" height=\"' + ysize + '\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\"/>' + EOL;\n        }\n      }\n    }\n  }\n\n  if (join) {\n    modrect = indent + '<path x=\"0\" y=\"0\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" d=\"' + pathdata + '\" />';\n  }\n  let imgSvg = \"\";\n  if(this.options.image !== undefined && this.options.image.svg){\n    const imgWidth = width * this.options.image.width / 100;\n    const imgHeight = height * this.options.image.height / 100;\n    const imgX = (width/2) - imgWidth/2;\n    const imgY = (height/2) - imgHeight/2;\n    imgSvg += `<svg x=\"${imgX}\" y=\"${imgY}\" width=\"${imgWidth}\" height=\"${imgHeight}\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin meet\">`;\n    imgSvg += this.options.image.svg + EOL;\n    imgSvg += '</svg>';\n  }\n\n  var svg = \"\";\n  switch (opt.container) {\n    //Wrapped in SVG document\n    case \"svg\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n    //Viewbox for responsive use in a browser, thanks to @danioso\n    case \"svg-viewbox\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + width + ' ' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n\n    //Wrapped in group element\n    case \"g\":\n      svg += '<g width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</g>';\n\n      break;\n\n    //Without a container\n    default:\n      svg += (defs + bgrect + modrect + imgSvg).replace(/^\\s+/, \"\"); //Clear indents on each line\n      break;\n  }\n\n  return svg;\n};\n\nmodule.exports = QRCode;\n\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Spinner = void 0;\nconst preact_1 = require(\"preact\");\nconst Spinner_css_1 = __importDefault(require(\"./Spinner-css\"));\nconst Spinner = props => {\n    var _a;\n    const size = (_a = props.size) !== null && _a !== void 0 ? _a : 64;\n    const color = props.color || \"#000\";\n    return ((0, preact_1.h)(\"div\", { class: \"-cbwsdk-spinner\" },\n        (0, preact_1.h)(\"style\", null, Spinner_css_1.default),\n        (0, preact_1.h)(\"svg\", { viewBox: \"0 0 100 100\", xmlns: \"http://www.w3.org/2000/svg\", style: { width: size, height: size } },\n            (0, preact_1.h)(\"circle\", { style: { cx: 50, cy: 50, r: 45, stroke: color } }))));\n};\nexports.Spinner = Spinner;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}`;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}`;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TryExtensionContent = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst ArrowLeftIcon_1 = require(\"../icons/ArrowLeftIcon\");\nconst LaptopIcon_1 = require(\"../icons/LaptopIcon\");\nconst SafeIcon_1 = require(\"../icons/SafeIcon\");\nconst TryExtensionContent_css_1 = __importDefault(require(\"./TryExtensionContent-css\"));\nfunction TryExtensionContent({ theme }) {\n    const [clicked, setClicked] = (0, hooks_1.useState)(false);\n    const handleInstallClick = (0, hooks_1.useCallback)(() => {\n        window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n    }, []);\n    const handleClick = (0, hooks_1.useCallback)(() => {\n        if (clicked) {\n            window.location.reload();\n        }\n        else {\n            handleInstallClick();\n            setClicked(true);\n        }\n    }, [handleInstallClick, clicked]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-try-extension\", theme) },\n        (0, preact_1.h)(\"style\", null, TryExtensionContent_css_1.default),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-try-extension-column-half\" },\n            (0, preact_1.h)(\"h3\", { class: (0, clsx_1.default)(\"-cbwsdk-try-extension-heading\", theme) }, \"Or try the Coinbase Wallet browser extension\"),\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-try-extension-cta-wrapper\" },\n                (0, preact_1.h)(\"button\", { class: (0, clsx_1.default)(\"-cbwsdk-try-extension-cta\", theme), onClick: handleClick }, clicked ? \"Refresh\" : \"Install\"),\n                (0, preact_1.h)(\"div\", null, !clicked && ((0, preact_1.h)(ArrowLeftIcon_1.ArrowLeftIcon, { class: \"-cbwsdk-try-extension-cta-icon\", fill: theme === \"light\" ? \"#0052FF\" : \"#588AF5\" }))))),\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-try-extension-column-half\" },\n            (0, preact_1.h)(\"ul\", { class: \"-cbwsdk-try-extension-list\" },\n                (0, preact_1.h)(\"li\", { class: \"-cbwsdk-try-extension-list-item\" },\n                    (0, preact_1.h)(\"div\", { class: \"-cbwsdk-try-extension-list-item-icon-wrapper\" },\n                        (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-cbwsdk-try-extension-list-item-icon\", theme) },\n                            (0, preact_1.h)(LaptopIcon_1.LaptopIcon, { fill: theme === \"light\" ? \"#0A0B0D\" : \"#FFFFFF\" }))),\n                    (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-try-extension-list-item-copy\", theme) }, \"Connect with dapps with just one click on your desktop browser\")),\n                (0, preact_1.h)(\"li\", { class: \"-cbwsdk-try-extension-list-item\" },\n                    (0, preact_1.h)(\"div\", { class: \"-cbwsdk-try-extension-list-item-icon-wrapper\" },\n                        (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-cbwsdk-try-extension-list-item-icon\", theme) },\n                            (0, preact_1.h)(SafeIcon_1.SafeIcon, { fill: theme === \"light\" ? \"#0A0B0D\" : \"#FFFFFF\" }))),\n                    (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-try-extension-list-item-copy\", theme) }, \"Add an additional layer of security by using a supported Ledger hardware wallet\"))))));\n}\nexports.TryExtensionContent = TryExtensionContent;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrowLeftIcon = void 0;\nconst preact_1 = require(\"preact\");\nfunction ArrowLeftIcon(props) {\n    return ((0, preact_1.h)(\"svg\", Object.assign({ width: \"16\", height: \"16\", viewBox: \"0 0 16 16\", xmlns: \"http://www.w3.org/2000/svg\" }, props),\n        (0, preact_1.h)(\"path\", { d: \"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z\" })));\n}\nexports.ArrowLeftIcon = ArrowLeftIcon;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LaptopIcon = void 0;\nconst preact_1 = require(\"preact\");\nfunction LaptopIcon(props) {\n    return ((0, preact_1.h)(\"svg\", Object.assign({ width: \"14\", height: \"14\", viewBox: \"0 0 14 14\", xmlns: \"http://www.w3.org/2000/svg\" }, props),\n        (0, preact_1.h)(\"path\", { d: \"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z\" }),\n        (0, preact_1.h)(\"path\", { d: \"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z\" })));\n}\nexports.LaptopIcon = LaptopIcon;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SafeIcon = void 0;\nconst preact_1 = require(\"preact\");\nfunction SafeIcon(props) {\n    return ((0, preact_1.h)(\"svg\", Object.assign({ width: \"14\", height: \"14\", viewBox: \"0 0 14 14\", xmlns: \"http://www.w3.org/2000/svg\" }, props),\n        (0, preact_1.h)(\"path\", { \"fill-rule\": \"evenodd\", \"clip-rule\": \"evenodd\", d: \"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z\" })));\n}\nexports.SafeIcon = SafeIcon;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}`;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}`;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SnackbarInstance = exports.SnackbarContainer = exports.Snackbar = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst Snackbar_css_1 = __importDefault(require(\"./Snackbar-css\"));\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nfunction makeSnackbarIcon(appSrc) {\n    switch (appSrc) {\n        case \"coinbase-app\":\n            return `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+`;\n        case \"coinbase-wallet-app\":\n        default:\n            return `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\n    }\n}\nclass Snackbar {\n    constructor(options) {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = options.darkMode;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-cbwsdk-snackbar-root\";\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        (0, preact_1.render)((0, preact_1.h)(\"div\", null,\n            (0, preact_1.h)(exports.SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => ((0, preact_1.h)(exports.SnackbarInstance, Object.assign({}, itemProps, { key: key })))))), this.root);\n    }\n}\nexports.Snackbar = Snackbar;\nconst SnackbarContainer = props => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-snackbar-container\") },\n    (0, preact_1.h)(\"style\", null, Snackbar_css_1.default),\n    (0, preact_1.h)(\"div\", { class: \"-cbwsdk-snackbar\" }, props.children)));\nexports.SnackbarContainer = SnackbarContainer;\nconst SnackbarInstance = ({ autoExpand, message, menuItems, appSrc, }) => {\n    const [hidden, setHidden] = (0, hooks_1.useState)(true);\n    const [expanded, setExpanded] = (0, hooks_1.useState)(autoExpand !== null && autoExpand !== void 0 ? autoExpand : false);\n    (0, hooks_1.useEffect)(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000),\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-snackbar-instance\", hidden && \"-cbwsdk-snackbar-instance-hidden\", expanded && \"-cbwsdk-snackbar-instance-expanded\") },\n        (0, preact_1.h)(\"div\", { class: \"-cbwsdk-snackbar-instance-header\", onClick: toggleExpanded },\n            (0, preact_1.h)(\"img\", { src: makeSnackbarIcon(appSrc), class: \"-cbwsdk-snackbar-instance-header-cblogo\" }),\n            (0, preact_1.h)(\"div\", { class: \"-cbwsdk-snackbar-instance-header-message\" }, message),\n            (0, preact_1.h)(\"div\", { class: \"-gear-container\" },\n                !expanded && ((0, preact_1.h)(\"svg\", { width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                    (0, preact_1.h)(\"circle\", { cx: \"12\", cy: \"12\", r: \"12\", fill: \"#F5F7F8\" }))),\n                (0, preact_1.h)(\"img\", { src: gearIcon, class: \"-gear-icon\", title: \"Expand\" }))),\n        menuItems && menuItems.length > 0 && ((0, preact_1.h)(\"div\", { class: \"-cbwsdk-snackbar-instance-menu\" }, menuItems.map((action, i) => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-cbwsdk-snackbar-instance-menu-item\", action.isRed && \"-cbwsdk-snackbar-instance-menu-item-is-red\"), onClick: action.onClick, key: i },\n            (0, preact_1.h)(\"svg\", { width: action.svgWidth, height: action.svgHeight, viewBox: \"0 0 10 11\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                (0, preact_1.h)(\"path\", { \"fill-rule\": action.defaultFillRule, \"clip-rule\": action.defaultClipRule, d: action.path, fill: \"#AAAAAA\" })),\n            (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-cbwsdk-snackbar-instance-menu-item-info\", action.isRed &&\n                    \"-cbwsdk-snackbar-instance-menu-item-info-is-red\") }, action.info))))))));\n};\nexports.SnackbarInstance = SnackbarInstance;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}`;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCssReset = void 0;\nconst cssReset_css_1 = __importDefault(require(\"./cssReset-css\"));\nfunction injectCssReset() {\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(cssReset_css_1.default));\n    document.documentElement.appendChild(styleEl);\n}\nexports.injectCssReset = injectCssReset;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `@namespace svg \"http://www.w3.org/2000/svg\";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}`;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletSDKRelay = void 0;\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst DiagnosticLogger_1 = require(\"../connection/DiagnosticLogger\");\nconst WalletSDKConnection_1 = require(\"../connection/WalletSDKConnection\");\nconst WalletUIError_1 = require(\"../provider/WalletUIError\");\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst aes256gcm = __importStar(require(\"./aes256gcm\"));\nconst Session_1 = require(\"./Session\");\nconst WalletSDKRelayAbstract_1 = require(\"./WalletSDKRelayAbstract\");\nconst Web3Method_1 = require(\"./Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./Web3RequestMessage\");\nconst Web3Response_1 = require(\"./Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./Web3ResponseMessage\");\nclass WalletSDKRelay extends WalletSDKRelayAbstract_1.WalletSDKRelayAbstract {\n    constructor(options) {\n        var _a;\n        super();\n        this.accountsCallback = null;\n        this.chainCallback = null;\n        this.dappDefaultChainSubject = new rxjs_1.BehaviorSubject(1);\n        this.dappDefaultChain = 1;\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.linkAPIUrl = options.linkAPIUrl;\n        this.storage = options.storage;\n        this.options = options;\n        const { session, ui, connection } = this.subscribe();\n        this._session = session;\n        this.connection = connection;\n        this.relayEventManager = options.relayEventManager;\n        if (options.diagnosticLogger && options.eventListener) {\n            throw new Error(\"Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger\");\n        }\n        if (options.eventListener) {\n            this.diagnostic = {\n                // eslint-disable-next-line @typescript-eslint/unbound-method\n                log: options.eventListener.onEvent,\n            };\n        }\n        else {\n            this.diagnostic = options.diagnosticLogger;\n        }\n        this._reloadOnDisconnect = (_a = options.reloadOnDisconnect) !== null && _a !== void 0 ? _a : true;\n        this.ui = ui;\n    }\n    subscribe() {\n        this.subscriptions.add(this.dappDefaultChainSubject.subscribe(chainId => {\n            if (this.dappDefaultChain !== chainId) {\n                this.dappDefaultChain = chainId;\n            }\n        }));\n        const session = Session_1.Session.load(this.storage) || new Session_1.Session(this.storage).save();\n        const connection = new WalletSDKConnection_1.WalletSDKConnection(session.id, session.key, this.linkAPIUrl, this.diagnostic);\n        this.subscriptions.add(connection.sessionConfig$.subscribe({\n            next: sessionConfig => {\n                this.onSessionConfigChanged(sessionConfig);\n            },\n            error: () => {\n                var _a;\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                    message: \"error while invoking session config callback\",\n                });\n            },\n        }));\n        this.subscriptions.add(connection.incomingEvent$\n            .pipe((0, operators_1.filter)(m => m.event === \"Web3Response\"))\n            .subscribe({ next: this.handleIncomingEvent }));\n        this.subscriptions.add(connection.linked$\n            .pipe((0, operators_1.skip)(1), (0, operators_1.tap)((linked) => {\n            var _a;\n            this.isLinked = linked;\n            const cachedAddresses = this.storage.getItem(WalletSDKRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n            if (linked) {\n                // Only set linked session variable one way\n                this.session.linked = linked;\n            }\n            this.isUnlinkedErrorState = false;\n            if (cachedAddresses) {\n                const addresses = cachedAddresses.split(\" \");\n                const wasConnectedViaStandalone = this.storage.getItem(\"IsStandaloneSigning\") === \"true\";\n                if (addresses[0] !== \"\" &&\n                    !linked &&\n                    this.session.linked &&\n                    !wasConnectedViaStandalone) {\n                    this.isUnlinkedErrorState = true;\n                    const sessionIdHash = this.getSessionIdHash();\n                    (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.UNLINKED_ERROR_STATE, {\n                        sessionIdHash,\n                    });\n                }\n            }\n        }))\n            .subscribe());\n        // if session is marked destroyed, reset and reload\n        this.subscriptions.add(connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => !!c.metadata && c.metadata.__destroyed === \"1\"))\n            .subscribe(() => {\n            var _a;\n            const alreadyDestroyed = connection.isDestroyed;\n            (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.METADATA_DESTROYED, {\n                alreadyDestroyed,\n                sessionIdHash: this.getSessionIdHash(),\n            });\n            return this.resetAndReload();\n        }));\n        this.subscriptions.add(connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.WalletUsername !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.WalletUsername, session.secret)))\n            .subscribe({\n            next: walletUsername => {\n                this.storage.setItem(WalletSDKRelayAbstract_1.WALLET_USER_NAME_KEY, walletUsername);\n            },\n            error: () => {\n                var _a;\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"username\",\n                });\n            },\n        }));\n        this.subscriptions.add(connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.AppVersion !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.AppVersion, session.secret)))\n            .subscribe({\n            next: appVersion => {\n                this.storage.setItem(WalletSDKRelayAbstract_1.APP_VERSION_KEY, appVersion);\n            },\n            error: () => {\n                var _a;\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"appversion\",\n                });\n            },\n        }));\n        this.subscriptions.add(connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata &&\n            c.metadata.ChainId !== undefined &&\n            c.metadata.JsonRpcUrl !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => (0, rxjs_1.zip)(aes256gcm.decrypt(c.metadata.ChainId, session.secret), aes256gcm.decrypt(c.metadata.JsonRpcUrl, session.secret))))\n            .pipe((0, operators_1.distinctUntilChanged)())\n            .subscribe({\n            next: ([chainId, jsonRpcUrl]) => {\n                if (this.chainCallback) {\n                    this.chainCallback(chainId, jsonRpcUrl);\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"chainId|jsonRpcUrl\",\n                });\n            },\n        }));\n        this.subscriptions.add(connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.EthereumAddress !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.EthereumAddress, session.secret)))\n            .subscribe({\n            next: selectedAddress => {\n                if (this.accountsCallback) {\n                    this.accountsCallback([selectedAddress]);\n                }\n                if (WalletSDKRelay.accountRequestCallbackIds.size > 0) {\n                    // We get the ethereum address from the metadata.  If for whatever\n                    // reason we don't get a response via an explicit web3 message\n                    // we can still fulfill the eip1102 request.\n                    Array.from(WalletSDKRelay.accountRequestCallbackIds.values()).forEach(id => {\n                        const message = (0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                            id,\n                            response: (0, Web3Response_1.RequestEthereumAccountsResponse)([\n                                selectedAddress,\n                            ]),\n                        });\n                        this.invokeCallback(Object.assign(Object.assign({}, message), { id }));\n                    });\n                    WalletSDKRelay.accountRequestCallbackIds.clear();\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"selectedAddress\",\n                });\n            },\n        }));\n        this.subscriptions.add(connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.AppSrc !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.AppSrc, session.secret)))\n            .subscribe({\n            next: appSrc => {\n                this.ui.setAppSrc(appSrc);\n            },\n            error: () => {\n                var _a;\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"appSrc\",\n                });\n            },\n        }));\n        const ui = this.options.uiConstructor({\n            linkAPIUrl: this.options.linkAPIUrl,\n            version: this.options.version,\n            darkMode: this.options.darkMode,\n            session,\n            connected$: connection.connected$,\n            chainId$: this.dappDefaultChainSubject,\n        });\n        connection.connect();\n        return { session, ui, connection };\n    }\n    attachUI() {\n        this.ui.attach();\n    }\n    resetAndReload() {\n        this.connection\n            .setSessionMetadata(\"__destroyed\", \"1\")\n            .pipe((0, operators_1.timeout)(1000), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(null)))\n            .subscribe(_ => {\n            var _a, _b, _c;\n            const isStandalone = this.ui.isStandalone();\n            try {\n                this.subscriptions.unsubscribe();\n            }\n            catch (err) {\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error unsubscribing\",\n                });\n            }\n            (_b = this.diagnostic) === null || _b === void 0 ? void 0 : _b.log(DiagnosticLogger_1.EVENTS.SESSION_STATE_CHANGE, {\n                method: \"relay::resetAndReload\",\n                sessionMetadataChange: \"__destroyed, 1\",\n                sessionIdHash: this.getSessionIdHash(),\n            });\n            this.connection.destroy();\n            /**\n             * Only clear storage if the session id we have in memory matches the one on disk\n             * Otherwise, in the case where we have 2 tabs, another tab might have cleared\n             * storage already.  In that case if we clear storage again, the user will be in\n             * a state where the first tab allows the user to connect but the session that\n             * was used isn't persisted.  This leaves the user in a state where they aren't\n             * connected to the mobile app.\n             */\n            const storedSession = Session_1.Session.load(this.storage);\n            if ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) === this._session.id) {\n                this.storage.clear();\n            }\n            else if (storedSession) {\n                (_c = this.diagnostic) === null || _c === void 0 ? void 0 : _c.log(DiagnosticLogger_1.EVENTS.SKIPPED_CLEARING_SESSION, {\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: Session_1.Session.hash(storedSession.id),\n                });\n            }\n            if (this._reloadOnDisconnect) {\n                this.ui.reloadUI();\n                return;\n            }\n            if (this.accountsCallback) {\n                this.accountsCallback([], true);\n            }\n            const { session, ui, connection } = this.subscribe();\n            this._session = session;\n            this.connection = connection;\n            this.ui = ui;\n            if (isStandalone && this.ui.setStandalone)\n                this.ui.setStandalone(true);\n            this.attachUI();\n        }, (err) => {\n            var _a;\n            (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.FAILURE, {\n                method: \"relay::resetAndReload\",\n                message: `failed to reset and reload with ${err}`,\n                sessionIdHash: this.getSessionIdHash(),\n            });\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    get session() {\n        return this._session;\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null,\n            },\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                signature: (0, util_1.hexStringFromBuffer)(signature, true),\n                addPrefix,\n            },\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxPriorityFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false,\n            },\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.maxFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxFeePerGas)\n                    : null,\n                maxPriorityFeePerGas: params.maxPriorityFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxPriorityFeePerGas)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true,\n            },\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: (0, util_1.hexStringFromBuffer)(signedTransaction, true),\n                chainId,\n            },\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp },\n        });\n    }\n    getQRCodeUrl() {\n        return (0, util_1.createQrUrl)(this._session.id, this._session.secret, this.linkAPIUrl, false, this.options.version, this.dappDefaultChain);\n    }\n    genericRequest(data, action) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.generic,\n            params: {\n                action,\n                data,\n            },\n        });\n    }\n    sendGenericMessage(request) {\n        return this.sendRequest(request);\n    }\n    sendRequest(request) {\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            if (!this.ui.isStandalone()) {\n                hideSnackbarItem = this.ui.showConnecting({\n                    isUnlinkedErrorState: this.isUnlinkedErrorState,\n                    onCancel: cancel,\n                    onResetConnection: this.resetAndReload, // eslint-disable-line @typescript-eslint/unbound-method\n                });\n            }\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            if (this.ui.isStandalone()) {\n                this.sendRequestStandalone(id, request);\n            }\n            else {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    setConnectDisabled(disabled) {\n        this.ui.setConnectDisabled(disabled);\n    }\n    setAccountsCallback(accountsCallback) {\n        this.accountsCallback = accountsCallback;\n    }\n    setChainCallback(chainCallback) {\n        this.chainCallback = chainCallback;\n    }\n    setDappDefaultChainCallback(chainId) {\n        this.dappDefaultChainSubject.next(chainId);\n    }\n    publishWeb3RequestEvent(id, request) {\n        var _a;\n        const message = (0, Web3RequestMessage_1.Web3RequestMessage)({ id, request });\n        const storedSession = Session_1.Session.load(this.storage);\n        (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.WEB3_REQUEST, {\n            eventId: message.id,\n            method: `relay::${message.request.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            storedSessionIdHash: storedSession ? Session_1.Session.hash(storedSession.id) : \"\",\n            isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n        });\n        this.subscriptions.add(this.publishEvent(\"Web3Request\", message, true).subscribe({\n            next: _ => {\n                var _a;\n                (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.WEB3_REQUEST_PUBLISHED, {\n                    eventId: message.id,\n                    method: `relay::${message.request.method}`,\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: storedSession\n                        ? Session_1.Session.hash(storedSession.id)\n                        : \"\",\n                    isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n                });\n            },\n            error: err => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id: message.id,\n                    response: {\n                        method: message.request.method,\n                        errorMessage: err.message,\n                    },\n                }));\n            },\n        }));\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = (0, Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(id);\n        this.subscriptions.add(this.publishEvent(\"Web3RequestCanceled\", message, false).subscribe());\n    }\n    publishEvent(event, message, callWebhook) {\n        const secret = this.session.secret;\n        return new rxjs_1.Observable(subscriber => {\n            void aes256gcm\n                .encrypt(JSON.stringify(Object.assign(Object.assign({}, message), { origin: location.origin })), secret)\n                .then((encrypted) => {\n                subscriber.next(encrypted);\n                subscriber.complete();\n            });\n        }).pipe((0, operators_1.mergeMap)((encrypted) => {\n            return this.connection.publishEvent(event, encrypted, callWebhook);\n        }));\n    }\n    handleIncomingEvent(event) {\n        try {\n            this.subscriptions.add(aes256gcm\n                .decrypt(event.data, this.session.secret)\n                .pipe((0, operators_1.map)(c => JSON.parse(c)))\n                .subscribe({\n                next: json => {\n                    const message = (0, Web3ResponseMessage_1.isWeb3ResponseMessage)(json) ? json : null;\n                    if (!message) {\n                        return;\n                    }\n                    this.handleWeb3ResponseMessage(message);\n                },\n                error: () => {\n                    var _a;\n                    (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.GENERAL_ERROR, {\n                        message: \"Had error decrypting\",\n                        value: \"incomingEvent\",\n                    });\n                },\n            }));\n        }\n        catch (_a) {\n            return;\n        }\n    }\n    handleWeb3ResponseMessage(message) {\n        var _a;\n        const { response } = message;\n        (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.WEB3_RESPONSE, {\n            eventId: message.id,\n            method: `relay::${response.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n        });\n        if ((0, Web3Response_1.isRequestEthereumAccountsResponse)(response)) {\n            WalletSDKRelay.accountRequestCallbackIds.forEach(id => this.invokeCallback(Object.assign(Object.assign({}, message), { id })));\n            WalletSDKRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(message);\n    }\n    handleErrorResponse(id, method, error, errorCode) {\n        this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n            id,\n            response: (0, Web3Response_1.ErrorResponse)(method, (error !== null && error !== void 0 ? error : WalletUIError_1.WalletUIError.UserRejectedRequest).message, errorCode),\n        }));\n    }\n    invokeCallback(message) {\n        const callback = this.relayEventManager.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            this.relayEventManager.callbacks.delete(message.id);\n        }\n    }\n    requestEthereumAccounts() {\n        const request = {\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null,\n            },\n        };\n        const hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            var _a;\n            this.relayEventManager.callbacks.set(id, response => {\n                this.ui.hideRequestEthereumAccounts();\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const userAgent = ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) || null;\n            if (userAgent &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {\n                let location;\n                try {\n                    if ((0, util_1.isInIFrame)() && window.top) {\n                        location = window.top.location;\n                    }\n                    else {\n                        location = window.location;\n                    }\n                }\n                catch (e) {\n                    location = window.location;\n                }\n                location.href = `https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(location.href)}`;\n                return;\n            }\n            if (this.ui.inlineAccountsResponse()) {\n                const onAccounts = (accounts) => {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.RequestEthereumAccountsResponse)(accounts),\n                    }));\n                };\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel,\n                    onAccounts,\n                });\n            }\n            else {\n                // Error if user closes TryExtensionLinkDialog without connecting\n                const err = eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied account authorization\");\n                this.ui.requestEthereumAccounts({\n                    onCancel: () => cancel(err),\n                });\n            }\n            WalletSDKRelay.accountRequestCallbackIds.add(id);\n            if (!this.ui.inlineAccountsResponse() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    selectProvider(providerOptions) {\n        const request = {\n            method: Web3Method_1.Web3Method.selectProvider,\n            params: {\n                providerOptions,\n            },\n        };\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n        };\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (_error) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.SelectProviderResponse)(types_1.ProviderType.Unselected),\n                }));\n            };\n            const approve = (selectedProviderKey) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.SelectProviderResponse)(selectedProviderKey),\n                }));\n            };\n            if (this.ui.selectProvider)\n                this.ui.selectProvider({\n                    onApprove: approve,\n                    onCancel: _cancel,\n                    providerOptions,\n                });\n        });\n        return { cancel, promise };\n    }\n    watchAsset(type, address, symbol, decimals, image, chainId) {\n        const request = {\n            method: Web3Method_1.Web3Method.watchAsset,\n            params: {\n                type,\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image,\n                },\n                chainId,\n            },\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineWatchAsset()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload, // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (_error) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(false),\n                }));\n            };\n            const approve = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(true),\n                }));\n            };\n            if (this.ui.inlineWatchAsset()) {\n                this.ui.watchAsset({\n                    onApprove: approve,\n                    onCancel: _cancel,\n                    type,\n                    address,\n                    symbol,\n                    decimals,\n                    image,\n                    chainId,\n                });\n            }\n            if (!this.ui.inlineWatchAsset() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { cancel, promise };\n    }\n    addEthereumChain(chainId, rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency) {\n        const request = {\n            method: Web3Method_1.Web3Method.addEthereumChain,\n            params: {\n                chainId,\n                rpcUrls,\n                blockExplorerUrls,\n                chainName,\n                iconUrls,\n                nativeCurrency,\n            },\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineAddEthereumChain(chainId)) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload, // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (_error) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({\n                        isApproved: false,\n                        rpcUrl: \"\",\n                    }),\n                }));\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({ isApproved: true, rpcUrl }),\n                }));\n            };\n            if (this.ui.inlineAddEthereumChain(chainId)) {\n                this.ui.addEthereumChain({\n                    onCancel: _cancel,\n                    onApprove: approve,\n                    chainId: request.params.chainId,\n                    rpcUrls: request.params.rpcUrls,\n                    blockExplorerUrls: request.params.blockExplorerUrls,\n                    chainName: request.params.chainName,\n                    iconUrls: request.params.iconUrls,\n                    nativeCurrency: request.params.nativeCurrency,\n                });\n            }\n            if (!this.ui.inlineAddEthereumChain(chainId) && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    switchEthereumChain(chainId, address) {\n        const request = {\n            method: Web3Method_1.Web3Method.switchEthereumChain,\n            params: Object.assign({ chainId }, { address }),\n        };\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = (error) => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleErrorResponse(id, request.method, error);\n        };\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                if (response.errorMessage && response.errorCode) {\n                    return reject(eth_rpc_errors_1.ethErrors.provider.custom({\n                        code: response.errorCode,\n                        message: `Unrecognized chain ID. Try adding the chain using addEthereumChain first.`,\n                    }));\n                }\n                else if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (error) => {\n                if (typeof error === \"number\") {\n                    // backward compatibility\n                    const errorCode = error;\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain, WalletUIError_1.WalletUIError.SwitchEthereumChainUnsupportedChainId.message, errorCode),\n                    }));\n                }\n                else if (error instanceof WalletUIError_1.WalletUIError) {\n                    this.handleErrorResponse(id, Web3Method_1.Web3Method.switchEthereumChain, error, error.errorCode);\n                }\n                else {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                            isApproved: false,\n                            rpcUrl: \"\",\n                        }),\n                    }));\n                }\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                        isApproved: true,\n                        rpcUrl,\n                    }),\n                }));\n            };\n            this.ui.switchEthereumChain({\n                onCancel: _cancel,\n                onApprove: approve,\n                chainId: request.params.chainId,\n                address: request.params.address,\n            });\n            if (!this.ui.inlineSwitchEthereumChain() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    inlineAddEthereumChain(chainId) {\n        return this.ui.inlineAddEthereumChain(chainId);\n    }\n    getSessionIdHash() {\n        return Session_1.Session.hash(this._session.id);\n    }\n    sendRequestStandalone(id, request) {\n        const _cancel = (error) => {\n            this.handleErrorResponse(id, request.method, error);\n        };\n        const onSuccess = (response) => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response,\n            }));\n        };\n        switch (request.method) {\n            case Web3Method_1.Web3Method.signEthereumMessage:\n                this.ui.signEthereumMessage({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel,\n                });\n                break;\n            case Web3Method_1.Web3Method.signEthereumTransaction:\n                this.ui.signEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel,\n                });\n                break;\n            case Web3Method_1.Web3Method.submitEthereumTransaction:\n                this.ui.submitEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel,\n                });\n                break;\n            case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:\n                this.ui.ethereumAddressFromSignedMessage({\n                    request,\n                    onSuccess,\n                });\n                break;\n            default:\n                _cancel();\n                break;\n        }\n    }\n    onSessionConfigChanged(_nextSessionConfig) { }\n}\nWalletSDKRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletSDKRelay.prototype, \"resetAndReload\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletSDKRelay.prototype, \"handleIncomingEvent\", null);\nexports.WalletSDKRelay = WalletSDKRelay;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletSDKConnection = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst Session_1 = require(\"../relay/Session\");\nconst types_1 = require(\"../types\");\nconst ClientMessage_1 = require(\"./ClientMessage\");\nconst DiagnosticLogger_1 = require(\"./DiagnosticLogger\");\nconst RxWebSocket_1 = require(\"./RxWebSocket\");\nconst ServerMessage_1 = require(\"./ServerMessage\");\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * Coinbase Wallet Connection\n */\nclass WalletSDKConnection {\n    /**\n     * Constructor\n     * @param sessionId Session ID\n     * @param sessionKey Session Key\n     * @param linkAPIUrl Coinbase Wallet link server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(sessionId, sessionKey, linkAPIUrl, diagnostic, WebSocketClass = WebSocket) {\n        this.sessionId = sessionId;\n        this.sessionKey = sessionKey;\n        this.diagnostic = diagnostic;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = (0, types_1.IntNumber)(1);\n        this.connectedSubject = new rxjs_1.BehaviorSubject(false);\n        this.linkedSubject = new rxjs_1.BehaviorSubject(false);\n        this.sessionConfigSubject = new rxjs_1.ReplaySubject(1);\n        const ws = new RxWebSocket_1.RxWebSocket(linkAPIUrl + \"/rpc\", WebSocketClass);\n        this.ws = ws;\n        // attempt to reconnect every 5 seconds when disconnected\n        this.subscriptions.add(ws.connectionState$\n            .pipe((0, operators_1.tap)(state => {\n            var _a;\n            return (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.CONNECTED_STATE_CHANGE, {\n                state,\n                sessionIdHash: Session_1.Session.hash(sessionId),\n            });\n        }), \n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), \n        // if DISCONNECTED and not destroyed\n        (0, operators_1.filter)(cs => cs === RxWebSocket_1.ConnectionState.DISCONNECTED && !this.destroyed), \n        // wait 5 seconds\n        (0, operators_1.delay)(5000), \n        // check whether it's destroyed again\n        (0, operators_1.filter)(_ => !this.destroyed), \n        // reconnect\n        (0, operators_1.flatMap)(_ => ws.connect()), (0, operators_1.retry)())\n            .subscribe());\n        // perform authentication upon connection\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED and CONNECTING states\n        (0, operators_1.skip)(2), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, authenticate, and then check link status\n        this.authenticate().pipe((0, operators_1.tap)(_ => this.sendIsLinked()), (0, operators_1.tap)(_ => this.sendGetSessionConfig()), (0, operators_1.map)(_ => true)), \n        // if not CONNECTED, emit false immediately\n        (0, rxjs_1.of)(false))), (0, operators_1.distinctUntilChanged)(), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(false)))\n            .subscribe(connected => this.connectedSubject.next(connected)));\n        // send heartbeat every n seconds while connected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, start the heartbeat timer\n        (0, rxjs_1.timer)(0, HEARTBEAT_INTERVAL))))\n            .subscribe(i => \n        // first timer event updates lastHeartbeat timestamp\n        // subsequent calls send heartbeat message\n        i === 0 ? this.updateLastHeartbeat() : this.heartbeat()));\n        // handle server's heartbeat responses\n        this.subscriptions.add(ws.incomingData$\n            .pipe((0, operators_1.filter)(m => m === \"h\"))\n            .subscribe(_ => this.updateLastHeartbeat()));\n        // handle link status updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"IsLinkedOK\", \"Linked\"].includes(m.type)))\n            .subscribe(m => {\n            var _a;\n            const msg = m;\n            (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.LINKED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                linked: msg.linked,\n                type: m.type,\n                onlineGuests: msg.onlineGuests,\n            });\n            this.linkedSubject.next(msg.linked || msg.onlineGuests > 0);\n        }));\n        // handle session config updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"GetSessionConfigOK\", \"SessionConfigUpdated\"].includes(m.type)))\n            .subscribe(m => {\n            var _a;\n            const msg = m;\n            (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.SESSION_CONFIG_RECEIVED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                metadata_keys: msg && msg.metadata ? Object.keys(msg.metadata) : undefined,\n            });\n            this.sessionConfigSubject.next({\n                webhookId: msg.webhookId,\n                webhookUrl: msg.webhookUrl,\n                metadata: msg.metadata,\n            });\n        }));\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        var _a;\n        if (this.destroyed) {\n            throw new Error(\"instance is destroyed\");\n        }\n        (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.STARTED_CONNECTING, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId),\n        });\n        this.ws.connect().subscribe();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletSDKConnection\n     */\n    destroy() {\n        var _a;\n        this.subscriptions.unsubscribe();\n        this.ws.disconnect();\n        (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.DISCONNECTED, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId),\n        });\n        this.destroyed = true;\n    }\n    get isDestroyed() {\n        return this.destroyed;\n    }\n    /**\n     * Emit true if connected and authenticated, else false\n     * @returns an Observable\n     */\n    get connected$() {\n        return this.connectedSubject.asObservable();\n    }\n    /**\n     * Emit once connected\n     * @returns an Observable\n     */\n    get onceConnected$() {\n        return this.connected$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit true if linked (a guest has joined before)\n     * @returns an Observable\n     */\n    get linked$() {\n        return this.linkedSubject.asObservable();\n    }\n    /**\n     * Emit once when linked\n     * @returns an Observable\n     */\n    get onceLinked$() {\n        return this.linked$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit current session config if available, and subsequent updates\n     * @returns an Observable for the session config\n     */\n    get sessionConfig$() {\n        return this.sessionConfigSubject.asObservable();\n    }\n    /**\n     * Emit incoming Event messages\n     * @returns an Observable for the messages\n     */\n    get incomingEvent$() {\n        return this.ws.incomingJSONData$.pipe((0, operators_1.filter)(m => {\n            if (m.type !== \"Event\") {\n                return false;\n            }\n            const sme = m;\n            return (typeof sme.sessionId === \"string\" &&\n                typeof sme.eventId === \"string\" &&\n                typeof sme.event === \"string\" &&\n                typeof sme.data === \"string\");\n        }), (0, operators_1.map)(m => m));\n    }\n    /**\n     * Set session metadata in SessionConfig object\n     * @param key\n     * @param value\n     * @returns an Observable that completes when successful\n     */\n    setSessionMetadata(key, value) {\n        const message = (0, ClientMessage_1.ClientMessageSetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            metadata: { [key]: value },\n        });\n        return this.onceConnected$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to set session metadata\");\n            }\n        }));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param data event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns an Observable that emits event ID when successful\n     */\n    publishEvent(event, data, callWebhook = false) {\n        const message = (0, ClientMessage_1.ClientMessagePublishEvent)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            event,\n            data,\n            callWebhook,\n        });\n        return this.onceLinked$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to publish event\");\n            }\n            return res.eventId;\n        }));\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData(\"h\");\n        }\n        catch (_a) { }\n    }\n    makeRequest(message, timeout = REQUEST_TIMEOUT) {\n        const reqId = message.id;\n        try {\n            this.sendData(message);\n        }\n        catch (err) {\n            return (0, rxjs_1.throwError)(err);\n        }\n        // await server message with corresponding id\n        return this.ws.incomingJSONData$.pipe((0, operators_1.timeoutWith)(timeout, (0, rxjs_1.throwError)(new Error(`request ${reqId} timed out`))), (0, operators_1.filter)(m => m.id === reqId), (0, operators_1.take)(1));\n    }\n    authenticate() {\n        const msg = (0, ClientMessage_1.ClientMessageHostSession)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            sessionKey: this.sessionKey,\n        });\n        return this.makeRequest(msg).pipe((0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to authentcate\");\n            }\n        }));\n    }\n    sendIsLinked() {\n        const msg = (0, ClientMessage_1.ClientMessageIsLinked)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n        });\n        this.sendData(msg);\n    }\n    sendGetSessionConfig() {\n        const msg = (0, ClientMessage_1.ClientMessageGetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n        });\n        this.sendData(msg);\n    }\n}\nexports.WalletSDKConnection = WalletSDKConnection;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientMessagePublishEvent = exports.ClientMessageSetSessionConfig = exports.ClientMessageGetSessionConfig = exports.ClientMessageIsLinked = exports.ClientMessageHostSession = void 0;\nfunction ClientMessageHostSession(params) {\n    return Object.assign({ type: \"HostSession\" }, params);\n}\nexports.ClientMessageHostSession = ClientMessageHostSession;\nfunction ClientMessageIsLinked(params) {\n    return Object.assign({ type: \"IsLinked\" }, params);\n}\nexports.ClientMessageIsLinked = ClientMessageIsLinked;\nfunction ClientMessageGetSessionConfig(params) {\n    return Object.assign({ type: \"GetSessionConfig\" }, params);\n}\nexports.ClientMessageGetSessionConfig = ClientMessageGetSessionConfig;\nfunction ClientMessageSetSessionConfig(params) {\n    return Object.assign({ type: \"SetSessionConfig\" }, params);\n}\nexports.ClientMessageSetSessionConfig = ClientMessageSetSessionConfig;\nfunction ClientMessagePublishEvent(params) {\n    return Object.assign({ type: \"PublishEvent\" }, params);\n}\nexports.ClientMessagePublishEvent = ClientMessagePublishEvent;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RxWebSocket = exports.ConnectionState = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n/**\n * Rx-ified WebSocket\n */\nclass RxWebSocket {\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.connectionStateSubject = new rxjs_1.BehaviorSubject(ConnectionState.DISCONNECTED);\n        this.incomingDataSubject = new rxjs_1.Subject();\n        this.url = url.replace(/^http/, \"ws\");\n    }\n    /**\n     * Make a websocket connection\n     * @returns an Observable that completes when connected\n     */\n    connect() {\n        if (this.webSocket) {\n            return (0, rxjs_1.throwError)(new Error(\"webSocket object is not null\"));\n        }\n        return new rxjs_1.Observable(obs => {\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                obs.error(err);\n                return;\n            }\n            this.connectionStateSubject.next(ConnectionState.CONNECTING);\n            webSocket.onclose = evt => {\n                this.clearWebSocket();\n                obs.error(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = _ => {\n                obs.next();\n                obs.complete();\n                this.connectionStateSubject.next(ConnectionState.CONNECTED);\n            };\n            webSocket.onmessage = evt => {\n                this.incomingDataSubject.next(evt.data);\n            };\n        }).pipe((0, operators_1.take)(1));\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n        try {\n            webSocket.close();\n        }\n        catch (_a) { }\n    }\n    /**\n     * Emit current connection state and subsequent changes\n     * @returns an Observable for the connection state\n     */\n    get connectionState$() {\n        return this.connectionStateSubject.asObservable();\n    }\n    /**\n     * Emit incoming data from server\n     * @returns an Observable for the data received\n     */\n    get incomingData$() {\n        return this.incomingDataSubject.asObservable();\n    }\n    /**\n     * Emit incoming JSON data from server. non-JSON data are ignored\n     * @returns an Observable for parsed JSON data\n     */\n    get incomingJSONData$() {\n        return this.incomingData$.pipe((0, operators_1.flatMap)(m => {\n            let j;\n            try {\n                j = JSON.parse(m);\n            }\n            catch (err) {\n                return (0, rxjs_1.empty)();\n            }\n            return (0, rxjs_1.of)(j);\n        }));\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            throw new Error(\"websocket is not connected\");\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\nexports.RxWebSocket = RxWebSocket;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isServerMessageFail = void 0;\nfunction isServerMessageFail(msg) {\n    return (msg &&\n        msg.type === \"Fail\" &&\n        typeof msg.id === \"number\" &&\n        typeof msg.sessionId === \"string\" &&\n        typeof msg.error === \"string\");\n}\nexports.isServerMessageFail = isServerMessageFail;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletUIError = void 0;\nclass WalletUIError extends Error {\n    constructor(message, errorCode) {\n        super(message);\n        this.message = message;\n        this.errorCode = errorCode;\n    }\n}\nexports.WalletUIError = WalletUIError;\nWalletUIError.UserRejectedRequest = new WalletUIError(\"User rejected request\");\nWalletUIError.SwitchEthereumChainUnsupportedChainId = new WalletUIError(\"Unsupported chainId\", 4902);\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst util_1 = require(\"../util\");\n/**\n *\n * @param plainText string to be encrypted\n * @param secret hex representation of 32-byte secret\n * returns hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the\n * encrypted plainText.\n */\nasync function encrypt(plainText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    const ivBytes = crypto.getRandomValues(new Uint8Array(12));\n    const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { name: \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n    const enc = new TextEncoder();\n    // Will return encrypted plainText with auth tag (ie MAC or checksum) appended at the end\n    const encryptedResult = await window.crypto.subtle.encrypt({\n        name: \"AES-GCM\",\n        iv: ivBytes,\n    }, secretKey, enc.encode(plainText));\n    const tagLength = 16;\n    const authTag = encryptedResult.slice(encryptedResult.byteLength - tagLength);\n    const encryptedPlaintext = encryptedResult.slice(0, encryptedResult.byteLength - tagLength);\n    const authTagBytes = new Uint8Array(authTag);\n    const encryptedPlaintextBytes = new Uint8Array(encryptedPlaintext);\n    const concatted = new Uint8Array([\n        ...ivBytes,\n        ...authTagBytes,\n        ...encryptedPlaintextBytes,\n    ]);\n    return (0, util_1.uint8ArrayToHex)(concatted);\n}\nexports.encrypt = encrypt;\n/**\n *\n * @param cipherText hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.\n * @param secret hex string representation of 32-byte secret\n *\n * TODO: Update rxjs for promises\n */\nfunction decrypt(cipherText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    return new rxjs_1.Observable(subscriber => {\n        void (async function () {\n            const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { name: \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n            const encrypted = (0, util_1.hexStringToUint8Array)(cipherText);\n            const ivBytes = encrypted.slice(0, 12);\n            const authTagBytes = encrypted.slice(12, 28);\n            const encryptedPlaintextBytes = encrypted.slice(28);\n            const concattedBytes = new Uint8Array([\n                ...encryptedPlaintextBytes,\n                ...authTagBytes,\n            ]);\n            const algo = {\n                name: \"AES-GCM\",\n                iv: new Uint8Array(ivBytes),\n            };\n            try {\n                const decrypted = await window.crypto.subtle.decrypt(algo, secretKey, concattedBytes);\n                const decoder = new TextDecoder();\n                subscriber.next(decoder.decode(decrypted));\n                subscriber.complete();\n            }\n            catch (err) {\n                subscriber.error(err);\n            }\n        })();\n    });\n}\nexports.decrypt = decrypt;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestCanceledMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: RelayMessage_1.RelayMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumAddressFromSignedMessageResponse = exports.SubmitEthereumTransactionResponse = exports.SignEthereumTransactionResponse = exports.SignEthereumMessageResponse = exports.isRequestEthereumAccountsResponse = exports.SelectProviderResponse = exports.WatchAssetReponse = exports.RequestEthereumAccountsResponse = exports.SwitchEthereumChainResponse = exports.AddEthereumChainResponse = exports.ErrorResponse = void 0;\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage, errorCode) {\n    return { method, errorMessage, errorCode };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction AddEthereumChainResponse(addResponse) {\n    return {\n        method: Web3Method_1.Web3Method.addEthereumChain,\n        result: addResponse,\n    };\n}\nexports.AddEthereumChainResponse = AddEthereumChainResponse;\nfunction SwitchEthereumChainResponse(switchResponse) {\n    return {\n        method: Web3Method_1.Web3Method.switchEthereumChain,\n        result: switchResponse,\n    };\n}\nexports.SwitchEthereumChainResponse = SwitchEthereumChainResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction WatchAssetReponse(success) {\n    return { method: Web3Method_1.Web3Method.watchAsset, result: success };\n}\nexports.WatchAssetReponse = WatchAssetReponse;\nfunction SelectProviderResponse(selectedProviderKey) {\n    return { method: Web3Method_1.Web3Method.selectProvider, result: selectedProviderKey };\n}\nexports.SelectProviderResponse = SelectProviderResponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\nfunction SignEthereumMessageResponse(signature) {\n    return { method: Web3Method_1.Web3Method.signEthereumMessage, result: signature };\n}\nexports.SignEthereumMessageResponse = SignEthereumMessageResponse;\nfunction SignEthereumTransactionResponse(signedData) {\n    return { method: Web3Method_1.Web3Method.signEthereumTransaction, result: signedData };\n}\nexports.SignEthereumTransactionResponse = SignEthereumTransactionResponse;\nfunction SubmitEthereumTransactionResponse(txHash) {\n    return { method: Web3Method_1.Web3Method.submitEthereumTransaction, result: txHash };\n}\nexports.SubmitEthereumTransactionResponse = SubmitEthereumTransactionResponse;\nfunction EthereumAddressFromSignedMessageResponse(address) {\n    return {\n        method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n        result: address,\n    };\n}\nexports.EthereumAddressFromSignedMessageResponse = EthereumAddressFromSignedMessageResponse;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isWeb3ResponseMessage = exports.Web3ResponseMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === RelayMessage_1.RelayMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletSDKRelayEventManager = void 0;\nconst util_1 = require(\"../util\");\nclass WalletSDKRelayEventManager {\n    constructor() {\n        this._nextRequestId = 0;\n        this.callbacks = new Map();\n    }\n    makeRequestId() {\n        // max nextId == max int32 for compatibility with mobile\n        this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n        const id = this._nextRequestId;\n        const idStr = (0, util_1.prepend0x)(id.toString(16));\n        // unlikely that this will ever be an issue, but just to be safe\n        const callback = this.callbacks.get(idStr);\n        if (callback) {\n            this.callbacks.delete(idStr);\n        }\n        return id;\n    }\n}\nexports.WalletSDKRelayEventManager = WalletSDKRelayEventManager;\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CoinbaseWalletProvider = exports.CoinbaseWalletSDK = void 0;\nconst CoinbaseWalletSDK_1 = require(\"./CoinbaseWalletSDK\");\nconst CoinbaseWalletProvider_1 = require(\"./provider/CoinbaseWalletProvider\");\nvar CoinbaseWalletSDK_2 = require(\"./CoinbaseWalletSDK\");\nObject.defineProperty(exports, \"CoinbaseWalletSDK\", { enumerable: true, get: function () { return CoinbaseWalletSDK_2.CoinbaseWalletSDK; } });\nvar CoinbaseWalletProvider_2 = require(\"./provider/CoinbaseWalletProvider\");\nObject.defineProperty(exports, \"CoinbaseWalletProvider\", { enumerable: true, get: function () { return CoinbaseWalletProvider_2.CoinbaseWalletProvider; } });\nexports.default = CoinbaseWalletSDK_1.CoinbaseWalletSDK;\nif (typeof window !== \"undefined\") {\n    window.CoinbaseWalletSDK = CoinbaseWalletSDK_1.CoinbaseWalletSDK;\n    window.CoinbaseWalletProvider = CoinbaseWalletProvider_1.CoinbaseWalletProvider;\n    /**\n     * @deprecated Use `window.CoinbaseWalletSDK`\n     */\n    window.WalletLink = CoinbaseWalletSDK_1.CoinbaseWalletSDK;\n    /**\n     * @deprecated Use `window.CoinbaseWalletProvider`\n     */\n    window.WalletLinkProvider = CoinbaseWalletProvider_1.CoinbaseWalletProvider;\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","var Buffer = require('safe-buffer').Buffer\n\n// prototype class for hash functions\nfunction Hash (blockSize, finalSize) {\n  this._block = Buffer.alloc(blockSize)\n  this._finalSize = finalSize\n  this._blockSize = blockSize\n  this._len = 0\n}\n\nHash.prototype.update = function (data, enc) {\n  if (typeof data === 'string') {\n    enc = enc || 'utf8'\n    data = Buffer.from(data, enc)\n  }\n\n  var block = this._block\n  var blockSize = this._blockSize\n  var length = data.length\n  var accum = this._len\n\n  for (var offset = 0; offset < length;) {\n    var assigned = accum % blockSize\n    var remainder = Math.min(length - offset, blockSize - assigned)\n\n    for (var i = 0; i < remainder; i++) {\n      block[assigned + i] = data[offset + i]\n    }\n\n    accum += remainder\n    offset += remainder\n\n    if ((accum % blockSize) === 0) {\n      this._update(block)\n    }\n  }\n\n  this._len += length\n  return this\n}\n\nHash.prototype.digest = function (enc) {\n  var rem = this._len % this._blockSize\n\n  this._block[rem] = 0x80\n\n  // zero (rem + 1) trailing bits, where (rem + 1) is the smallest\n  // non-negative solution to the equation (length + 1 + (rem + 1)) === finalSize mod blockSize\n  this._block.fill(0, rem + 1)\n\n  if (rem >= this._finalSize) {\n    this._update(this._block)\n    this._block.fill(0)\n  }\n\n  var bits = this._len * 8\n\n  // uint32\n  if (bits <= 0xffffffff) {\n    this._block.writeUInt32BE(bits, this._blockSize - 4)\n\n  // uint64\n  } else {\n    var lowBits = (bits & 0xffffffff) >>> 0\n    var highBits = (bits - lowBits) / 0x100000000\n\n    this._block.writeUInt32BE(highBits, this._blockSize - 8)\n    this._block.writeUInt32BE(lowBits, this._blockSize - 4)\n  }\n\n  this._update(this._block)\n  var hash = this._hash()\n\n  return enc ? hash.toString(enc) : hash\n}\n\nHash.prototype._update = function () {\n  throw new Error('_update must be implemented by subclass')\n}\n\nmodule.exports = Hash\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isInIFrame = exports.createQrUrl = exports.getFavicon = exports.range = exports.isBigNumber = exports.ensureParsedJSONObject = exports.ensureBN = exports.ensureRegExpString = exports.ensureIntNumber = exports.ensureBuffer = exports.ensureAddressString = exports.ensureEvenLengthHexString = exports.ensureHexString = exports.isHexString = exports.prepend0x = exports.strip0x = exports.has0xPrefix = exports.hexStringFromIntNumber = exports.intNumberFromHexString = exports.bigIntStringFromBN = exports.hexStringFromBuffer = exports.hexStringToUint8Array = exports.uint8ArrayToHex = exports.randomBytesHex = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst qs_1 = require(\"qs\");\nconst types_1 = require(\"./types\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n/**\n * @param length number of bytes\n */\nfunction randomBytesHex(length) {\n    return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(length)));\n}\nexports.randomBytesHex = randomBytesHex;\nfunction uint8ArrayToHex(value) {\n    return [...value].map(b => b.toString(16).padStart(2, \"0\")).join(\"\");\n}\nexports.uint8ArrayToHex = uint8ArrayToHex;\nfunction hexStringToUint8Array(hexString) {\n    return new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n}\nexports.hexStringToUint8Array = hexStringToUint8Array;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return (0, types_1.HexString)(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return (0, types_1.BigIntString)(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return (0, types_1.HexString)(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return (0, types_1.HexString)(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${String(hex)}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = (0, types_1.HexString)(\"0\" + h);\n    }\n    return includePrefix ? (0, types_1.HexString)(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return (0, types_1.AddressString)(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${String(str)}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${String(str)}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return (0, types_1.IntNumber)(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return (0, types_1.IntNumber)(Number(num));\n        }\n        if (isHexString(num)) {\n            return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${String(num)}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return (0, types_1.RegExpString)(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${String(regExp)}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val !== null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${String(val)}`);\n}\nexports.ensureBN = ensureBN;\nfunction ensureParsedJSONObject(val) {\n    if (typeof val === \"string\") {\n        return JSON.parse(val);\n    }\n    if (typeof val === \"object\") {\n        return val;\n    }\n    throw new Error(`Not a JSON string or an object: ${String(val)}`);\n}\nexports.ensureParsedJSONObject = ensureParsedJSONObject;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexports.getFavicon = getFavicon;\nfunction createQrUrl(sessionId, sessionSecret, serverUrl, isParentConnection, version, chainId) {\n    const sessionIdKey = isParentConnection ? \"parent-id\" : \"id\";\n    const query = (0, qs_1.stringify)({\n        [sessionIdKey]: sessionId,\n        secret: sessionSecret,\n        server: serverUrl,\n        v: version,\n        chainId,\n    });\n    const qrUrl = `${serverUrl}/#/link?${query}`;\n    return qrUrl;\n}\nexports.createQrUrl = createQrUrl;\nfunction isInIFrame() {\n    try {\n        return window.frameElement !== null;\n    }\n    catch (e) {\n        return false;\n    }\n}\nexports.isInIFrame = isInIFrame;\n","var exports = module.exports = function SHA (algorithm) {\n  algorithm = algorithm.toLowerCase()\n\n  var Algorithm = exports[algorithm]\n  if (!Algorithm) throw new Error(algorithm + ' is not supported (we accept pull requests)')\n\n  return new Algorithm()\n}\n\nexports.sha = require('./sha')\nexports.sha1 = require('./sha1')\nexports.sha224 = require('./sha224')\nexports.sha256 = require('./sha256')\nexports.sha384 = require('./sha384')\nexports.sha512 = require('./sha512')\n","/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5,\n  0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5,\n  0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3,\n  0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174,\n  0xE49B69C1, 0xEFBE4786, 0x0FC19DC6, 0x240CA1CC,\n  0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA,\n  0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7,\n  0xC6E00BF3, 0xD5A79147, 0x06CA6351, 0x14292967,\n  0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13,\n  0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85,\n  0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3,\n  0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070,\n  0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5,\n  0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3,\n  0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208,\n  0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2\n]\n\nvar W = new Array(64)\n\nfunction Sha256 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha256, Hash)\n\nSha256.prototype.init = function () {\n  this._a = 0x6a09e667\n  this._b = 0xbb67ae85\n  this._c = 0x3c6ef372\n  this._d = 0xa54ff53a\n  this._e = 0x510e527f\n  this._f = 0x9b05688c\n  this._g = 0x1f83d9ab\n  this._h = 0x5be0cd19\n\n  return this\n}\n\nfunction ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x) {\n  return (x >>> 2 | x << 30) ^ (x >>> 13 | x << 19) ^ (x >>> 22 | x << 10)\n}\n\nfunction sigma1 (x) {\n  return (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7)\n}\n\nfunction gamma0 (x) {\n  return (x >>> 7 | x << 25) ^ (x >>> 18 | x << 14) ^ (x >>> 3)\n}\n\nfunction gamma1 (x) {\n  return (x >>> 17 | x << 15) ^ (x >>> 19 | x << 13) ^ (x >>> 10)\n}\n\nSha256.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n  var f = this._f | 0\n  var g = this._g | 0\n  var h = this._h | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 64; ++i) W[i] = (gamma1(W[i - 2]) + W[i - 7] + gamma0(W[i - 15]) + W[i - 16]) | 0\n\n  for (var j = 0; j < 64; ++j) {\n    var T1 = (h + sigma1(e) + ch(e, f, g) + K[j] + W[j]) | 0\n    var T2 = (sigma0(a) + maj(a, b, c)) | 0\n\n    h = g\n    g = f\n    f = e\n    e = (d + T1) | 0\n    d = c\n    c = b\n    b = a\n    a = (T1 + T2) | 0\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n  this._f = (f + this._f) | 0\n  this._g = (g + this._g) | 0\n  this._h = (h + this._h) | 0\n}\n\nSha256.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(32)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n  H.writeInt32BE(this._h, 28)\n\n  return H\n}\n\nmodule.exports = Sha256\n","var inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n]\n\nvar W = new Array(160)\n\nfunction Sha512 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 128, 112)\n}\n\ninherits(Sha512, Hash)\n\nSha512.prototype.init = function () {\n  this._ah = 0x6a09e667\n  this._bh = 0xbb67ae85\n  this._ch = 0x3c6ef372\n  this._dh = 0xa54ff53a\n  this._eh = 0x510e527f\n  this._fh = 0x9b05688c\n  this._gh = 0x1f83d9ab\n  this._hh = 0x5be0cd19\n\n  this._al = 0xf3bcc908\n  this._bl = 0x84caa73b\n  this._cl = 0xfe94f82b\n  this._dl = 0x5f1d36f1\n  this._el = 0xade682d1\n  this._fl = 0x2b3e6c1f\n  this._gl = 0xfb41bd6b\n  this._hl = 0x137e2179\n\n  return this\n}\n\nfunction Ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x, xl) {\n  return (x >>> 28 | xl << 4) ^ (xl >>> 2 | x << 30) ^ (xl >>> 7 | x << 25)\n}\n\nfunction sigma1 (x, xl) {\n  return (x >>> 14 | xl << 18) ^ (x >>> 18 | xl << 14) ^ (xl >>> 9 | x << 23)\n}\n\nfunction Gamma0 (x, xl) {\n  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7)\n}\n\nfunction Gamma0l (x, xl) {\n  return (x >>> 1 | xl << 31) ^ (x >>> 8 | xl << 24) ^ (x >>> 7 | xl << 25)\n}\n\nfunction Gamma1 (x, xl) {\n  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6)\n}\n\nfunction Gamma1l (x, xl) {\n  return (x >>> 19 | xl << 13) ^ (xl >>> 29 | x << 3) ^ (x >>> 6 | xl << 26)\n}\n\nfunction getCarry (a, b) {\n  return (a >>> 0) < (b >>> 0) ? 1 : 0\n}\n\nSha512.prototype._update = function (M) {\n  var W = this._w\n\n  var ah = this._ah | 0\n  var bh = this._bh | 0\n  var ch = this._ch | 0\n  var dh = this._dh | 0\n  var eh = this._eh | 0\n  var fh = this._fh | 0\n  var gh = this._gh | 0\n  var hh = this._hh | 0\n\n  var al = this._al | 0\n  var bl = this._bl | 0\n  var cl = this._cl | 0\n  var dl = this._dl | 0\n  var el = this._el | 0\n  var fl = this._fl | 0\n  var gl = this._gl | 0\n  var hl = this._hl | 0\n\n  for (var i = 0; i < 32; i += 2) {\n    W[i] = M.readInt32BE(i * 4)\n    W[i + 1] = M.readInt32BE(i * 4 + 4)\n  }\n  for (; i < 160; i += 2) {\n    var xh = W[i - 15 * 2]\n    var xl = W[i - 15 * 2 + 1]\n    var gamma0 = Gamma0(xh, xl)\n    var gamma0l = Gamma0l(xl, xh)\n\n    xh = W[i - 2 * 2]\n    xl = W[i - 2 * 2 + 1]\n    var gamma1 = Gamma1(xh, xl)\n    var gamma1l = Gamma1l(xl, xh)\n\n    // W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16]\n    var Wi7h = W[i - 7 * 2]\n    var Wi7l = W[i - 7 * 2 + 1]\n\n    var Wi16h = W[i - 16 * 2]\n    var Wi16l = W[i - 16 * 2 + 1]\n\n    var Wil = (gamma0l + Wi7l) | 0\n    var Wih = (gamma0 + Wi7h + getCarry(Wil, gamma0l)) | 0\n    Wil = (Wil + gamma1l) | 0\n    Wih = (Wih + gamma1 + getCarry(Wil, gamma1l)) | 0\n    Wil = (Wil + Wi16l) | 0\n    Wih = (Wih + Wi16h + getCarry(Wil, Wi16l)) | 0\n\n    W[i] = Wih\n    W[i + 1] = Wil\n  }\n\n  for (var j = 0; j < 160; j += 2) {\n    Wih = W[j]\n    Wil = W[j + 1]\n\n    var majh = maj(ah, bh, ch)\n    var majl = maj(al, bl, cl)\n\n    var sigma0h = sigma0(ah, al)\n    var sigma0l = sigma0(al, ah)\n    var sigma1h = sigma1(eh, el)\n    var sigma1l = sigma1(el, eh)\n\n    // t1 = h + sigma1 + ch + K[j] + W[j]\n    var Kih = K[j]\n    var Kil = K[j + 1]\n\n    var chh = Ch(eh, fh, gh)\n    var chl = Ch(el, fl, gl)\n\n    var t1l = (hl + sigma1l) | 0\n    var t1h = (hh + sigma1h + getCarry(t1l, hl)) | 0\n    t1l = (t1l + chl) | 0\n    t1h = (t1h + chh + getCarry(t1l, chl)) | 0\n    t1l = (t1l + Kil) | 0\n    t1h = (t1h + Kih + getCarry(t1l, Kil)) | 0\n    t1l = (t1l + Wil) | 0\n    t1h = (t1h + Wih + getCarry(t1l, Wil)) | 0\n\n    // t2 = sigma0 + maj\n    var t2l = (sigma0l + majl) | 0\n    var t2h = (sigma0h + majh + getCarry(t2l, sigma0l)) | 0\n\n    hh = gh\n    hl = gl\n    gh = fh\n    gl = fl\n    fh = eh\n    fl = el\n    el = (dl + t1l) | 0\n    eh = (dh + t1h + getCarry(el, dl)) | 0\n    dh = ch\n    dl = cl\n    ch = bh\n    cl = bl\n    bh = ah\n    bl = al\n    al = (t1l + t2l) | 0\n    ah = (t1h + t2h + getCarry(al, t1l)) | 0\n  }\n\n  this._al = (this._al + al) | 0\n  this._bl = (this._bl + bl) | 0\n  this._cl = (this._cl + cl) | 0\n  this._dl = (this._dl + dl) | 0\n  this._el = (this._el + el) | 0\n  this._fl = (this._fl + fl) | 0\n  this._gl = (this._gl + gl) | 0\n  this._hl = (this._hl + hl) | 0\n\n  this._ah = (this._ah + ah + getCarry(this._al, al)) | 0\n  this._bh = (this._bh + bh + getCarry(this._bl, bl)) | 0\n  this._ch = (this._ch + ch + getCarry(this._cl, cl)) | 0\n  this._dh = (this._dh + dh + getCarry(this._dl, dl)) | 0\n  this._eh = (this._eh + eh + getCarry(this._el, el)) | 0\n  this._fh = (this._fh + fh + getCarry(this._fl, fl)) | 0\n  this._gh = (this._gh + gh + getCarry(this._gl, gl)) | 0\n  this._hh = (this._hh + hh + getCarry(this._hl, hl)) | 0\n}\n\nSha512.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(64)\n\n  function writeInt64BE (h, l, offset) {\n    H.writeInt32BE(h, offset)\n    H.writeInt32BE(l, offset + 4)\n  }\n\n  writeInt64BE(this._ah, this._al, 0)\n  writeInt64BE(this._bh, this._bl, 8)\n  writeInt64BE(this._ch, this._cl, 16)\n  writeInt64BE(this._dh, this._dl, 24)\n  writeInt64BE(this._eh, this._el, 32)\n  writeInt64BE(this._fh, this._fl, 40)\n  writeInt64BE(this._gh, this._gl, 48)\n  writeInt64BE(this._hh, this._hl, 56)\n\n  return H\n}\n\nmodule.exports = Sha512\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProviderType = exports.RegExpString = exports.IntNumber = exports.BigIntString = exports.AddressString = exports.HexString = exports.OpaqueType = void 0;\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.BigIntString = OpaqueType();\nfunction IntNumber(num) {\n    return Math.floor(num);\n}\nexports.IntNumber = IntNumber;\nexports.RegExpString = OpaqueType();\nvar ProviderType;\n(function (ProviderType) {\n    ProviderType[\"CoinbaseWallet\"] = \"CoinbaseWallet\";\n    ProviderType[\"MetaMask\"] = \"MetaMask\";\n    ProviderType[\"Unselected\"] = \"\";\n})(ProviderType = exports.ProviderType || (exports.ProviderType = {}));\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-0, as defined\n * in FIPS PUB 180-1\n * This source code is derived from sha1.js of the same repository.\n * The difference between SHA-0 and SHA-1 is just a bitwise rotate left\n * operation was added.\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x5a827999, 0x6ed9eba1, 0x8f1bbcdc | 0, 0xca62c1d6 | 0\n]\n\nvar W = new Array(80)\n\nfunction Sha () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha, Hash)\n\nSha.prototype.init = function () {\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n\n  return this\n}\n\nfunction rotl5 (num) {\n  return (num << 5) | (num >>> 27)\n}\n\nfunction rotl30 (num) {\n  return (num << 30) | (num >>> 2)\n}\n\nfunction ft (s, b, c, d) {\n  if (s === 0) return (b & c) | ((~b) & d)\n  if (s === 2) return (b & c) | (b & d) | (c & d)\n  return b ^ c ^ d\n}\n\nSha.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 80; ++i) W[i] = W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16]\n\n  for (var j = 0; j < 80; ++j) {\n    var s = ~~(j / 20)\n    var t = (rotl5(a) + ft(s, b, c, d) + e + W[j] + K[s]) | 0\n\n    e = d\n    d = c\n    c = rotl30(b)\n    b = a\n    a = t\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n}\n\nSha.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(20)\n\n  H.writeInt32BE(this._a | 0, 0)\n  H.writeInt32BE(this._b | 0, 4)\n  H.writeInt32BE(this._c | 0, 8)\n  H.writeInt32BE(this._d | 0, 12)\n  H.writeInt32BE(this._e | 0, 16)\n\n  return H\n}\n\nmodule.exports = Sha\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS PUB 180-1\n * Version 2.1a Copyright Paul Johnston 2000 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x5a827999, 0x6ed9eba1, 0x8f1bbcdc | 0, 0xca62c1d6 | 0\n]\n\nvar W = new Array(80)\n\nfunction Sha1 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha1, Hash)\n\nSha1.prototype.init = function () {\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n\n  return this\n}\n\nfunction rotl1 (num) {\n  return (num << 1) | (num >>> 31)\n}\n\nfunction rotl5 (num) {\n  return (num << 5) | (num >>> 27)\n}\n\nfunction rotl30 (num) {\n  return (num << 30) | (num >>> 2)\n}\n\nfunction ft (s, b, c, d) {\n  if (s === 0) return (b & c) | ((~b) & d)\n  if (s === 2) return (b & c) | (b & d) | (c & d)\n  return b ^ c ^ d\n}\n\nSha1.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 80; ++i) W[i] = rotl1(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16])\n\n  for (var j = 0; j < 80; ++j) {\n    var s = ~~(j / 20)\n    var t = (rotl5(a) + ft(s, b, c, d) + e + W[j] + K[s]) | 0\n\n    e = d\n    d = c\n    c = rotl30(b)\n    b = a\n    a = t\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n}\n\nSha1.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(20)\n\n  H.writeInt32BE(this._a | 0, 0)\n  H.writeInt32BE(this._b | 0, 4)\n  H.writeInt32BE(this._c | 0, 8)\n  H.writeInt32BE(this._d | 0, 12)\n  H.writeInt32BE(this._e | 0, 16)\n\n  return H\n}\n\nmodule.exports = Sha1\n","/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar inherits = require('inherits')\nvar Sha256 = require('./sha256')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar W = new Array(64)\n\nfunction Sha224 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha224, Sha256)\n\nSha224.prototype.init = function () {\n  this._a = 0xc1059ed8\n  this._b = 0x367cd507\n  this._c = 0x3070dd17\n  this._d = 0xf70e5939\n  this._e = 0xffc00b31\n  this._f = 0x68581511\n  this._g = 0x64f98fa7\n  this._h = 0xbefa4fa4\n\n  return this\n}\n\nSha224.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(28)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n\n  return H\n}\n\nmodule.exports = Sha224\n","var inherits = require('inherits')\nvar SHA512 = require('./sha512')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar W = new Array(160)\n\nfunction Sha384 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 128, 112)\n}\n\ninherits(Sha384, SHA512)\n\nSha384.prototype.init = function () {\n  this._ah = 0xcbbb9d5d\n  this._bh = 0x629a292a\n  this._ch = 0x9159015a\n  this._dh = 0x152fecd8\n  this._eh = 0x67332667\n  this._fh = 0x8eb44a87\n  this._gh = 0xdb0c2e0d\n  this._hh = 0x47b5481d\n\n  this._al = 0xc1059ed8\n  this._bl = 0x367cd507\n  this._cl = 0x3070dd17\n  this._dl = 0xf70e5939\n  this._el = 0xffc00b31\n  this._fl = 0x68581511\n  this._gl = 0x64f98fa7\n  this._hl = 0xbefa4fa4\n\n  return this\n}\n\nSha384.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(48)\n\n  function writeInt64BE (h, l, offset) {\n    H.writeInt32BE(h, offset)\n    H.writeInt32BE(l, offset + 4)\n  }\n\n  writeInt64BE(this._ah, this._al, 0)\n  writeInt64BE(this._bh, this._bl, 8)\n  writeInt64BE(this._ch, this._cl, 16)\n  writeInt64BE(this._dh, this._dl, 24)\n  writeInt64BE(this._eh, this._el, 32)\n  writeInt64BE(this._fh, this._fl, 40)\n\n  return H\n}\n\nmodule.exports = Sha384\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CoinbaseWalletProvider = void 0;\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst DiagnosticLogger_1 = require(\"../connection/DiagnosticLogger\");\nconst Session_1 = require(\"../relay/Session\");\nconst WalletSDKRelayAbstract_1 = require(\"../relay/WalletSDKRelayAbstract\");\nconst util_1 = require(\"../util\");\nconst eth_eip712_util_1 = __importDefault(require(\"../vendor-js/eth-eip712-util\"));\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./JSONRPC\");\nconst SubscriptionManager_1 = require(\"./SubscriptionManager\");\nconst DEFAULT_CHAIN_ID_KEY = \"DefaultChainId\";\nconst DEFAULT_JSON_RPC_URL = \"DefaultJsonRpcUrl\";\nclass CoinbaseWalletProvider extends safe_event_emitter_1.default {\n    constructor(options) {\n        var _a, _b;\n        super();\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._subscriptionManager = new SubscriptionManager_1.SubscriptionManager(this);\n        this._relay = null;\n        this._addresses = [];\n        this.hasMadeFirstChainChangedEmission = false;\n        this._send = this.send.bind(this);\n        this._sendAsync = this.sendAsync.bind(this);\n        this.setProviderInfo = this.setProviderInfo.bind(this);\n        this.updateProviderInfo = this.updateProviderInfo.bind(this);\n        this.getChainId = this.getChainId.bind(this);\n        this.setAppInfo = this.setAppInfo.bind(this);\n        this.enable = this.enable.bind(this);\n        this.close = this.close.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        this.request = this.request.bind(this);\n        this._setAddresses = this._setAddresses.bind(this);\n        this.scanQRCode = this.scanQRCode.bind(this);\n        this.genericRequest = this.genericRequest.bind(this);\n        this._chainIdFromOpts = options.chainId;\n        this._jsonRpcUrlFromOpts = options.jsonRpcUrl;\n        this._overrideIsMetaMask = options.overrideIsMetaMask;\n        this._relayProvider = options.relayProvider;\n        this._storage = options.storage;\n        this._relayEventManager = options.relayEventManager;\n        this.diagnostic = options.diagnosticLogger;\n        this.reloadOnDisconnect = true;\n        this.isCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        this.isCoinbaseBrowser = (_b = options.overrideIsCoinbaseBrowser) !== null && _b !== void 0 ? _b : false;\n        this.qrUrl = options.qrUrl;\n        this.supportsAddressSwitching = options.supportsAddressSwitching;\n        this.isLedger = options.isLedger;\n        const chainId = this.getChainId();\n        const chainIdStr = (0, util_1.prepend0x)(chainId.toString(16));\n        // indicate that we've connected, for EIP-1193 compliance\n        this.emit(\"connect\", { chainIdStr });\n        const cachedAddresses = this._storage.getItem(WalletSDKRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cachedAddresses) {\n            const addresses = cachedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n                this.emit(\"accountsChanged\", addresses);\n            }\n        }\n        this._subscriptionManager.events.on(\"notification\", (notification) => {\n            this.emit(\"message\", {\n                type: notification.method,\n                data: notification.params,\n            });\n        });\n        if (this._addresses.length > 0) {\n            void this.initializeRelay();\n        }\n        window.addEventListener(\"message\", event => {\n            var _a;\n            // Used to verify the source and window are correct before proceeding\n            if (event.origin !== location.origin || event.source !== window) {\n                return;\n            }\n            if (event.data.type !== \"walletLinkMessage\")\n                return; // compatibility with CBW extension\n            if (event.data.data.action === \"defaultChainChanged\" ||\n                event.data.data.action === \"dappChainSwitched\") {\n                const _chainId = event.data.data.chainId;\n                const jsonRpcUrl = (_a = event.data.data.jsonRpcUrl) !== null && _a !== void 0 ? _a : this.jsonRpcUrl;\n                this.updateProviderInfo(jsonRpcUrl, Number(_chainId));\n            }\n            if (event.data.data.action === \"addressChanged\") {\n                this._setAddresses([event.data.data.address]);\n            }\n        });\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this.getChainId().toString(10);\n    }\n    get chainId() {\n        return (0, util_1.prepend0x)(this.getChainId().toString(16));\n    }\n    get isWalletLink() {\n        // backward compatibility\n        return true;\n    }\n    /**\n     * Some DApps (i.e. Alpha Homora) seem to require the window.ethereum object return\n     * true for this method.\n     */\n    get isMetaMask() {\n        return this._overrideIsMetaMask;\n    }\n    get host() {\n        return this.jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    get jsonRpcUrl() {\n        var _a;\n        return ((_a = this._storage.getItem(DEFAULT_JSON_RPC_URL)) !== null && _a !== void 0 ? _a : this._jsonRpcUrlFromOpts);\n    }\n    set jsonRpcUrl(value) {\n        this._storage.setItem(DEFAULT_JSON_RPC_URL, value);\n    }\n    disableReloadOnDisconnect() {\n        this.reloadOnDisconnect = false;\n    }\n    /**\n     * this function is called when coinbase provider is being injected to a dapp\n     * standalone + walletlinked extension, ledger, in-app browser using cipher-web-view\n     */\n    setProviderInfo(jsonRpcUrl, chainId) {\n        // extension tend to use the chianId from the dapp, while in-app browser and ledger overrides the default network\n        if (!(this.isLedger || this.isCoinbaseBrowser)) {\n            this._chainIdFromOpts = chainId;\n            this._jsonRpcUrlFromOpts = jsonRpcUrl;\n        }\n        this.updateProviderInfo(this.jsonRpcUrl, this.getChainId());\n    }\n    updateProviderInfo(jsonRpcUrl, chainId) {\n        this.jsonRpcUrl = jsonRpcUrl;\n        // emit chainChanged event if necessary\n        const originalChainId = this.getChainId();\n        this._storage.setItem(DEFAULT_CHAIN_ID_KEY, chainId.toString(10));\n        const chainChanged = (0, util_1.ensureIntNumber)(chainId) !== originalChainId;\n        if (chainChanged || !this.hasMadeFirstChainChangedEmission) {\n            this.emit(\"chainChanged\", this.getChainId());\n            this.hasMadeFirstChainChangedEmission = true;\n        }\n    }\n    async watchAsset(type, address, symbol, decimals, image, chainId) {\n        const relay = await this.initializeRelay();\n        const result = await relay.watchAsset(type, address, symbol, decimals, image, chainId === null || chainId === void 0 ? void 0 : chainId.toString()).promise;\n        return !!result.result;\n    }\n    async addEthereumChain(chainId, rpcUrls, blockExplorerUrls, chainName, iconUrls, nativeCurrency) {\n        var _a, _b;\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return false;\n        }\n        const relay = await this.initializeRelay();\n        const isWhitelistedNetworkOrStandalone = relay.inlineAddEthereumChain(chainId.toString());\n        if (!this._isAuthorized() && !isWhitelistedNetworkOrStandalone) {\n            await relay.requestEthereumAccounts().promise;\n        }\n        const res = await relay.addEthereumChain(chainId.toString(), rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency).promise;\n        if (((_a = res.result) === null || _a === void 0 ? void 0 : _a.isApproved) === true) {\n            this.updateProviderInfo(rpcUrls[0], chainId);\n        }\n        return ((_b = res.result) === null || _b === void 0 ? void 0 : _b.isApproved) === true;\n    }\n    async switchEthereumChain(chainId) {\n        const relay = await this.initializeRelay();\n        const res = await relay.switchEthereumChain(chainId.toString(10), this.selectedAddress || undefined).promise;\n        if (res.errorCode) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: res.errorCode,\n            });\n        }\n        const switchResponse = res.result;\n        if (switchResponse.isApproved && switchResponse.rpcUrl.length > 0) {\n            this.updateProviderInfo(switchResponse.rpcUrl, chainId);\n        }\n    }\n    setAppInfo(appName, appLogoUrl) {\n        void this.initializeRelay().then(relay => relay.setAppInfo(appName, appLogoUrl));\n    }\n    async enable() {\n        var _a;\n        (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::enable\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay\n                ? Session_1.Session.hash(this._relay.session.id)\n                : undefined,\n        });\n        if (this._addresses.length > 0) {\n            return [...this._addresses];\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    async close() {\n        const relay = await this.initializeRelay();\n        relay.resetAndReload();\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = {\n                jsonrpc: \"2.0\",\n                id: 0,\n                method,\n                params,\n            };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    async sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        return this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"Expected a single, non-array, object argument.\",\n                data: args,\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.method' must be a non-empty string.\",\n                data: args,\n            });\n        }\n        if (params !== undefined &&\n            !Array.isArray(params) &&\n            (typeof params !== \"object\" || params === null)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.params' must be an object or array if provided.\",\n                data: args,\n            });\n        }\n        const newParams = params === undefined ? [] : params;\n        // Coinbase Wallet Requests\n        const id = this._relayEventManager.makeRequestId();\n        const result = await this._sendRequestAsync({\n            method,\n            params: newParams,\n            jsonrpc: \"2.0\",\n            id,\n        });\n        return result.result;\n    }\n    async scanQRCode(match) {\n        const relay = await this.initializeRelay();\n        const res = await relay.scanQRCode((0, util_1.ensureRegExpString)(match)).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async genericRequest(data, action) {\n        const relay = await this.initializeRelay();\n        const res = await relay.genericRequest(data, action).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async selectProvider(providerOptions) {\n        const relay = await this.initializeRelay();\n        const res = await relay.selectProvider(providerOptions).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id,\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`Coinbase Wallet does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses, isDisconnect) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        const newAddresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n        if (JSON.stringify(newAddresses) === JSON.stringify(this._addresses)) {\n            return;\n        }\n        if (this._addresses.length > 0 &&\n            this.supportsAddressSwitching === false &&\n            !isDisconnect) {\n            /**\n             * The extension currently doesn't support switching selected wallet index\n             * make sure walletlink doesn't update it's address in this case\n             */\n            return;\n        }\n        this._addresses = newAddresses;\n        this.emit(\"accountsChanged\", this._addresses);\n        this._storage.setItem(WalletSDKRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY, newAddresses.join(\" \"));\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult,\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n                const subscriptionPromise = this._handleSubscriptionMethods(request);\n                if (subscriptionPromise !== undefined) {\n                    subscriptionPromise\n                        .then(res => resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: res.result,\n                    }))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => res && resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            case JSONRPC_1.JSONRPCMethod.eth_chainId:\n                return this._eth_chainId();\n            default:\n                return undefined;\n        }\n    }\n    async _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.cbWallet_arbitrary:\n                return this._cbwallet_arbitrary(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:\n                return this._wallet_addEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:\n                return this._wallet_switchEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:\n                return this._wallet_watchAsset(params);\n        }\n        const relay = await this.initializeRelay();\n        return relay.makeEthereumJSONRPCRequest(request, this.jsonRpcUrl);\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _handleSubscriptionMethods(request) {\n        switch (request.method) {\n            case JSONRPC_1.JSONRPCMethod.eth_subscribe:\n            case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:\n                return this._subscriptionManager.handleRequest(request);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const addressStr = (0, util_1.ensureAddressString)(addressString);\n            const lowercaseAddresses = this._addresses.map(address => (0, util_1.ensureAddressString)(address));\n            return lowercaseAddresses.includes(addressStr);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        var _a;\n        if (!this._isKnownAddress(addressString)) {\n            (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED);\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? (0, util_1.ensureAddressString)(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? (0, util_1.ensureAddressString)(tx.to) : null;\n        const weiValue = tx.value != null ? (0, util_1.ensureBN)(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? (0, util_1.ensureBuffer)(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? (0, util_1.ensureIntNumber)(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? (0, util_1.ensureBN)(tx.gasPrice) : null;\n        const maxFeePerGas = tx.maxFeePerGas != null ? (0, util_1.ensureBN)(tx.maxFeePerGas) : null;\n        const maxPriorityFeePerGas = tx.maxPriorityFeePerGas != null\n            ? (0, util_1.ensureBN)(tx.maxPriorityFeePerGas)\n            : null;\n        const gasLimit = tx.gas != null ? (0, util_1.ensureBN)(tx.gas) : null;\n        const chainId = this.getChainId();\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            gasLimit,\n            chainId,\n        };\n    }\n    _isAuthorized() {\n        return this._addresses.length > 0;\n    }\n    _requireAuthorization() {\n        if (!this._isAuthorized()) {\n            throw eth_rpc_errors_1.ethErrors.provider.unauthorized({});\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw eth_rpc_errors_1.ethErrors.provider.unsupportedMethod({});\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumMessage(message, address, addPrefix, typedDataJson).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied message signature\");\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const relay = await this.initializeRelay();\n        const res = await relay.ethereumAddressFromSignedMessage(message, signature, addPrefix).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return [...this._addresses];\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this.getChainId().toString(10);\n    }\n    _eth_chainId() {\n        return (0, util_1.hexStringFromIntNumber)(this.getChainId());\n    }\n    getChainId() {\n        const chainIdStr = this._storage.getItem(DEFAULT_CHAIN_ID_KEY);\n        if (!chainIdStr) {\n            return (0, util_1.ensureIntNumber)(this._chainIdFromOpts);\n        }\n        const chainId = parseInt(chainIdStr, 10);\n        return (0, util_1.ensureIntNumber)(chainId);\n    }\n    async _eth_requestAccounts() {\n        var _a;\n        (_a = this.diagnostic) === null || _a === void 0 ? void 0 : _a.log(DiagnosticLogger_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::_eth_requestAccounts\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay\n                ? Session_1.Session.hash(this._relay.session.id)\n                : undefined,\n        });\n        if (this._addresses.length > 0) {\n            return Promise.resolve({\n                jsonrpc: \"2.0\",\n                id: 0,\n                result: this._addresses,\n            });\n        }\n        let res;\n        try {\n            const relay = await this.initializeRelay();\n            res = await relay.requestEthereumAccounts().promise;\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied account authorization\");\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        if (!(this.isLedger || this.isCoinbaseBrowser)) {\n            await this.switchEthereumChain(this.getChainId());\n        }\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const message = (0, util_1.ensureBuffer)(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = (0, util_1.ensureBuffer)(params[0]);\n        const relay = await this.initializeRelay();\n        const res = await relay.submitEthereumTransaction(signedTransaction, this.getChainId()).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signAndSubmitEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    /** @deprecated */\n    async _cbwallet_arbitrary(params) {\n        const action = params[0];\n        const data = params[1];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        if (typeof action !== \"object\" || action === null) {\n            throw new Error(\"parameter must be an object\");\n        }\n        const result = await this.genericRequest(action, data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    async _wallet_addEthereumChain(params) {\n        var _a, _b, _c, _d;\n        const request = params[0];\n        if (((_a = request.rpcUrls) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `please pass in at least 1 rpcUrl` },\n            };\n        }\n        if (!request.chainName || request.chainName.trim() === \"\") {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"chainName is a required field\",\n            });\n        }\n        if (!request.nativeCurrency) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"nativeCurrency is a required field\",\n            });\n        }\n        const chainIdNumber = parseInt(request.chainId, 16);\n        const success = await this.addEthereumChain(chainIdNumber, (_b = request.rpcUrls) !== null && _b !== void 0 ? _b : [], (_c = request.blockExplorerUrls) !== null && _c !== void 0 ? _c : [], request.chainName, (_d = request.iconUrls) !== null && _d !== void 0 ? _d : [], request.nativeCurrency);\n        if (success) {\n            return { jsonrpc: \"2.0\", id: 0, result: null };\n        }\n        else {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `unable to add ethereum chain` },\n            };\n        }\n    }\n    async _wallet_switchEthereumChain(params) {\n        const request = params[0];\n        await this.switchEthereumChain(parseInt(request.chainId, 16));\n        return { jsonrpc: \"2.0\", id: 0, result: null };\n    }\n    async _wallet_watchAsset(params) {\n        const request = (Array.isArray(params) ? params[0] : params);\n        if (!request.type) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"Type is required\",\n            });\n        }\n        if ((request === null || request === void 0 ? void 0 : request.type) !== \"ERC20\") {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: `Asset of type '${request.type}' is not supported`,\n            });\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"Options are required\",\n            });\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options.address)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"Address is required\",\n            });\n        }\n        const chainId = this.getChainId();\n        const { address, symbol, image, decimals } = request.options;\n        const res = await this.watchAsset(request.type, address, symbol, decimals, image, chainId);\n        return { jsonrpc: \"2.0\", id: 0, result: res };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0];\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n    initializeRelay() {\n        if (this._relay) {\n            return Promise.resolve(this._relay);\n        }\n        return this._relayProvider().then(relay => {\n            relay.setAccountsCallback((accounts, isDisconnect) => this._setAddresses(accounts, isDisconnect));\n            relay.setChainCallback((chainId, jsonRpcUrl) => {\n                this.updateProviderInfo(jsonRpcUrl, parseInt(chainId, 10));\n            });\n            relay.setDappDefaultChainCallback(this._chainIdFromOpts);\n            this._relay = relay;\n            return relay;\n        });\n    }\n}\nexports.CoinbaseWalletProvider = CoinbaseWalletProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMessageFromCode = exports.serializeError = exports.EthereumProviderError = exports.EthereumRpcError = exports.ethErrors = exports.errorCodes = void 0;\nconst classes_1 = require(\"./classes\");\nObject.defineProperty(exports, \"EthereumRpcError\", { enumerable: true, get: function () { return classes_1.EthereumRpcError; } });\nObject.defineProperty(exports, \"EthereumProviderError\", { enumerable: true, get: function () { return classes_1.EthereumProviderError; } });\nconst utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"serializeError\", { enumerable: true, get: function () { return utils_1.serializeError; } });\nObject.defineProperty(exports, \"getMessageFromCode\", { enumerable: true, get: function () { return utils_1.getMessageFromCode; } });\nconst errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"ethErrors\", { enumerable: true, get: function () { return errors_1.ethErrors; } });\nconst error_constants_1 = require(\"./error-constants\");\nObject.defineProperty(exports, \"errorCodes\", { enumerable: true, get: function () { return error_constants_1.errorCodes; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQW9FO0FBVWxFLGlHQVZPLDBCQUFnQixPQVVQO0FBQ2hCLHNHQVh5QiwrQkFBcUIsT0FXekI7QUFWdkIsbUNBRWlCO0FBU2YsK0ZBVkEsc0JBQWMsT0FVQTtBQUNkLG1HQVhnQiwwQkFBa0IsT0FXaEI7QUFUcEIscUNBQXFDO0FBS25DLDBGQUxPLGtCQUFTLE9BS1A7QUFKWCx1REFBK0M7QUFHN0MsMkZBSE8sNEJBQVUsT0FHUCJ9","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumProviderError = exports.EthereumRpcError = void 0;\nconst fast_safe_stringify_1 = require(\"fast-safe-stringify\");\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n * Permits any integer error code.\n */\nclass EthereumRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string.');\n        }\n        super(message);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    /**\n     * Returns a plain object with all public class properties.\n     */\n    serialize() {\n        const serialized = {\n            code: this.code,\n            message: this.message,\n        };\n        if (this.data !== undefined) {\n            serialized.data = this.data;\n        }\n        if (this.stack) {\n            serialized.stack = this.stack;\n        }\n        return serialized;\n    }\n    /**\n     * Return a string representation of the serialized error, omitting\n     * any circular references.\n     */\n    toString() {\n        return fast_safe_stringify_1.default(this.serialize(), stringifyReplacer, 2);\n    }\n}\nexports.EthereumRpcError = EthereumRpcError;\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends EthereumRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     * `code` must be an integer in the 1000 <= 4999 range.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\nexports.EthereumProviderError = EthereumProviderError;\n// Internal\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\nfunction stringifyReplacer(_, value) {\n    if (value === '[Circular]') {\n        return undefined;\n    }\n    return value;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xhc3Nlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGFzc2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZEQUFnRDtBQVNoRDs7OztHQUlHO0FBQ0gsTUFBYSxnQkFBb0IsU0FBUSxLQUFLO0lBTTVDLFlBQVksSUFBWSxFQUFFLE9BQWUsRUFBRSxJQUFRO1FBRWpELElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzNCLE1BQU0sSUFBSSxLQUFLLENBQ2IsNEJBQTRCLENBQzdCLENBQUM7U0FDSDtRQUNELElBQUksQ0FBQyxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO1lBQzNDLE1BQU0sSUFBSSxLQUFLLENBQ2Isc0NBQXNDLENBQ3ZDLENBQUM7U0FDSDtRQUVELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUNsQjtJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCxNQUFNLFVBQVUsR0FBK0I7WUFDN0MsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ2YsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ3RCLENBQUM7UUFDRixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQzNCLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztTQUM3QjtRQUNELElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNkLFVBQVUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUMvQjtRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxRQUFRO1FBQ04sT0FBTyw2QkFBYSxDQUNsQixJQUFJLENBQUMsU0FBUyxFQUFFLEVBQ2hCLGlCQUFpQixFQUNqQixDQUFDLENBQ0YsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQXRERCw0Q0FzREM7QUFFRDs7O0dBR0c7QUFDSCxNQUFhLHFCQUF5QixTQUFRLGdCQUFtQjtJQUUvRDs7O09BR0c7SUFDSCxZQUFZLElBQVksRUFBRSxPQUFlLEVBQUUsSUFBUTtRQUVqRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakMsTUFBTSxJQUFJLEtBQUssQ0FDYiwyREFBMkQsQ0FDNUQsQ0FBQztTQUNIO1FBRUQsS0FBSyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztDQUNGO0FBaEJELHNEQWdCQztBQUVELFdBQVc7QUFFWCxTQUFTLHNCQUFzQixDQUFDLElBQVk7SUFDMUMsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQztBQUNoRSxDQUFDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxDQUFVLEVBQUUsS0FBYztJQUNuRCxJQUFJLEtBQUssS0FBSyxZQUFZLEVBQUU7UUFDMUIsT0FBTyxTQUFTLENBQUM7S0FDbEI7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMifQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorValues = exports.errorCodes = void 0;\nexports.errorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n    },\n};\nexports.errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Vycm9yLWNvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUF1QmEsUUFBQSxVQUFVLEdBQWU7SUFDcEMsR0FBRyxFQUFFO1FBQ0gsWUFBWSxFQUFFLENBQUMsS0FBSztRQUNwQixnQkFBZ0IsRUFBRSxDQUFDLEtBQUs7UUFDeEIsbUJBQW1CLEVBQUUsQ0FBQyxLQUFLO1FBQzNCLG1CQUFtQixFQUFFLENBQUMsS0FBSztRQUMzQixrQkFBa0IsRUFBRSxDQUFDLEtBQUs7UUFDMUIsYUFBYSxFQUFFLENBQUMsS0FBSztRQUNyQixLQUFLLEVBQUUsQ0FBQyxLQUFLO1FBQ2IsY0FBYyxFQUFFLENBQUMsS0FBSztRQUN0QixjQUFjLEVBQUUsQ0FBQyxLQUFLO1FBQ3RCLGFBQWEsRUFBRSxDQUFDLEtBQUs7UUFDckIsUUFBUSxFQUFFLENBQUMsS0FBSztLQUNqQjtJQUNELFFBQVEsRUFBRTtRQUNSLG1CQUFtQixFQUFFLElBQUk7UUFDekIsWUFBWSxFQUFFLElBQUk7UUFDbEIsaUJBQWlCLEVBQUUsSUFBSTtRQUN2QixZQUFZLEVBQUUsSUFBSTtRQUNsQixpQkFBaUIsRUFBRSxJQUFJO0tBQ3hCO0NBQ0YsQ0FBQztBQUVXLFFBQUEsV0FBVyxHQUFHO0lBQ3pCLFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLE9BQU8sRUFBRSx1R0FBdUc7S0FDakg7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsY0FBYztRQUN4QixPQUFPLEVBQUUsOENBQThDO0tBQ3hEO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLGNBQWM7UUFDeEIsT0FBTyxFQUFFLCtDQUErQztLQUN6RDtJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLE9BQU8sRUFBRSw4QkFBOEI7S0FDeEM7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsY0FBYztRQUN4QixPQUFPLEVBQUUsMEJBQTBCO0tBQ3BDO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLGdCQUFnQjtLQUMxQjtJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSxxQkFBcUI7S0FDL0I7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUsdUJBQXVCO0tBQ2pDO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLHVCQUF1QjtLQUNqQztJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSx1QkFBdUI7S0FDakM7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUseUJBQXlCO0tBQ25DO0lBQ0QsTUFBTSxFQUFFO1FBQ04sUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLDRCQUE0QjtLQUN0QztJQUNELE1BQU0sRUFBRTtRQUNOLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSwwRUFBMEU7S0FDcEY7SUFDRCxNQUFNLEVBQUU7UUFDTixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUsa0VBQWtFO0tBQzVFO0lBQ0QsTUFBTSxFQUFFO1FBQ04sUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLCtDQUErQztLQUN6RDtJQUNELE1BQU0sRUFBRTtRQUNOLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSx3REFBd0Q7S0FDbEU7Q0FDRixDQUFDIn0=","\"use strict\";\n// DiagnosticLogger for debugging purposes only\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENTS = void 0;\nexports.EVENTS = {\n    STARTED_CONNECTING: \"walletlink_sdk.started.connecting\",\n    CONNECTED_STATE_CHANGE: \"walletlink_sdk.connected\",\n    DISCONNECTED: \"walletlink_sdk.disconnected\",\n    METADATA_DESTROYED: \"walletlink_sdk_metadata_destroyed\",\n    LINKED: \"walletlink_sdk.linked\",\n    FAILURE: \"walletlink_sdk.generic_failure\",\n    SESSION_CONFIG_RECEIVED: \"walletlink_sdk.session_config_event_received\",\n    ETH_ACCOUNTS_STATE: \"walletlink_sdk.eth_accounts_state\",\n    SESSION_STATE_CHANGE: \"walletlink_sdk.session_state_change\",\n    UNLINKED_ERROR_STATE: \"walletlink_sdk.unlinked_error_state\",\n    SKIPPED_CLEARING_SESSION: \"walletlink_sdk.skipped_clearing_session\",\n    GENERAL_ERROR: \"walletlink_sdk.general_error\",\n    WEB3_REQUEST: \"walletlink_sdk.web3.request\",\n    WEB3_REQUEST_PUBLISHED: \"walletlink_sdk.web3.request_published\",\n    WEB3_RESPONSE: \"walletlink_sdk.web3.response\",\n    UNKNOWN_ADDRESS_ENCOUNTERED: \"walletlink_sdk.unknown_address_encountered\",\n};\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Session = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst sha_js_1 = require(\"sha.js\");\nconst util_1 = require(\"../util\");\nconst STORAGE_KEY_SESSION_ID = \"session:id\";\nconst STORAGE_KEY_SESSION_SECRET = \"session:secret\";\nconst STORAGE_KEY_SESSION_LINKED = \"session:linked\";\nclass Session {\n    constructor(storage, id, secret, linked) {\n        this._storage = storage;\n        this._id = id || (0, util_1.randomBytesHex)(16);\n        this._secret = secret || (0, util_1.randomBytesHex)(32);\n        this._key = new sha_js_1.sha256()\n            .update(`${this._id}, ${this._secret} WalletLink`) // ensure old sessions stay connected\n            .digest(\"hex\");\n        this._linked = !!linked;\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new Session(storage, id, secret, linked === \"1\");\n        }\n        return null;\n    }\n    static get persistedSessionIdChange$() {\n        return (0, rxjs_1.fromEvent)(window, \"storage\").pipe((0, operators_1.filter)(evt => evt.key === STORAGE_KEY_SESSION_ID), (0, operators_1.map)(evt => ({\n            oldValue: evt.oldValue || null,\n            newValue: evt.newValue || null,\n        })));\n    }\n    /**\n     * Takes in a session ID and returns the sha256 hash of it.\n     * @param sessionId session ID\n     */\n    static hash(sessionId) {\n        return new sha_js_1.sha256().update(sessionId).digest(\"hex\");\n    }\n    get id() {\n        return this._id;\n    }\n    get secret() {\n        return this._secret;\n    }\n    get key() {\n        return this._key;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this._storage.setItem(STORAGE_KEY_SESSION_ID, this._id);\n        this._storage.setItem(STORAGE_KEY_SESSION_SECRET, this._secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this._storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? \"1\" : \"0\");\n    }\n}\nexports.Session = Session;\n","'use strict';\n\nvar undefined;\n\nvar $SyntaxError = SyntaxError;\nvar $Function = Function;\nvar $TypeError = TypeError;\n\n// eslint-disable-next-line consistent-return\nvar getEvalledConstructor = function (expressionSyntax) {\n\ttry {\n\t\treturn $Function('\"use strict\"; return (' + expressionSyntax + ').constructor;')();\n\t} catch (e) {}\n};\n\nvar $gOPD = Object.getOwnPropertyDescriptor;\nif ($gOPD) {\n\ttry {\n\t\t$gOPD({}, '');\n\t} catch (e) {\n\t\t$gOPD = null; // this is IE 8, which has a broken gOPD\n\t}\n}\n\nvar throwTypeError = function () {\n\tthrow new $TypeError();\n};\nvar ThrowTypeError = $gOPD\n\t? (function () {\n\t\ttry {\n\t\t\t// eslint-disable-next-line no-unused-expressions, no-caller, no-restricted-properties\n\t\t\targuments.callee; // IE 8 does not throw here\n\t\t\treturn throwTypeError;\n\t\t} catch (calleeThrows) {\n\t\t\ttry {\n\t\t\t\t// IE 8 throws on Object.getOwnPropertyDescriptor(arguments, '')\n\t\t\t\treturn $gOPD(arguments, 'callee').get;\n\t\t\t} catch (gOPDthrows) {\n\t\t\t\treturn throwTypeError;\n\t\t\t}\n\t\t}\n\t}())\n\t: throwTypeError;\n\nvar hasSymbols = require('has-symbols')();\n\nvar getProto = Object.getPrototypeOf || function (x) { return x.__proto__; }; // eslint-disable-line no-proto\n\nvar needsEval = {};\n\nvar TypedArray = typeof Uint8Array === 'undefined' ? undefined : getProto(Uint8Array);\n\nvar INTRINSICS = {\n\t'%AggregateError%': typeof AggregateError === 'undefined' ? undefined : AggregateError,\n\t'%Array%': Array,\n\t'%ArrayBuffer%': typeof ArrayBuffer === 'undefined' ? undefined : ArrayBuffer,\n\t'%ArrayIteratorPrototype%': hasSymbols ? getProto([][Symbol.iterator]()) : undefined,\n\t'%AsyncFromSyncIteratorPrototype%': undefined,\n\t'%AsyncFunction%': needsEval,\n\t'%AsyncGenerator%': needsEval,\n\t'%AsyncGeneratorFunction%': needsEval,\n\t'%AsyncIteratorPrototype%': needsEval,\n\t'%Atomics%': typeof Atomics === 'undefined' ? undefined : Atomics,\n\t'%BigInt%': typeof BigInt === 'undefined' ? undefined : BigInt,\n\t'%Boolean%': Boolean,\n\t'%DataView%': typeof DataView === 'undefined' ? undefined : DataView,\n\t'%Date%': Date,\n\t'%decodeURI%': decodeURI,\n\t'%decodeURIComponent%': decodeURIComponent,\n\t'%encodeURI%': encodeURI,\n\t'%encodeURIComponent%': encodeURIComponent,\n\t'%Error%': Error,\n\t'%eval%': eval, // eslint-disable-line no-eval\n\t'%EvalError%': EvalError,\n\t'%Float32Array%': typeof Float32Array === 'undefined' ? undefined : Float32Array,\n\t'%Float64Array%': typeof Float64Array === 'undefined' ? undefined : Float64Array,\n\t'%FinalizationRegistry%': typeof FinalizationRegistry === 'undefined' ? undefined : FinalizationRegistry,\n\t'%Function%': $Function,\n\t'%GeneratorFunction%': needsEval,\n\t'%Int8Array%': typeof Int8Array === 'undefined' ? undefined : Int8Array,\n\t'%Int16Array%': typeof Int16Array === 'undefined' ? undefined : Int16Array,\n\t'%Int32Array%': typeof Int32Array === 'undefined' ? undefined : Int32Array,\n\t'%isFinite%': isFinite,\n\t'%isNaN%': isNaN,\n\t'%IteratorPrototype%': hasSymbols ? getProto(getProto([][Symbol.iterator]())) : undefined,\n\t'%JSON%': typeof JSON === 'object' ? JSON : undefined,\n\t'%Map%': typeof Map === 'undefined' ? undefined : Map,\n\t'%MapIteratorPrototype%': typeof Map === 'undefined' || !hasSymbols ? undefined : getProto(new Map()[Symbol.iterator]()),\n\t'%Math%': Math,\n\t'%Number%': Number,\n\t'%Object%': Object,\n\t'%parseFloat%': parseFloat,\n\t'%parseInt%': parseInt,\n\t'%Promise%': typeof Promise === 'undefined' ? undefined : Promise,\n\t'%Proxy%': typeof Proxy === 'undefined' ? undefined : Proxy,\n\t'%RangeError%': RangeError,\n\t'%ReferenceError%': ReferenceError,\n\t'%Reflect%': typeof Reflect === 'undefined' ? undefined : Reflect,\n\t'%RegExp%': RegExp,\n\t'%Set%': typeof Set === 'undefined' ? undefined : Set,\n\t'%SetIteratorPrototype%': typeof Set === 'undefined' || !hasSymbols ? undefined : getProto(new Set()[Symbol.iterator]()),\n\t'%SharedArrayBuffer%': typeof SharedArrayBuffer === 'undefined' ? undefined : SharedArrayBuffer,\n\t'%String%': String,\n\t'%StringIteratorPrototype%': hasSymbols ? getProto(''[Symbol.iterator]()) : undefined,\n\t'%Symbol%': hasSymbols ? Symbol : undefined,\n\t'%SyntaxError%': $SyntaxError,\n\t'%ThrowTypeError%': ThrowTypeError,\n\t'%TypedArray%': TypedArray,\n\t'%TypeError%': $TypeError,\n\t'%Uint8Array%': typeof Uint8Array === 'undefined' ? undefined : Uint8Array,\n\t'%Uint8ClampedArray%': typeof Uint8ClampedArray === 'undefined' ? undefined : Uint8ClampedArray,\n\t'%Uint16Array%': typeof Uint16Array === 'undefined' ? undefined : Uint16Array,\n\t'%Uint32Array%': typeof Uint32Array === 'undefined' ? undefined : Uint32Array,\n\t'%URIError%': URIError,\n\t'%WeakMap%': typeof WeakMap === 'undefined' ? undefined : WeakMap,\n\t'%WeakRef%': typeof WeakRef === 'undefined' ? undefined : WeakRef,\n\t'%WeakSet%': typeof WeakSet === 'undefined' ? undefined : WeakSet\n};\n\nvar doEval = function doEval(name) {\n\tvar value;\n\tif (name === '%AsyncFunction%') {\n\t\tvalue = getEvalledConstructor('async function () {}');\n\t} else if (name === '%GeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('function* () {}');\n\t} else if (name === '%AsyncGeneratorFunction%') {\n\t\tvalue = getEvalledConstructor('async function* () {}');\n\t} else if (name === '%AsyncGenerator%') {\n\t\tvar fn = doEval('%AsyncGeneratorFunction%');\n\t\tif (fn) {\n\t\t\tvalue = fn.prototype;\n\t\t}\n\t} else if (name === '%AsyncIteratorPrototype%') {\n\t\tvar gen = doEval('%AsyncGenerator%');\n\t\tif (gen) {\n\t\t\tvalue = getProto(gen.prototype);\n\t\t}\n\t}\n\n\tINTRINSICS[name] = value;\n\n\treturn value;\n};\n\nvar LEGACY_ALIASES = {\n\t'%ArrayBufferPrototype%': ['ArrayBuffer', 'prototype'],\n\t'%ArrayPrototype%': ['Array', 'prototype'],\n\t'%ArrayProto_entries%': ['Array', 'prototype', 'entries'],\n\t'%ArrayProto_forEach%': ['Array', 'prototype', 'forEach'],\n\t'%ArrayProto_keys%': ['Array', 'prototype', 'keys'],\n\t'%ArrayProto_values%': ['Array', 'prototype', 'values'],\n\t'%AsyncFunctionPrototype%': ['AsyncFunction', 'prototype'],\n\t'%AsyncGenerator%': ['AsyncGeneratorFunction', 'prototype'],\n\t'%AsyncGeneratorPrototype%': ['AsyncGeneratorFunction', 'prototype', 'prototype'],\n\t'%BooleanPrototype%': ['Boolean', 'prototype'],\n\t'%DataViewPrototype%': ['DataView', 'prototype'],\n\t'%DatePrototype%': ['Date', 'prototype'],\n\t'%ErrorPrototype%': ['Error', 'prototype'],\n\t'%EvalErrorPrototype%': ['EvalError', 'prototype'],\n\t'%Float32ArrayPrototype%': ['Float32Array', 'prototype'],\n\t'%Float64ArrayPrototype%': ['Float64Array', 'prototype'],\n\t'%FunctionPrototype%': ['Function', 'prototype'],\n\t'%Generator%': ['GeneratorFunction', 'prototype'],\n\t'%GeneratorPrototype%': ['GeneratorFunction', 'prototype', 'prototype'],\n\t'%Int8ArrayPrototype%': ['Int8Array', 'prototype'],\n\t'%Int16ArrayPrototype%': ['Int16Array', 'prototype'],\n\t'%Int32ArrayPrototype%': ['Int32Array', 'prototype'],\n\t'%JSONParse%': ['JSON', 'parse'],\n\t'%JSONStringify%': ['JSON', 'stringify'],\n\t'%MapPrototype%': ['Map', 'prototype'],\n\t'%NumberPrototype%': ['Number', 'prototype'],\n\t'%ObjectPrototype%': ['Object', 'prototype'],\n\t'%ObjProto_toString%': ['Object', 'prototype', 'toString'],\n\t'%ObjProto_valueOf%': ['Object', 'prototype', 'valueOf'],\n\t'%PromisePrototype%': ['Promise', 'prototype'],\n\t'%PromiseProto_then%': ['Promise', 'prototype', 'then'],\n\t'%Promise_all%': ['Promise', 'all'],\n\t'%Promise_reject%': ['Promise', 'reject'],\n\t'%Promise_resolve%': ['Promise', 'resolve'],\n\t'%RangeErrorPrototype%': ['RangeError', 'prototype'],\n\t'%ReferenceErrorPrototype%': ['ReferenceError', 'prototype'],\n\t'%RegExpPrototype%': ['RegExp', 'prototype'],\n\t'%SetPrototype%': ['Set', 'prototype'],\n\t'%SharedArrayBufferPrototype%': ['SharedArrayBuffer', 'prototype'],\n\t'%StringPrototype%': ['String', 'prototype'],\n\t'%SymbolPrototype%': ['Symbol', 'prototype'],\n\t'%SyntaxErrorPrototype%': ['SyntaxError', 'prototype'],\n\t'%TypedArrayPrototype%': ['TypedArray', 'prototype'],\n\t'%TypeErrorPrototype%': ['TypeError', 'prototype'],\n\t'%Uint8ArrayPrototype%': ['Uint8Array', 'prototype'],\n\t'%Uint8ClampedArrayPrototype%': ['Uint8ClampedArray', 'prototype'],\n\t'%Uint16ArrayPrototype%': ['Uint16Array', 'prototype'],\n\t'%Uint32ArrayPrototype%': ['Uint32Array', 'prototype'],\n\t'%URIErrorPrototype%': ['URIError', 'prototype'],\n\t'%WeakMapPrototype%': ['WeakMap', 'prototype'],\n\t'%WeakSetPrototype%': ['WeakSet', 'prototype']\n};\n\nvar bind = require('function-bind');\nvar hasOwn = require('has');\nvar $concat = bind.call(Function.call, Array.prototype.concat);\nvar $spliceApply = bind.call(Function.apply, Array.prototype.splice);\nvar $replace = bind.call(Function.call, String.prototype.replace);\nvar $strSlice = bind.call(Function.call, String.prototype.slice);\nvar $exec = bind.call(Function.call, RegExp.prototype.exec);\n\n/* adapted from https://github.com/lodash/lodash/blob/4.17.15/dist/lodash.js#L6735-L6744 */\nvar rePropName = /[^%.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|%$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g; /** Used to match backslashes in property paths. */\nvar stringToPath = function stringToPath(string) {\n\tvar first = $strSlice(string, 0, 1);\n\tvar last = $strSlice(string, -1);\n\tif (first === '%' && last !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected closing `%`');\n\t} else if (last === '%' && first !== '%') {\n\t\tthrow new $SyntaxError('invalid intrinsic syntax, expected opening `%`');\n\t}\n\tvar result = [];\n\t$replace(string, rePropName, function (match, number, quote, subString) {\n\t\tresult[result.length] = quote ? $replace(subString, reEscapeChar, '$1') : number || match;\n\t});\n\treturn result;\n};\n/* end adaptation */\n\nvar getBaseIntrinsic = function getBaseIntrinsic(name, allowMissing) {\n\tvar intrinsicName = name;\n\tvar alias;\n\tif (hasOwn(LEGACY_ALIASES, intrinsicName)) {\n\t\talias = LEGACY_ALIASES[intrinsicName];\n\t\tintrinsicName = '%' + alias[0] + '%';\n\t}\n\n\tif (hasOwn(INTRINSICS, intrinsicName)) {\n\t\tvar value = INTRINSICS[intrinsicName];\n\t\tif (value === needsEval) {\n\t\t\tvalue = doEval(intrinsicName);\n\t\t}\n\t\tif (typeof value === 'undefined' && !allowMissing) {\n\t\t\tthrow new $TypeError('intrinsic ' + name + ' exists, but is not available. Please file an issue!');\n\t\t}\n\n\t\treturn {\n\t\t\talias: alias,\n\t\t\tname: intrinsicName,\n\t\t\tvalue: value\n\t\t};\n\t}\n\n\tthrow new $SyntaxError('intrinsic ' + name + ' does not exist!');\n};\n\nmodule.exports = function GetIntrinsic(name, allowMissing) {\n\tif (typeof name !== 'string' || name.length === 0) {\n\t\tthrow new $TypeError('intrinsic name must be a non-empty string');\n\t}\n\tif (arguments.length > 1 && typeof allowMissing !== 'boolean') {\n\t\tthrow new $TypeError('\"allowMissing\" argument must be a boolean');\n\t}\n\n\tif ($exec(/^%?[^%]*%?$/, name) === null) {\n\t\tthrow new $SyntaxError('`%` may not be present anywhere but at the beginning and end of the intrinsic name');\n\t}\n\tvar parts = stringToPath(name);\n\tvar intrinsicBaseName = parts.length > 0 ? parts[0] : '';\n\n\tvar intrinsic = getBaseIntrinsic('%' + intrinsicBaseName + '%', allowMissing);\n\tvar intrinsicRealName = intrinsic.name;\n\tvar value = intrinsic.value;\n\tvar skipFurtherCaching = false;\n\n\tvar alias = intrinsic.alias;\n\tif (alias) {\n\t\tintrinsicBaseName = alias[0];\n\t\t$spliceApply(parts, $concat([0, 1], alias));\n\t}\n\n\tfor (var i = 1, isOwn = true; i < parts.length; i += 1) {\n\t\tvar part = parts[i];\n\t\tvar first = $strSlice(part, 0, 1);\n\t\tvar last = $strSlice(part, -1);\n\t\tif (\n\t\t\t(\n\t\t\t\t(first === '\"' || first === \"'\" || first === '`')\n\t\t\t\t|| (last === '\"' || last === \"'\" || last === '`')\n\t\t\t)\n\t\t\t&& first !== last\n\t\t) {\n\t\t\tthrow new $SyntaxError('property names with quotes must have matching quotes');\n\t\t}\n\t\tif (part === 'constructor' || !isOwn) {\n\t\t\tskipFurtherCaching = true;\n\t\t}\n\n\t\tintrinsicBaseName += '.' + part;\n\t\tintrinsicRealName = '%' + intrinsicBaseName + '%';\n\n\t\tif (hasOwn(INTRINSICS, intrinsicRealName)) {\n\t\t\tvalue = INTRINSICS[intrinsicRealName];\n\t\t} else if (value != null) {\n\t\t\tif (!(part in value)) {\n\t\t\t\tif (!allowMissing) {\n\t\t\t\t\tthrow new $TypeError('base intrinsic for ' + name + ' exists, but the property is not available.');\n\t\t\t\t}\n\t\t\t\treturn void undefined;\n\t\t\t}\n\t\t\tif ($gOPD && (i + 1) >= parts.length) {\n\t\t\t\tvar desc = $gOPD(value, part);\n\t\t\t\tisOwn = !!desc;\n\n\t\t\t\t// By convention, when a data property is converted to an accessor\n\t\t\t\t// property to emulate a data property that does not suffer from\n\t\t\t\t// the override mistake, that accessor's getter is marked with\n\t\t\t\t// an `originalValue` property. Here, when we detect this, we\n\t\t\t\t// uphold the illusion by pretending to see that original data\n\t\t\t\t// property, i.e., returning the value rather than the getter\n\t\t\t\t// itself.\n\t\t\t\tif (isOwn && 'get' in desc && !('originalValue' in desc.get)) {\n\t\t\t\t\tvalue = desc.get;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = value[part];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tisOwn = hasOwn(value, part);\n\t\t\t\tvalue = value[part];\n\t\t\t}\n\n\t\t\tif (isOwn && !skipFurtherCaching) {\n\t\t\t\tINTRINSICS[intrinsicRealName] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn value;\n};\n","'use strict';\n\nvar implementation = require('./implementation');\n\nmodule.exports = Function.prototype.bind || implementation;\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nvar Format = {\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n\nmodule.exports = {\n    'default': Format.RFC3986,\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return String(value);\n        }\n    },\n    RFC1738: Format.RFC1738,\n    RFC3986: Format.RFC3986\n};\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelayMessageType = void 0;\nvar RelayMessageType;\n(function (RelayMessageType) {\n    RelayMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    RelayMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    RelayMessageType[\"LINKED\"] = \"LINKED\";\n    RelayMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    RelayMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    RelayMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    RelayMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n})(RelayMessageType = exports.RelayMessageType || (exports.RelayMessageType = {}));\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CoinbaseWalletSDK = void 0;\nconst wallet_logo_1 = require(\"./assets/wallet-logo\");\nconst ScopedLocalStorage_1 = require(\"./lib/ScopedLocalStorage\");\nconst CoinbaseWalletProvider_1 = require(\"./provider/CoinbaseWalletProvider\");\nconst WalletSDKUI_1 = require(\"./provider/WalletSDKUI\");\nconst WalletSDKRelay_1 = require(\"./relay/WalletSDKRelay\");\nconst WalletSDKRelayEventManager_1 = require(\"./relay/WalletSDKRelayEventManager\");\nconst util_1 = require(\"./util\");\nconst LINK_API_URL = process.env.LINK_API_URL || \"https://www.walletlink.org\";\nconst SDK_VERSION = process.env.SDK_VERSION || require(\"../package.json\").version || \"unknown\";\nclass CoinbaseWalletSDK {\n    /**\n     * Constructor\n     * @param options Coinbase Wallet SDK constructor options\n     */\n    constructor(options) {\n        var _a, _b, _c;\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = null;\n        this._relayEventManager = null;\n        const linkAPIUrl = options.linkAPIUrl || LINK_API_URL;\n        let uiConstructor;\n        if (!options.uiConstructor) {\n            uiConstructor = opts => new WalletSDKUI_1.WalletSDKUI(opts);\n        }\n        else {\n            uiConstructor = options.uiConstructor;\n        }\n        if (typeof options.overrideIsMetaMask === \"undefined\") {\n            this._overrideIsMetaMask = false;\n        }\n        else {\n            this._overrideIsMetaMask = options.overrideIsMetaMask;\n        }\n        this._overrideIsCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        this._overrideIsCoinbaseBrowser =\n            (_b = options.overrideIsCoinbaseBrowser) !== null && _b !== void 0 ? _b : false;\n        if (options.diagnosticLogger && options.eventListener) {\n            throw new Error(\"Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger\");\n        }\n        if (options.eventListener) {\n            this._diagnosticLogger = {\n                // eslint-disable-next-line @typescript-eslint/unbound-method\n                log: options.eventListener.onEvent,\n            };\n        }\n        else {\n            this._diagnosticLogger = options.diagnosticLogger;\n        }\n        this._reloadOnDisconnect = (_c = options.reloadOnDisconnect) !== null && _c !== void 0 ? _c : true;\n        const url = new URL(linkAPIUrl);\n        const origin = `${url.protocol}//${url.host}`;\n        this._storage = new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${origin}`); // needs migration to preserve local states\n        this._storage.setItem(\"version\", CoinbaseWalletSDK.VERSION);\n        if (this.walletExtension || this.coinbaseBrowser) {\n            return;\n        }\n        this._relayEventManager = new WalletSDKRelayEventManager_1.WalletSDKRelayEventManager();\n        this._relay = new WalletSDKRelay_1.WalletSDKRelay({\n            linkAPIUrl,\n            version: SDK_VERSION,\n            darkMode: !!options.darkMode,\n            uiConstructor,\n            storage: this._storage,\n            relayEventManager: this._relayEventManager,\n            diagnosticLogger: this._diagnosticLogger,\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        if (!!options.headlessMode)\n            return;\n        this._relay.attachUI();\n    }\n    /**\n     * Create a Web3 Provider object\n     * @param jsonRpcUrl Ethereum JSON RPC URL (Default: \"\")\n     * @param chainId Ethereum Chain ID (Default: 1)\n     * @returns A Web3 Provider\n     */\n    makeWeb3Provider(jsonRpcUrl = \"\", chainId = 1) {\n        const extension = this.walletExtension;\n        if (extension) {\n            if (!this.isCipherProvider(extension)) {\n                extension.setProviderInfo(jsonRpcUrl, chainId);\n            }\n            if (this._reloadOnDisconnect === false &&\n                typeof extension.disableReloadOnDisconnect === \"function\")\n                extension.disableReloadOnDisconnect();\n            return extension;\n        }\n        const dappBrowser = this.coinbaseBrowser;\n        if (dappBrowser) {\n            return dappBrowser;\n        }\n        const relay = this._relay;\n        if (!relay || !this._relayEventManager || !this._storage) {\n            throw new Error(\"Relay not initialized, should never happen\");\n        }\n        if (!jsonRpcUrl)\n            relay.setConnectDisabled(true);\n        return new CoinbaseWalletProvider_1.CoinbaseWalletProvider({\n            relayProvider: () => Promise.resolve(relay),\n            relayEventManager: this._relayEventManager,\n            storage: this._storage,\n            jsonRpcUrl,\n            chainId,\n            qrUrl: this.getQrUrl(),\n            diagnosticLogger: this._diagnosticLogger,\n            overrideIsMetaMask: this._overrideIsMetaMask,\n            overrideIsCoinbaseWallet: this._overrideIsCoinbaseWallet,\n            overrideIsCoinbaseBrowser: this._overrideIsCoinbaseBrowser,\n        });\n    }\n    /**\n     * Set application information\n     * @param appName Application name\n     * @param appLogoUrl Application logo image URL\n     */\n    setAppInfo(appName, appLogoUrl) {\n        var _a;\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || (0, util_1.getFavicon)();\n        const extension = this.walletExtension;\n        if (extension) {\n            if (!this.isCipherProvider(extension)) {\n                extension.setAppInfo(this._appName, this._appLogoUrl);\n            }\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.setAppInfo(this._appName, this._appLogoUrl);\n        }\n    }\n    /**\n     * Disconnect. After disconnecting, this will reload the web page to ensure\n     * all potential stale state is cleared.\n     */\n    disconnect() {\n        var _a;\n        const extension = this.walletExtension;\n        if (extension) {\n            void extension.close();\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.resetAndReload();\n        }\n    }\n    /**\n     * Return QR URL for mobile wallet connection, will return null if extension is installed\n     */\n    getQrUrl() {\n        var _a, _b;\n        return (_b = (_a = this._relay) === null || _a === void 0 ? void 0 : _a.getQRCodeUrl()) !== null && _b !== void 0 ? _b : null;\n    }\n    /**\n     * Official Coinbase Wallet logo for developers to use on their frontend\n     * @param type Type of wallet logo: \"standard\" | \"circle\" | \"text\" | \"textWithLogo\" | \"textLight\" | \"textWithLogoLight\"\n     * @param width Width of the logo (Optional)\n     * @returns SVG Data URI\n     */\n    getCoinbaseWalletLogo(type, width = 240) {\n        return (0, wallet_logo_1.walletLogo)(type, width);\n    }\n    get walletExtension() {\n        var _a;\n        return (_a = window.coinbaseWalletExtension) !== null && _a !== void 0 ? _a : window.walletLinkExtension;\n    }\n    get coinbaseBrowser() {\n        var _a, _b;\n        try {\n            // Coinbase DApp browser does not inject into iframes so grab provider from top frame if it exists\n            const ethereum = ((_a = window.ethereum) !== null && _a !== void 0 ? _a : (_b = window.top) === null || _b === void 0 ? void 0 : _b.ethereum);\n            if (!ethereum) {\n                return undefined;\n            }\n            if (\"isCoinbaseBrowser\" in ethereum && ethereum.isCoinbaseBrowser) {\n                return ethereum;\n            }\n            else {\n                return undefined;\n            }\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    isCipherProvider(provider) {\n        // @ts-expect-error isCipher walletlink property\n        return typeof provider.isCipher === \"boolean\" && provider.isCipher;\n    }\n}\nexports.CoinbaseWalletSDK = CoinbaseWalletSDK;\nCoinbaseWalletSDK.VERSION = SDK_VERSION;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeError = exports.isValidCode = exports.getMessageFromCode = exports.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;\nconst error_constants_1 = require(\"./error-constants\");\nconst classes_1 = require(\"./classes\");\nconst FALLBACK_ERROR_CODE = error_constants_1.errorCodes.rpc.internal;\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nconst FALLBACK_ERROR = {\n    code: FALLBACK_ERROR_CODE,\n    message: getMessageFromCode(FALLBACK_ERROR_CODE),\n};\nexports.JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (Number.isInteger(code)) {\n        const codeString = code.toString();\n        if (hasKey(error_constants_1.errorValues, codeString)) {\n            return error_constants_1.errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return exports.JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\nexports.getMessageFromCode = getMessageFromCode;\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n */\nfunction isValidCode(code) {\n    if (!Number.isInteger(code)) {\n        return false;\n    }\n    const codeString = code.toString();\n    if (error_constants_1.errorValues[codeString]) {\n        return true;\n    }\n    if (isJsonRpcServerError(code)) {\n        return true;\n    }\n    return false;\n}\nexports.isValidCode = isValidCode;\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n */\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = false, } = {}) {\n    var _a, _b;\n    if (!fallbackError ||\n        !Number.isInteger(fallbackError.code) ||\n        typeof fallbackError.message !== 'string') {\n        throw new Error('Must provide fallback error with integer number code and string message.');\n    }\n    if (error instanceof classes_1.EthereumRpcError) {\n        return error.serialize();\n    }\n    const serialized = {};\n    if (error &&\n        typeof error === 'object' &&\n        !Array.isArray(error) &&\n        hasKey(error, 'code') &&\n        isValidCode(error.code)) {\n        const _error = error;\n        serialized.code = _error.code;\n        if (_error.message && typeof _error.message === 'string') {\n            serialized.message = _error.message;\n            if (hasKey(_error, 'data')) {\n                serialized.data = _error.data;\n            }\n        }\n        else {\n            serialized.message = getMessageFromCode(serialized.code);\n            serialized.data = { originalError: assignOriginalError(error) };\n        }\n    }\n    else {\n        serialized.code = fallbackError.code;\n        const message = (_a = error) === null || _a === void 0 ? void 0 : _a.message;\n        serialized.message = (message && typeof message === 'string'\n            ? message\n            : fallbackError.message);\n        serialized.data = { originalError: assignOriginalError(error) };\n    }\n    const stack = (_b = error) === null || _b === void 0 ? void 0 : _b.stack;\n    if (shouldIncludeStack && error && stack && typeof stack === 'string') {\n        serialized.stack = stack;\n    }\n    return serialized;\n}\nexports.serializeError = serializeError;\n// Internal\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\nfunction assignOriginalError(error) {\n    if (error && typeof error === 'object' && !Array.isArray(error)) {\n        return Object.assign({}, error);\n    }\n    return error;\n}\nfunction hasKey(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdURBQTREO0FBQzVELHVDQUF5RTtBQUV6RSxNQUFNLG1CQUFtQixHQUFHLDRCQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztBQUNwRCxNQUFNLGdCQUFnQixHQUFHLDZEQUE2RCxDQUFDO0FBQ3ZGLE1BQU0sY0FBYyxHQUErQjtJQUNqRCxJQUFJLEVBQUUsbUJBQW1CO0lBQ3pCLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxtQkFBbUIsQ0FBQztDQUNqRCxDQUFDO0FBRVcsUUFBQSw2QkFBNkIsR0FBRywyQkFBMkIsQ0FBQztBQUl6RTs7O0dBR0c7QUFDSCxTQUFnQixrQkFBa0IsQ0FDaEMsSUFBWSxFQUNaLGtCQUEwQixnQkFBZ0I7SUFFMUMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUVuQyxJQUFJLE1BQU0sQ0FBQyw2QkFBVyxFQUFFLFVBQVUsQ0FBQyxFQUFFO1lBQ25DLE9BQU8sNkJBQVcsQ0FBQyxVQUEyQixDQUFDLENBQUMsT0FBTyxDQUFDO1NBQ3pEO1FBQ0QsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM5QixPQUFPLHFDQUE2QixDQUFDO1NBQ3RDO0tBQ0Y7SUFDRCxPQUFPLGVBQWUsQ0FBQztBQUN6QixDQUFDO0FBZkQsZ0RBZUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFnQixXQUFXLENBQUMsSUFBWTtJQUN0QyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMzQixPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ25DLElBQUksNkJBQVcsQ0FBQyxVQUEy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","'use strict';\n\nvar formats = require('./formats');\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    /* eslint no-param-reassign: 0 */\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset, kind, format) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = str;\n    if (typeof str === 'symbol') {\n        string = Symbol.prototype.toString.call(str);\n    } else if (typeof str !== 'string') {\n        string = String(str);\n    }\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n            || (format === formats.RFC1738 && (c === 0x28 || c === 0x29)) // ( )\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        /* eslint operator-linebreak: [2, \"before\"] */\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nvar maybeMap = function maybeMap(val, fn) {\n    if (isArray(val)) {\n        var mapped = [];\n        for (var i = 0; i < val.length; i += 1) {\n            mapped.push(fn(val[i]));\n        }\n        return mapped;\n    }\n    return fn(val);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    maybeMap: maybeMap,\n    merge: merge\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletSDKRelayAbstract = exports.APP_VERSION_KEY = exports.LOCAL_STORAGE_ADDRESSES_KEY = exports.WALLET_USER_NAME_KEY = void 0;\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nexports.WALLET_USER_NAME_KEY = \"walletUsername\";\nexports.LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nexports.APP_VERSION_KEY = \"AppVersion\";\nclass WalletSDKRelayAbstract {\n    async makeEthereumJSONRPCRequest(request, jsonRpcUrl) {\n        if (!jsonRpcUrl)\n            throw new Error(\"Error: No jsonRpcUrl provided\");\n        return window\n            .fetch(jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" },\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw eth_rpc_errors_1.ethErrors.rpc.parse({});\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw (0, eth_rpc_errors_1.serializeError)(error);\n            }\n            return response;\n        });\n    }\n}\nexports.WalletSDKRelayAbstract = WalletSDKRelayAbstract;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('keccak/js')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","\"use strict\";\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Method = void 0;\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"generic\"] = \"generic\";\n    Web3Method[\"childRequestEthereumAccounts\"] = \"childRequestEthereumAccounts\";\n    Web3Method[\"addEthereumChain\"] = \"addEthereumChain\";\n    Web3Method[\"switchEthereumChain\"] = \"switchEthereumChain\";\n    Web3Method[\"makeEthereumJSONRPCRequest\"] = \"makeEthereumJSONRPCRequest\";\n    Web3Method[\"watchAsset\"] = \"watchAsset\";\n    Web3Method[\"selectProvider\"] = \"selectProvider\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n"],"sourceRoot":""}