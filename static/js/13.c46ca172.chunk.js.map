{"version":3,"sources":["../node_modules/walletlink/dist/index.js","../../src/errors.ts","../node_modules/walletlink/dist/init/events.js","../node_modules/walletlink/dist/init/WalletLinkAnalyticsAbstract.js","../node_modules/js-sha256/src/sha256.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/index.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/abi.js","../node_modules/walletlink/dist/provider/FilterPolyfill.js","../node_modules/walletlink/dist/provider/JSONRPC.js","../node_modules/walletlink/dist/provider/SubscriptionManager.js","../node_modules/walletlink/dist/lib/ScopedLocalStorage.js","../node_modules/walletlink/dist/provider/WalletLinkSdkUI.js","../node_modules/walletlink/dist/components/LinkFlow.js","../node_modules/walletlink/dist/components/LinkDialog.js","../node_modules/walletlink/dist/components/LinkDialog-css.js","../node_modules/walletlink/dist/vendor-js/qrcode-svg/index.js","../node_modules/walletlink/dist/components/Spinner-css.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog.js","../node_modules/walletlink/dist/components/icons/globe-icon-svg.js","../node_modules/walletlink/dist/components/icons/link-icon-svg.js","../node_modules/walletlink/dist/components/icons/lock-icon-svg.js","../node_modules/walletlink/dist/components/icons/QRLogo.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog-css.js","../node_modules/walletlink/dist/components/Snackbar.js","../node_modules/walletlink/dist/components/Snackbar-css.js","../node_modules/walletlink/dist/lib/cssReset.js","../node_modules/walletlink/dist/lib/cssReset-css.js","../node_modules/walletlink/dist/provider/WalletLinkUI.js","../node_modules/walletlink/dist/relay/WalletLinkRelay.js","../node_modules/walletlink/dist/connection/WalletLinkConnection.js","../node_modules/walletlink/dist/connection/ClientMessage.js","../node_modules/walletlink/dist/connection/RxWebSocket.js","../node_modules/walletlink/dist/connection/ServerMessage.js","../node_modules/walletlink/dist/relay/aes256gcm.js","../node_modules/walletlink/dist/relay/Web3RequestCanceledMessage.js","../node_modules/walletlink/dist/relay/Web3RequestMessage.js","../node_modules/walletlink/dist/relay/Web3Response.js","../node_modules/walletlink/dist/relay/Web3ResponseMessage.js","../node_modules/walletlink/dist/relay/WalletLinkRelayEventManager.js","../node_modules/walletlink/dist/util.js","../node_modules/walletlink/node_modules/bn.js/lib/bn.js","../node_modules/walletlink/dist/provider/WalletLinkProvider.js","../../src/index.ts","../../src/classes.ts","../../src/error-constants.ts","../node_modules/walletlink/dist/connection/WalletLinkAnalytics.js","../node_modules/walletlink/dist/init/index.js","../node_modules/walletlink/dist/relay/Session.js","../node_modules/walletlink/dist/types.js","../node_modules/walletlink/dist/relay/RelayMessage.js","../../src/utils.ts","../node_modules/walletlink/dist/relay/WalletLinkRelayAbstract.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/util.js","../node_modules/walletlink/dist/WalletLink.js","../node_modules/walletlink/dist/components/QRCode.js","../node_modules/walletlink/dist/components/Spinner.js","../node_modules/walletlink/dist/version.js","../node_modules/walletlink/dist/relay/Web3Method.js"],"names":["Object","defineProperty","exports","value","WalletLink","WalletLinkProvider","WalletLinkProvider_1","require","WalletLink_1","WalletLinkProvider_2","enumerable","get","WalletLink_2","default","window","EVENTS","REQUEST_CHILD_ETHEREUM_ACCOUNTS_START","REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE","STARTED_CONNECTING","CONNECTED_STATE_CHANGE","DISCONNECTED","METADATA_DESTROYED","LINKED","FAILURE","SESSION_CONFIG_RECEIVED","ETH_ACCOUNTS_STATE","SESSION_STATE_CHANGE","UNLINKED_ERROR_STATE","SKIPPED_CLEARING_SESSION","GENERAL_ERROR","WEB3_REQUEST","WEB3_REQUEST_PUBLISHED","WEB3_RESPONSE","UNKNOWN_ADDRESS_ENCOUNTERED","WalletLinkAnalyticsAbstract","ERROR","WINDOW","root","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","process","versions","node","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","module","AMD","define","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","split","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","Array","isArray","obj","prototype","toString","call","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","buffer","constructor","createOutputMethod","outputType","is224","message","Sha256","update","createMethod","method","nodeWrap","create","i","length","type","crypto","eval","Buffer","algorithm","nodeMethod","createHash","digest","undefined","Error","Uint8Array","createHmacOutputMethod","key","HmacSha256","createHmacMethod","sharedMemory","this","h0","h1","h2","h3","h4","h5","h6","h7","block","start","bytes","hBytes","finalized","hashed","first","code","index","charCodeAt","array","oKeyPad","iKeyPad","b","inner","notString","lastByteIndex","hash","finalize","j","s0","s1","maj","t1","ab","da","cd","bc","a","c","d","e","f","g","h","hex","arr","push","arrayBuffer","dataView","DataView","setUint32","innerHash","sha256","sha224","hmac","util","abi","TYPED_MESSAGE_SCHEMA","properties","types","additionalProperties","items","name","required","primaryType","domain","TypedDataUtils","encodeData","data","useV4","encodedTypes","encodedValues","hashType","encodeField","keccak","from","lastIndexOf","parsedType","slice","typeValuePairs","map","item","rawEncode","field","encodeType","result","deps","findTypeDependencies","filter","dep","concat","sort","join","results","match","includes","hashStruct","sanitizeData","sanitizedData","assign","EIP712Domain","typedData","parts","hashForSignTypedDataLegacy","msgParams","error","toBuffer","schema","soliditySHA3","fill","typedSignatureHashLegacy","hashForSignTypedData_v3","hashForSignTypedData_v4","BN","elementaryName","startsWith","parseTypeN","parseInt","exec","parseTypeNxM","tmp","parseTypeArray","parseNumber","arg","isHexString","stripHexPrefix","toArray","encodeSingle","size","num","ret","JSON","parse","unshift","zeros","setLengthRight","bitLength","toArrayLike","toTwos","mul","pow","isDynamic","solidityPack","values","setLength","output","headLength","cur","filterFromParam","FilterPolyfill","types_1","util_1","JSONRPC_TEMPLATE","jsonrpc","id","provider","logFilters","Map","blockFilters","Set","pendingTransactionFilters","cursors","timeouts","nextFilterId","IntNumber","param","makeFilterId","setInitialCursorPosition","fromBlock","cursor","console","log","set","setFilterTimeout","hexStringFromIntNumber","add","filterId","intNumberFromHexString","deleteFilter","has","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","Promise","resolve","filterNotFoundError","sendAsyncPromise","params","paramFromFilter","request","reject","sendAsync","err","response","stringify","delete","cursorPosition","getCurrentBlockHeight","currentBlockHeight","toBlock","emptyResult","blockNumber","highestBlock","Math","max","newCursorPosition","all","range","getBlockHashByNumber","_id","startBlock","initialCursorPosition","existing","clearTimeout","timeout","setTimeout","ensureHexString","intBlockHeightFromHexBlockHeight","addresses","address","topics","hexBlockHeightFromIntBlockHeight","String","JSONRPCMethod","SubscriptionManager","PollingBlockTracker","createSubscriptionManager","noop","blockTracker","pollingInterval","setSkipCacheFlag","events","middleware","subscriptionMiddleware","destroy","ScopedLocalStorage","scope","localStorage","setItem","scopedKey","getItem","removeItem","prefix","keysToRemove","forEach","WalletLinkSdkUI","LinkFlow_1","Snackbar_1","cssReset_1","options","attached","snackbar","Snackbar","darkMode","linkFlow","LinkFlow","version","sessionId","session","sessionSecret","secret","walletLinkUrl","connected$","isParentConnection","el","document","documentElement","container","createElement","className","appendChild","attach","injectCssReset","connectDisabled","setConnectDisabled","open","onCancel","close","_","snackbarProps","isUnlinkedErrorState","autoExpand","menuItems","isRed","info","svgWidth","svgHeight","path","defaultFillRule","defaultClipRule","onClick","onResetConnection","presentItem","location","reload","chainId","WalletLinkUI","preact_1","rxjs_1","operators_1","LinkDialog_1","TryExtensionLinkDialog_1","extensionUI$","BehaviorSubject","subscriptions","Subscription","isConnected","isOpen","fetch","then","res","json","enabled","desktop","extension_ui","next","catch","render","subscribe","v","_a","unsubscribe","parentElement","removeChild","subscription","pipe","TryExtensionLinkDialog","LinkDialog","__importDefault","mod","__esModule","clsx_1","hooks_1","LinkDialog_css_1","QRCode_1","Spinner_1","version_1","props","useState","isContainerHidden","setContainerHidden","isDialogHidden","setDialogHidden","useEffect","timers","class","ScanQRCode","CancelButton","serverUrl","encodeURIComponent","sessionIdKey","qrUrl","QRCode","content","width","height","fgColor","bgColor","LIB_VERSION","Spinner","color","title","href","target","rel","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","l","byteArray","apply","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","getLength","write","put","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","r","minLostPoint","pattern","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","y","x","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","bits","getBCHTypeNumber","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","QRPolynomial","modIndex","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrCode","sameCount","count","darkCount","abs","glog","n","LOG_TABLE","EXP_TABLE","shift","ratio","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","padding","background","ecl","image","svg","encodeURI","replace","_getUTF8Length","limit","len","table","_getTypeNumber","_getErrorCorrectLevel","qrcode","opt","pretty","indent","EOL","xsize","ysize","swap","xmlDeclaration","predefined","defs","bgrect","modrect","pathdata","px","py","t","w","Number","isInteger","toFixed","imgSvg","imgWidth","imgHeight","imgY","globe_icon_svg_1","link_icon_svg_1","lock_icon_svg_1","QRLogo_1","TryExtensionLinkDialog_css_1","TryExtensionBox","onInstallClick","ScanQRBox","DescriptionItem","icon","text","src","Snackbar_css_1","nextItemKey","itemProps","clear","SnackbarContainer","entries","SnackbarInstance","children","hidden","setHidden","expanded","setExpanded","viewBox","xmlns","cx","cy","action","cssReset_css_1","styleEl","createTextNode","__createBinding","o","m","k","k2","__setModuleDefault","__decorate","decorators","desc","arguments","getOwnPropertyDescriptor","Reflect","decorate","__importStar","hasOwnProperty","WalletLinkRelay","bind_decorator_1","eth_rpc_errors_1","WalletLinkAnalytics_1","WalletLinkConnection_1","init_1","aes256gcm","Session_1","WalletLinkRelayAbstract_1","Web3Method_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","accountsCallback","chainCallback","appName","appLogoUrl","storage","_session","Session","load","save","relayEventManager","walletLinkAnalytics","WalletLinkAnalytics","connection","WalletLinkConnection","incomingEvent$","event","handleIncomingEvent","linked$","skip","tap","linked","isLinked","cachedAddresses","LOCAL_STORAGE_ADDRESSES_KEY","wasConnectedViaStandalone","sessionIdHash","getSessionIdHash","sendEvent","origin","sessionConfig$","metadata","__destroyed","alreadyDestroyed","isDestroyed","resetAndReload","WalletUsername","mergeMap","decrypt","walletUsername","WALLET_USER_NAME_KEY","AppVersion","appVersion","APP_VERSION_KEY","ChainId","JsonRpcUrl","zip","distinctUntilChanged","jsonRpcUrl","EthereumAddress","selectedAddress","accountRequestCallbackIds","Web3ResponseMessage","RequestEthereumAccountsResponse","invokeCallback","ui","walletLinkUIConstructor","connect","setSessionMetadata","catchError","of","_b","_c","sessionMetadataChange","storedSession","storedSessionIdHash","reloadUI","addPrefix","typedDataJson","sendRequest","Web3Method","signEthereumMessage","hexStringFromBuffer","signature","ethereumAddressFromSignedMessage","signEthereumTransaction","fromAddress","toAddress","weiValue","bigIntStringFromBN","nonce","gasPriceInWei","maxFeePerGas","maxPriorityFeePerGas","gasLimit","shouldSubmit","signedTransaction","submitEthereumTransaction","regExp","scanQRCode","generic","hideSnackbarItem","randomBytesHex","cancel","publishWeb3RequestCanceledEvent","handleWeb3ResponseMessage","ErrorResponse","promise","isStandalone","showConnecting","callbacks","errorMessage","sendRequestStandalone","publishWeb3RequestEvent","disabled","Web3RequestMessage","eventId","isSessionMismatched","publishEvent","Web3RequestCanceledMessage","callWebhook","Observable","subscriber","encrypt","encrypted","complete","isWeb3ResponseMessage","isRequestEthereumAccountsResponse","callback","requestEthereumAccounts","hideRequestEthereumAccounts","userAgent","navigator","inlineAccountsResponse","onAccounts","accounts","symbol","decimals","watchAsset","inlineWatchAsset","onApprove","WatchAssetReponse","rpcUrls","iconUrls","blockExplorerUrls","chainName","nativeCurrency","addEthereumChain","inlineAddEthereumChain","AddEthereumChainResponse","isApproved","rpcUrl","switchEthereumChain","inlineSwitchEthereumChain","errorCode","ethErrors","custom","SwitchEthereumChainResponse","_cancel","onSuccess","WalletLinkRelayAbstract","ClientMessage_1","RxWebSocket_1","ServerMessage_1","HEARTBEAT_INTERVAL","sessionKey","WebSocketClass","WebSocket","destroyed","lastHeartbeatResponse","nextReqId","connectedSubject","linkedSubject","sessionConfigSubject","ReplaySubject","ws","RxWebSocket","connectionState$","state","cs","ConnectionState","delay","flatMap","retry","switchMap","iif","CONNECTED","authenticate","sendIsLinked","sendGetSessionConfig","connected","timer","updateLastHeartbeat","heartbeat","incomingData$","incomingJSONData$","msg","onlineGuests","metadata_keys","keys","webhookId","webhookUrl","disconnect","asObservable","take","sme","ClientMessageSetSessionConfig","onceConnected$","makeRequest","isServerMessageFail","ClientMessagePublishEvent","onceLinked$","sendData","Date","now","reqId","throwError","timeoutWith","ClientMessageHostSession","ClientMessageIsLinked","ClientMessageGetSessionConfig","url","webSocket","connectionStateSubject","incomingDataSubject","Subject","obs","CONNECTING","onclose","evt","clearWebSocket","reason","onopen","onmessage","empty","send","onerror","plainText","ivBytes","getRandomValues","subtle","importKey","hexStringToUint8Array","secretKey","enc","TextEncoder","iv","encode","encryptedResult","authTag","byteLength","encryptedPlaintext","authTagBytes","encryptedPlaintextBytes","concatted","uint8ArrayToHex","cipherText","concattedBytes","algo","decrypted","decoder","TextDecoder","decode","RelayMessage_1","RelayMessageType","WEB3_REQUEST_CANCELED","EthereumAddressFromSignedMessageResponse","SubmitEthereumTransactionResponse","SignEthereumTransactionResponse","SignEthereumMessageResponse","addResponse","switchResponse","success","signedData","txHash","WalletLinkRelayEventManager","_nextRequestId","idStr","prepend0x","getFavicon","isBigNumber","ensureParsedJSONObject","ensureBN","ensureRegExpString","ensureIntNumber","ensureBuffer","ensureAddressString","ensureEvenLengthHexString","strip0x","has0xPrefix","bn_js_1","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","padStart","str","s","toLowerCase","includePrefix","HexString","toNumber","val","config","EUCLID","hexString","byte","buf","bn","BigIntString","AddressString","isBuffer","RegExp","RegExpString","isBN","stop","querySelector","protocol","host","getAttribute","assert","inherits","ctor","superCtor","super_","TempCtor","number","base","endian","negative","words","red","_init","wordSize","parseHex4Bits","string","parseHexByte","lowerBound","parseBase","end","min","move","dest","left","right","cmp","_initNumber","_initArray","_parseHex","_parseBase","ceil","off","_strip","limbLen","limbPow","total","word","imuln","_iaddn","copy","_move","clone","_expand","_normSign","Symbol","for","inspect","groupSizes","groupBases","out","carry","groupSize","groupBase","isZero","modrn","idivn","toJSON","smallMulTo","lo","ncarry","rword","maxJ","ArrayType","reqLength","allocUnsafe","allocate","_toArrayLikeLE","position","_toArrayLikeBE","clz32","_countBits","_zeroBits","hi","zeroBits","inotn","iaddn","fromTwos","testn","notn","ineg","isNeg","neg","iuor","ior","or","uor","iuand","iand","and","uand","iuxor","ixor","xor","uxor","bytesNeeded","bitsLeft","setn","wbit","iadd","isub","sub","comb10MulTo","mid","a0","al0","ah0","a1","al1","ah1","a2","al2","ah2","a3","al3","ah3","a4","al4","ah4","a5","al5","ah5","a6","al6","ah6","a7","al7","ah7","a8","al8","ah8","a9","al9","ah9","b0","bl0","bh0","b1","bl1","bh1","b2","bl2","bh2","b3","bl3","bh3","b4","bl4","bh4","b5","bl5","bh5","b6","bl6","bh6","b7","bl7","bh7","b8","bl8","bh8","b9","bl9","bh9","w0","imul","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","w11","w12","w13","w14","w15","w16","w17","w18","bigMulTo","hncarry","jumboMulTo","FFTM","mulTo","makeRBT","N","revBin","rb","permute","rbt","rws","iws","rtws","itws","transform","rtwdf","cos","PI","itwdf","sin","p","rtwdf_","itwdf_","re","ie","ro","io","rx","guessLen13b","odd","conjugate","normalize13b","round","convert13b","stub","ph","mulp","rwst","iwst","nrws","nrwst","niwst","rmws","mulf","isNegNum","muln","sqr","isqr","toBitArray","q","iushln","carryMask","newCarry","ishln","iushrn","hint","extended","mask","maskedWords","ishrn","shln","ushln","shrn","ushrn","imaskn","maskn","isubn","addn","subn","iabs","_ishlnsubmul","_wordDiv","bhi","diff","qj","div","divmod","positive","divn","umod","divRound","dm","half","r2","andln","acc","modn","egcd","A","B","C","D","isEven","yp","xp","im","isOdd","jm","gcd","_invmp","x1","x2","delta","cmpn","invm","bincn","ucmp","gtn","gt","gten","gte","ltn","lt","lten","lte","eqn","eq","Red","toRed","ctx","convertTo","_forceRed","fromRed","convertFrom","forceRed","redAdd","redIAdd","redSub","redISub","redShl","shl","redMul","_verify2","redIMul","redSqr","_verify1","redISqr","redSqrt","sqrt","redInvm","redNeg","redPow","primes","k256","p224","p192","p25519","MPrime","_tmp","K256","P224","P192","P25519","prime","_prime","Mont","imod","rinv","minv","ireduce","rlen","imulK","strip","input","outLen","prev","mod3","one","nOne","lpow","z","inv","wnd","current","currentLen","mont","u","safe_event_emitter_1","eth_eip712_util_1","FilterPolyfill_1","JSONRPC_1","SubscriptionManager_1","DEFAULT_CHAIN_ID_KEY","DEFAULT_JSON_RPC_URL","HAS_CHAIN_BEEN_SWITCHED_KEY","HAS_CHAIN_OVERRIDDEN_FROM_RELAY","_filterPolyfill","_subscriptionManager","_relay","_addresses","hasMadeFirstChainChangedEmission","_send","bind","_sendAsync","setProviderInfo","updateProviderInfo","getChainId","setAppInfo","enable","_setAddresses","genericRequest","_jsonRpcUrlFromOpts","_overrideIsMetaMask","overrideIsMetaMask","_relayProvider","relayProvider","_storage","_relayEventManager","_walletLinkAnalytics","isCoinbaseWallet","overrideIsCoinbaseWallet","chainIdStr","emit","on","notification","initializeRelay","addEventListener","_chainId","isChainOverridden","fromRelay","originalChainId","relay","addresses_length","eth_requestAccounts","requestOrMethod","callbackOrParams","_sendRequestAsync","_sendRequest","req","arrayCb","_sendMultipleRequestsAsync","responses","cb","args","rpc","invalidRequest","newParams","makeRequestId","_handleSynchronousMethods","newAddresses","dispatchEvent","CustomEvent","detail","syncResult","filterPromise","_handleAsynchronousFilterMethods","subscriptionPromise","_handleSubscriptionMethods","_handleAsynchronousMethods","requests","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","eth_chainId","_eth_chainId","eth_sign","eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","walletlink_arbitrary","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","_eth_requestAccounts","_eth_sign","_eth_ecRecover","_personal_sign","_personal_ecRecover","_eth_signTransaction","_eth_sendRawTransaction","_eth_sendTransaction","_eth_signTypedData_v1","_throwUnsupportedMethodError","_eth_signTypedData_v3","_eth_signTypedData_v4","_walletlink_arbitrary","_wallet_addEthereumChain","_wallet_switchEthereumChain","_wallet_watchAsset","makeEthereumJSONRPCRequest","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","eth_subscribe","eth_unsubscribe","handleRequest","addressString","lowercaseAddresses","_isKnownAddress","tx","_ensureKnownAddress","to","alloc","gasPrice","gas","unauthorized","unsupportedMethod","userRejectedRequest","_requireAuthorization","_signEthereumMessage","_ethereumAddressFromSignedMessage","_prepareTransactionParams","signAndSubmitEthereumTransaction","typedDataJSON","trim","chainIdNumber","_d","invalidParams","uninstallFilter","newFilter","newBlockFilter","newPendingTransactionFilter","getFilterChanges","getFilterLogs","setAccountsCallback","setChainCallback","_eventType","_eventProperties","__exportStar","js_sha256_1","STORAGE_KEY_SESSION_ID","STORAGE_KEY_SESSION_SECRET","STORAGE_KEY_SESSION_LINKED","_secret","_key","_linked","persistLinked","fromEvent","oldValue","newValue","OpaqueType","FALLBACK_ERROR","serialized","body","headers","serializeError","createKeccakHash","intToBuffer","bufferToHex","ScopedLocalStorage_1","WalletLinkSdkUI_1","WalletLinkRelay_1","WalletLinkRelayEventManager_1","WALLETLINK_URL","WALLETLINK_VERSION","_appName","_appLogoUrl","opts","_overrideIsCoinbaseWallet","URL","walletLinkOrigin","VERSION","walletLinkExtension","attachUI","isCipher","qrcode_svg_1","setSvg","base64","alt","Spinner_css_1","style","stroke"],"mappings":"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GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,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","file":"static/js/13.c46ca172.chunk.js","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = exports.WalletLinkProvider = void 0;\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLink_1 = require(\"./WalletLink\");\nvar WalletLinkProvider_2 = require(\"./provider/WalletLinkProvider\");\nObject.defineProperty(exports, \"WalletLinkProvider\", { enumerable: true, get: function () { return WalletLinkProvider_2.WalletLinkProvider; } });\nvar WalletLink_2 = require(\"./WalletLink\");\nObject.defineProperty(exports, \"WalletLink\", { enumerable: true, get: function () { return WalletLink_2.WalletLink; } });\nexports.default = WalletLink_1.WalletLink;\nif (typeof window !== \"undefined\") {\n    window.WalletLink = WalletLink_1.WalletLink;\n    window.WalletLinkProvider = WalletLinkProvider_1.WalletLinkProvider;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ethErrors = void 0;\nconst classes_1 = require(\"./classes\");\nconst utils_1 = require(\"./utils\");\nconst error_constants_1 = require(\"./error-constants\");\nexports.ethErrors = {\n    rpc: {\n        /**\n         * Get a JSON RPC 2.0 Parse (-32700) error.\n         */\n        parse: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.parse, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Request (-32600) error.\n         */\n        invalidRequest: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidRequest, arg),\n        /**\n         * Get a JSON RPC 2.0 Invalid Params (-32602) error.\n         */\n        invalidParams: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidParams, arg),\n        /**\n         * Get a JSON RPC 2.0 Method Not Found (-32601) error.\n         */\n        methodNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotFound, arg),\n        /**\n         * Get a JSON RPC 2.0 Internal (-32603) error.\n         */\n        internal: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.internal, arg),\n        /**\n         * Get a JSON RPC 2.0 Server error.\n         * Permits integer error codes in the [ -32099 <= -32005 ] range.\n         * Codes -32000 through -32004 are reserved by EIP-1474.\n         */\n        server: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum RPC Server errors must provide single object argument.');\n            }\n            const { code } = opts;\n            if (!Number.isInteger(code) || code > -32005 || code < -32099) {\n                throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');\n            }\n            return getEthJsonRpcError(code, opts);\n        },\n        /**\n         * Get an Ethereum JSON RPC Invalid Input (-32000) error.\n         */\n        invalidInput: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.invalidInput, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Not Found (-32001) error.\n         */\n        resourceNotFound: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceNotFound, arg),\n        /**\n         * Get an Ethereum JSON RPC Resource Unavailable (-32002) error.\n         */\n        resourceUnavailable: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.resourceUnavailable, arg),\n        /**\n         * Get an Ethereum JSON RPC Transaction Rejected (-32003) error.\n         */\n        transactionRejected: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.transactionRejected, arg),\n        /**\n         * Get an Ethereum JSON RPC Method Not Supported (-32004) error.\n         */\n        methodNotSupported: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.methodNotSupported, arg),\n        /**\n         * Get an Ethereum JSON RPC Limit Exceeded (-32005) error.\n         */\n        limitExceeded: (arg) => getEthJsonRpcError(error_constants_1.errorCodes.rpc.limitExceeded, arg),\n    },\n    provider: {\n        /**\n         * Get an Ethereum Provider User Rejected Request (4001) error.\n         */\n        userRejectedRequest: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.userRejectedRequest, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unauthorized (4100) error.\n         */\n        unauthorized: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unauthorized, arg);\n        },\n        /**\n         * Get an Ethereum Provider Unsupported Method (4200) error.\n         */\n        unsupportedMethod: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.unsupportedMethod, arg);\n        },\n        /**\n         * Get an Ethereum Provider Not Connected (4900) error.\n         */\n        disconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.disconnected, arg);\n        },\n        /**\n         * Get an Ethereum Provider Chain Not Connected (4901) error.\n         */\n        chainDisconnected: (arg) => {\n            return getEthProviderError(error_constants_1.errorCodes.provider.chainDisconnected, arg);\n        },\n        /**\n         * Get a custom Ethereum Provider error.\n         */\n        custom: (opts) => {\n            if (!opts || typeof opts !== 'object' || Array.isArray(opts)) {\n                throw new Error('Ethereum Provider custom errors must provide single object argument.');\n            }\n            const { code, message, data } = opts;\n            if (!message || typeof message !== 'string') {\n                throw new Error('\"message\" must be a nonempty string');\n            }\n            return new classes_1.EthereumProviderError(code, message, data);\n        },\n    },\n};\n// Internal\nfunction getEthJsonRpcError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumRpcError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction getEthProviderError(code, arg) {\n    const [message, data] = parseOpts(arg);\n    return new classes_1.EthereumProviderError(code, message || utils_1.getMessageFromCode(code), data);\n}\nfunction parseOpts(arg) {\n    if (arg) {\n        if (typeof arg === 'string') {\n            return [arg];\n        }\n        else if (typeof arg === 'object' && !Array.isArray(arg)) {\n            const { message, data } = arg;\n            if (message && typeof message !== 'string') {\n                throw new Error('Must specify string message.');\n            }\n            return [message || undefined, data];\n        }\n    }\n    return [];\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Vycm9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSx1Q0FBb0U7QUFDcEUsbUNBQTZDO0FBQzdDLHVEQUErQztBQWVsQyxRQUFBLFNBQVMsR0FBRztJQUN2QixHQUFHLEVBQUU7UUFFSDs7V0FFRztRQUNILEtBQUssRUFBRSxDQUFJLEdBQW9CLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUNwRCw0QkFBVSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsR0FBRyxDQUMxQjtRQUVEOztXQUVHO1FBQ0gsY0FBYyxFQUFFLENBQUksR0FBb0IsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQzdELDRCQUFVLENBQUMsR0FBRyxDQUFDLGNBQWMsRUFBRSxHQUFHLENBQ25DO1FBRUQ7O1dBRUc7UUFDSCxhQUFhLEVBQUUsQ0FBSSxHQUFvQixFQUFFLEVBQUUsQ0FBQyxrQkFBa0IsQ0FDNUQsNEJBQVUsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLEdBQUcsQ0FDbEM7UUFFRDs7V0FFRztRQUNILGNBQWMsRUFBRSxDQUFJLEdBQW9CLEVBQUUsRUFBRSxDQUFDLGtCQUFrQixDQUM3RCw0QkFBVSxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsR0FBRyxDQUNuQztRQUVEOztXQUVHO1FBQ0gsUUFBUSxFQUFFLENBQUksR0FBb0IsRUFBRSxFQUFFLENBQUMsa0JBQWtCLENBQ3ZELDRCQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQzdCO1FBRUQ7Ozs7V0FJRztRQUNILE1BQU0sRUFBRSxDQUFJLElBQTJCLEVBQUUsRUFBRTtZQUN6QyxJQUFJLENBQUMsSUFBSSxJQUFJLE9BQU8sSUFBSSxLQUFLLFFBQVEsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUM1RCxNQUFNLElBQUksS0FBSyxDQUFDLGlFQUFpRSxDQUFDLENBQUM7YUFDcEY7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","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENTS = void 0;\nexports.EVENTS = {\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_START: \"walletlink_sdk.request_child_ethereum_accounts.start\",\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE: \"walletlink_sdk.request_child_ethereum_accounts.response\",\n    STARTED_CONNECTING: \"walletlink_sdk.started.connecting\",\n    CONNECTED_STATE_CHANGE: \"walletlink_sdk.connected\",\n    DISCONNECTED: \"walletlink_sdk.disconnected\",\n    METADATA_DESTROYED: \"walletlink_sdk_metadata_destroyed\",\n    LINKED: \"walletlink_sdk.linked\",\n    FAILURE: \"walletlink_sdk.generic_failure\",\n    SESSION_CONFIG_RECEIVED: \"walletlink_sdk.session_config_event_received\",\n    ETH_ACCOUNTS_STATE: \"walletlink_sdk.eth_accounts_state\",\n    SESSION_STATE_CHANGE: \"walletlink_sdk.session_state_change\",\n    UNLINKED_ERROR_STATE: \"walletlink_sdk.unlinked_error_state\",\n    SKIPPED_CLEARING_SESSION: \"walletlink_sdk.skipped_clearing_session\",\n    GENERAL_ERROR: \"walletlink_sdk.general_error\",\n    WEB3_REQUEST: \"walletlink_sdk.web3.request\",\n    WEB3_REQUEST_PUBLISHED: \"walletlink_sdk.web3.request_published\",\n    WEB3_RESPONSE: \"walletlink_sdk.web3.response\",\n    UNKNOWN_ADDRESS_ENCOUNTERED: \"walletlink_sdk.unknown_address_encountered\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalyticsAbstract = void 0;\n/**\n * An abstract class used to send events to track metrics / analytics\n */\nclass WalletLinkAnalyticsAbstract {\n}\nexports.WalletLinkAnalyticsAbstract = WalletLinkAnalyticsAbstract;\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filterFromParam = exports.FilterPolyfill = void 0;\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = (0, types_1.IntNumber)(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    uninstallFilter(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return (0, types_1.IntNumber)(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign(Object.assign({}, filter), { fromBlock: cursorPosition, toBlock }))\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => (0, util_1.intNumberFromHexString)(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = (0, types_1.IntNumber)(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        (0, util_1.range)(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber((0, types_1.IntNumber)(i))))).filter(hash => !!hash);\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        const newCursorPosition = (0, types_1.IntNumber)(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_blockNumber\", params: [] }));\n        return (0, util_1.intNumberFromHexString)((0, util_1.ensureHexString)(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getBlockByNumber\", params: [(0, util_1.hexStringFromIntNumber)(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return (0, util_1.ensureHexString)(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || []\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return (0, types_1.IntNumber)(0);\n    }\n    else if ((0, util_1.isHexString)(value)) {\n        return (0, util_1.intNumberFromHexString)(value);\n    }\n    throw new Error(`Invalid block option: ${String(value)}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return (0, util_1.hexStringFromIntNumber)(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCMethod = void 0;\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_chainId\"] = \"eth_chainId\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"walletlink_arbitrary\"] = \"walletlink_arbitrary\";\n    JSONRPCMethod[\"wallet_addEthereumChain\"] = \"wallet_addEthereumChain\";\n    JSONRPCMethod[\"wallet_switchEthereumChain\"] = \"wallet_switchEthereumChain\";\n    JSONRPCMethod[\"wallet_watchAsset\"] = \"wallet_watchAsset\";\n    // asynchronous pub/sub\n    JSONRPCMethod[\"eth_subscribe\"] = \"eth_subscribe\";\n    JSONRPCMethod[\"eth_unsubscribe\"] = \"eth_unsubscribe\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionManager = void 0;\nconst PollingBlockTracker = require(\"eth-block-tracker\");\nconst createSubscriptionManager = require(\"eth-json-rpc-filters/subscriptionManager\");\nconst noop = () => { };\nclass SubscriptionManager {\n    constructor(provider) {\n        const blockTracker = new PollingBlockTracker({\n            provider,\n            pollingInterval: 15 * 1000,\n            setSkipCacheFlag: true\n        });\n        const { events, middleware } = createSubscriptionManager({\n            blockTracker,\n            provider\n        });\n        this.events = events;\n        this.subscriptionMiddleware = middleware;\n    }\n    async handleRequest(request) {\n        const result = {};\n        await this.subscriptionMiddleware(request, result, noop, noop);\n        return result;\n    }\n    destroy() {\n        this.subscriptionMiddleware.destroy();\n    }\n}\nexports.SubscriptionManager = SubscriptionManager;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScopedLocalStorage = void 0;\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkSdkUI = void 0;\nconst LinkFlow_1 = require(\"../components/LinkFlow\");\nconst Snackbar_1 = require(\"../components/Snackbar\");\nconst cssReset_1 = require(\"../lib/cssReset\");\nconst WalletLinkUI_1 = require(\"./WalletLinkUI\");\nclass WalletLinkSdkUI extends WalletLinkUI_1.WalletLinkUI {\n    constructor(options) {\n        super(options);\n        this.attached = false;\n        this.snackbar = new Snackbar_1.Snackbar({\n            darkMode: options.darkMode\n        });\n        this.linkFlow = new LinkFlow_1.LinkFlow({\n            darkMode: options.darkMode,\n            version: options.version,\n            sessionId: options.session.id,\n            sessionSecret: options.session.secret,\n            walletLinkUrl: options.walletLinkUrl,\n            connected$: options.connected$,\n            isParentConnection: false\n        });\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error(\"WalletLinkUI is already attached\");\n        }\n        const el = document.documentElement;\n        const container = document.createElement(\"div\");\n        container.className = \"-walletlink-css-reset\";\n        el.appendChild(container);\n        this.linkFlow.attach(container);\n        this.snackbar.attach(container);\n        this.attached = true;\n        (0, cssReset_1.injectCssReset)();\n    }\n    setConnectDisabled(connectDisabled) {\n        this.linkFlow.setConnectDisabled(connectDisabled);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    addEthereumChain(options) {\n        // no-op\n    }\n    // @ts-ignore\n    watchAsset(options) {\n        // no-op\n    }\n    // @ts-ignore\n    switchEthereumChain(options) {\n        // no-op\n    }\n    requestEthereumAccounts(options) {\n        this.linkFlow.open({ onCancel: options.onCancel });\n    }\n    hideRequestEthereumAccounts() {\n        this.linkFlow.close();\n    }\n    signEthereumMessage(_) {\n        // No-op\n    }\n    signEthereumTransaction(_) {\n        // No-op\n    }\n    submitEthereumTransaction(_) {\n        // No-op\n    }\n    ethereumAddressFromSignedMessage(_) {\n        // No-op\n    }\n    showConnecting(options) {\n        let snackbarProps;\n        if (options.isUnlinkedErrorState) {\n            snackbarProps = {\n                autoExpand: true,\n                message: \"Connection lost\",\n                menuItems: [\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        else {\n            snackbarProps = {\n                message: \"Confirm on phone\",\n                menuItems: [\n                    {\n                        isRed: true,\n                        info: \"Cancel transaction\",\n                        svgWidth: \"11\",\n                        svgHeight: \"11\",\n                        path: \"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z\",\n                        defaultFillRule: \"inherit\",\n                        defaultClipRule: \"inherit\",\n                        onClick: options.onCancel\n                    },\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        return this.snackbar.presentItem(snackbarProps);\n    }\n    reloadUI() {\n        document.location.reload();\n    }\n    inlineAccountsResponse() {\n        return false;\n    }\n    // @ts-ignore\n    inlineAddEthereumChain(chainId) {\n        return false;\n    }\n    inlineWatchAsset() {\n        return false;\n    }\n    inlineSwitchEthereumChain() {\n        return false;\n    }\n    isStandalone() {\n        return false;\n    }\n}\nexports.WalletLinkSdkUI = WalletLinkSdkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nconst TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        // Check if extension UI is enabled\n        fetch(\"https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags\")\n            .then(res => res.json())\n            .then(json => {\n            const enabled = json.result.desktop.extension_ui;\n            if (typeof enabled === \"undefined\") {\n                this.extensionUI$.next({ value: false });\n            }\n            else {\n                this.extensionUI$.next({ value: enabled });\n            }\n        })\n            .catch(err => {\n            console.error('Couldn\\'t fetch feature flags - ', err);\n            this.extensionUI$.next({ value: false });\n        });\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$\n            .pipe((0, operators_1.first)(enabled => enabled.value !== undefined)) // wait for a valid value before rendering\n            .subscribe(enabled => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)(enabled.value ? ((0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel, connectDisabled: this.connectDisabled })) : ((0, preact_1.h)(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel })), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst LinkDialog_css_1 = __importDefault(require(\"./LinkDialog-css\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst version_1 = require(\"../version\");\nconst LinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-container\", props.darkMode && \"-walletlink-link-dialog-container-dark\", isContainerHidden && \"-walletlink-link-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, LinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-backdrop\", isDialogHidden && \"-walletlink-link-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-box\", isDialogHidden && \"-walletlink-link-dialog-box-hidden\") },\n                (0, preact_1.h)(ScanQRCode, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection }),\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.LinkDialog = LinkDialog;\nconst ScanQRCode = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content\" },\n        (0, preact_1.h)(\"h3\", null,\n            \"Scan to\",\n            (0, preact_1.h)(\"br\", null),\n            \" Connect\"),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 224, height: 224, fgColor: \"#000\", bgColor: \"transparent\" })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 128, color: props.darkMode ? \"#fff\" : \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))),\n            (0, preact_1.h)(\"p\", { title: `WalletLink v${props.version}` }, \"Powered by WalletLink\")),\n        (0, preact_1.h)(\"a\", { href: `${props.walletLinkUrl}/#/wallets`, target: \"_blank\", rel: \"noopener\" }, \"Don\\u2019t have a wallet app?\")));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-link-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}`;\n","/**\n * @fileoverview\n * - modified davidshimjs/qrcodejs library for use in node.js\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @version 0.9.1 (2016-02-12)\n * @author davidshimjs, papnkukn\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n * @see <a href=\"https://github.com/davidshimjs/qrcodejs\" target=\"_blank\">https://github.com/davidshimjs/qrcodejs</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = [];\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[3] = 0x80 | (code & 0x3F);\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[2] = 0x80 | (code & 0x3F);\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n      byteArray[1] = 0x80 | (code & 0x3F);\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length;\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n\n/** Constructor */\nfunction QRCode(options) {\n  var instance = this;\n\n  //Default options\n  this.options = {\n    padding: 4,\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    color: \"#000000\",\n    background: \"#ffffff\",\n    ecl: \"M\",\n    image:{\n      svg:\"\",\n      width:0,\n      height:0\n    }\n  };\n\n  //In case the options is string\n  if (typeof options === 'string') {\n    options = {\n      content: options\n    };\n  }\n\n  //Merge options\n  if (options) {\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n  }\n\n  if (typeof this.options.content !== 'string') {\n    throw new Error(\"Expected 'content' as string!\");\n  }\n\n  if (this.options.content.length === 0 /* || this.options.content.length > 7089 */) {\n    throw new Error(\"Expected 'content' to be non-empty!\");\n  }\n\n  if (!(this.options.padding >= 0)) {\n    throw new Error(\"Expected 'padding' value to be non-negative!\");\n  }\n\n  if (!(this.options.width > 0) || !(this.options.height > 0)) {\n    throw new Error(\"Expected 'width' or 'height' value to be higher than zero!\");\n  }\n\n  //Gets the error correction level\n  function _getErrorCorrectLevel(ecl) {\n    switch (ecl) {\n        case \"L\":\n          return QRErrorCorrectLevel.L;\n\n        case \"M\":\n          return QRErrorCorrectLevel.M;\n\n        case \"Q\":\n          return QRErrorCorrectLevel.Q;\n\n        case \"H\":\n          return QRErrorCorrectLevel.H;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n  }\n\n  //Get type number\n  function _getTypeNumber(content, ecl) {\n    var length = _getUTF8Length(content);\n\n    var type = 1;\n    var limit = 0;\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var table = QRCodeLimitLength[i];\n      if (!table) {\n        throw new Error(\"Content too long: expected \" + limit + \" but got \" + length);\n      }\n\n      switch (ecl) {\n        case \"L\":\n          limit = table[0];\n          break;\n\n        case \"M\":\n          limit = table[1];\n          break;\n\n        case \"Q\":\n          limit = table[2];\n          break;\n\n        case \"H\":\n          limit = table[3];\n          break;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n\n      if (length <= limit) {\n        break;\n      }\n\n      type++;\n    }\n\n    if (type > QRCodeLimitLength.length) {\n      throw new Error(\"Content too long\");\n    }\n\n    return type;\n  }\n\n  //Gets text length\n  function _getUTF8Length(content) {\n    var result = encodeURI(content).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n    return result.length + (result.length != content ? 3 : 0);\n  }\n\n  //Generate QR Code matrix\n  var content = this.options.content;\n  var type = _getTypeNumber(content, this.options.ecl);\n  var ecl = _getErrorCorrectLevel(this.options.ecl);\n  this.qrcode = new QRCodeModel(type, ecl);\n  this.qrcode.addData(content);\n  this.qrcode.make();\n}\n\n/** Generates QR Code as SVG image */\nQRCode.prototype.svg = function(opt) {\n  var options = this.options || { };\n  var modules = this.qrcode.modules;\n\n  if (typeof opt == \"undefined\") {\n    opt = { container: options.container || \"svg\" };\n  }\n\n  //Apply new lines and indents in SVG?\n  var pretty = typeof options.pretty != \"undefined\" ? !!options.pretty : true;\n\n  var indent = pretty ? '  ' : '';\n  var EOL = pretty ? '\\r\\n' : '';\n  var width = options.width;\n  var height = options.height;\n  var length = modules.length;\n  var xsize = width / (length + 2 * options.padding);\n  var ysize = height / (length + 2 * options.padding);\n\n  //Join (union, merge) rectangles into one shape?\n  var join = typeof options.join != \"undefined\" ? !!options.join : false;\n\n  //Swap the X and Y modules, pull request #2\n  var swap = typeof options.swap != \"undefined\" ? !!options.swap : false;\n\n  //Apply <?xml...?> declaration in SVG?\n  var xmlDeclaration = typeof options.xmlDeclaration != \"undefined\" ? !!options.xmlDeclaration : true;\n\n  //Populate with predefined shape instead of \"rect\" elements, thanks to @kkocdko\n  var predefined = typeof options.predefined != \"undefined\" ? !!options.predefined : false;\n  var defs = predefined ? indent + '<defs><path id=\"qrmodule\" d=\"M0 0 h' + ysize + ' v' + xsize + ' H0 z\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" /></defs>' + EOL : '';\n\n  //Background rectangle\n  var bgrect = indent + '<rect x=\"0\" y=\"0\" width=\"' + width + '\" height=\"' + height + '\" style=\"fill:' + options.background + ';shape-rendering:crispEdges;\"/>' + EOL;\n\n  //Rectangles representing modules\n  var modrect = '';\n  var pathdata = '';\n\n  for (var y = 0; y < length; y++) {\n    for (var x = 0; x < length; x++) {\n      var module = modules[x][y];\n      if (module) {\n\n        var px = (x * xsize + options.padding * xsize);\n        var py = (y * ysize + options.padding * ysize);\n\n        //Some users have had issues with the QR Code, thanks to @danioso for the solution\n        if (swap) {\n          var t = px;\n          px = py;\n          py = t;\n        }\n\n        if (join) {\n          //Module as a part of svg path data, thanks to @danioso\n          var w = xsize + px\n          var h = ysize + py\n\n          px = (Number.isInteger(px))? Number(px): px.toFixed(2);\n          py = (Number.isInteger(py))? Number(py): py.toFixed(2);\n          w = (Number.isInteger(w))? Number(w): w.toFixed(2);\n          h = (Number.isInteger(h))? Number(h): h.toFixed(2);\n\n          pathdata += ('M' + px + ',' + py + ' V' + h + ' H' + w + ' V' + py + ' H' + px + ' Z ');\n        }\n        else if (predefined) {\n          //Module as a predefined shape, thanks to @kkocdko\n          modrect += indent + '<use x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" href=\"#qrmodule\" />' + EOL;\n        }\n        else {\n          //Module as rectangle element\n          modrect += indent + '<rect x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" width=\"' + xsize + '\" height=\"' + ysize + '\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\"/>' + EOL;\n        }\n      }\n    }\n  }\n\n  if (join) {\n    modrect = indent + '<path x=\"0\" y=\"0\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" d=\"' + pathdata + '\" />';\n  }\n  let imgSvg = \"\";\n  if(this.options.image !== undefined && this.options.image.svg){\n    const imgWidth = width * this.options.image.width / 100;\n    const imgHeight = height * this.options.image.height / 100;\n    const imgX = (width/2) - imgWidth/2;\n    const imgY = (height/2) - imgHeight/2;\n    imgSvg += `<svg x=\"${imgX}\" y=\"${imgY}\" width=\"${imgWidth}\" height=\"${imgHeight}\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin meet\">`;\n    imgSvg += this.options.image.svg + EOL;\n    imgSvg += '</svg>';\n  }\n\n  var svg = \"\";\n  switch (opt.container) {\n    //Wrapped in SVG document\n    case \"svg\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n    //Viewbox for responsive use in a browser, thanks to @danioso\n    case \"svg-viewbox\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + width + ' ' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n\n    //Wrapped in group element\n    case \"g\":\n      svg += '<g width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</g>';\n\n      break;\n\n    //Without a container\n    default:\n      svg += (defs + bgrect + modrect + imgSvg).replace(/^\\s+/, \"\"); //Clear indents on each line\n      break;\n  }\n\n  return svg;\n};\n\nmodule.exports = QRCode;\n\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}`;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TryExtensionLinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst globe_icon_svg_1 = __importDefault(require(\"./icons/globe-icon-svg\"));\nconst link_icon_svg_1 = __importDefault(require(\"./icons/link-icon-svg\"));\nconst lock_icon_svg_1 = __importDefault(require(\"./icons/lock-icon-svg\"));\nconst QRLogo_1 = __importDefault(require(\"./icons/QRLogo\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst TryExtensionLinkDialog_css_1 = __importDefault(require(\"./TryExtensionLinkDialog-css\"));\nconst version_1 = require(\"../version\");\nconst TryExtensionLinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-container\", isContainerHidden && \"-walletlink-extension-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, TryExtensionLinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-backdrop\", isDialogHidden && \"-walletlink-extension-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-box\", isDialogHidden && \"-walletlink-extension-dialog-box-hidden\") },\n                (0, preact_1.h)(TryExtensionBox, { onInstallClick: () => {\n                        window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n                    } }),\n                !props.connectDisabled ? ((0, preact_1.h)(ScanQRBox, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection })) : null,\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.TryExtensionLinkDialog = TryExtensionLinkDialog;\nconst TryExtensionBox = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-install-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Try the Coinbase Wallet extension\"),\n            (0, preact_1.h)(\"button\", { onClick: props.onInstallClick }, \"Install\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-info-region\" },\n            (0, preact_1.h)(DescriptionItem, { icon: link_icon_svg_1.default, text: \"Connect to crypto apps with one click\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: lock_icon_svg_1.default, text: \"Your private key is stored securely\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: globe_icon_svg_1.default, text: \"Works with Ethereum, Polygon, and more\" }))));\n};\nconst ScanQRBox = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-description-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Or scan to connect\"),\n            (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-bottom-description\" },\n                \"Open \",\n                (0, preact_1.h)(\"a\", { href: \"https://wallet.coinbase.com/\" }, \"Coinbase Wallet\"),\n                \" on your mobile phone and scan\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-region\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 150, height: 150, fgColor: \"#000\", bgColor: \"transparent\", image: {\n                        svg: QRLogo_1.default,\n                        width: 34,\n                        height: 34\n                    } })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 36, color: \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))))));\n};\nconst DescriptionItem = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description-icon-wrapper\" },\n            (0, preact_1.h)(\"img\", { src: props.icon })),\n        (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-top-description-text\" }, props.text)));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-extension-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `<svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"white\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" fill=\"#1B53E4\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" stroke=\"white\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z\" fill=\"white\"/>\n</svg>\n\n`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Snackbar = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst Snackbar_css_1 = __importDefault(require(\"./Snackbar-css\"));\nconst cblogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nclass Snackbar {\n    constructor(options) {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = options.darkMode;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-snackbar-root\";\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        (0, preact_1.render)((0, preact_1.h)(\"div\", null,\n            (0, preact_1.h)(SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => ((0, preact_1.h)(SnackbarInstance, Object.assign({}, itemProps, { key: key })))))), this.root);\n    }\n}\nexports.Snackbar = Snackbar;\nconst SnackbarContainer = props => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-container\") },\n    (0, preact_1.h)(\"style\", null, Snackbar_css_1.default),\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar\" }, props.children)));\nconst SnackbarInstance = ({ autoExpand, message, menuItems }) => {\n    const [hidden, setHidden] = (0, hooks_1.useState)(true);\n    const [expanded, setExpanded] = (0, hooks_1.useState)(autoExpand !== null && autoExpand !== void 0 ? autoExpand : false);\n    (0, hooks_1.useEffect)(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000)\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance\", hidden && \"-walletlink-snackbar-instance-hidden\", expanded && \"-walletlink-snackbar-instance-expanded\") },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header\", onClick: toggleExpanded },\n            (0, preact_1.h)(\"img\", { src: cblogo, class: \"-walletlink-snackbar-instance-header-cblogo\" }),\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header-message\" }, message),\n            (0, preact_1.h)(\"div\", { class: \"-gear-container\" },\n                !expanded && ((0, preact_1.h)(\"svg\", { width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                    (0, preact_1.h)(\"circle\", { cx: \"12\", cy: \"12\", r: \"12\", fill: \"#F5F7F8\" }))),\n                (0, preact_1.h)(\"img\", { src: gearIcon, class: \"-gear-icon\", title: \"Expand\" }))),\n        menuItems && menuItems.length > 0 && ((0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-menu\" }, menuItems.map((action, i) => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item\", action.isRed && \"-walletlink-snackbar-instance-menu-item-is-red\"), onClick: action.onClick, key: i },\n            (0, preact_1.h)(\"svg\", { width: action.svgWidth, height: action.svgHeight, viewBox: \"0 0 10 11\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                (0, preact_1.h)(\"path\", { \"fill-rule\": action.defaultFillRule, \"clip-rule\": action.defaultClipRule, d: action.path, fill: \"#AAAAAA\" })),\n            (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item-info\", action.isRed && \"-walletlink-snackbar-instance-menu-item-info-is-red\") }, action.info))))))));\n};\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCssReset = void 0;\nconst cssReset_css_1 = __importDefault(require(\"./cssReset-css\"));\nfunction injectCssReset() {\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(cssReset_css_1.default));\n    document.documentElement.appendChild(styleEl);\n}\nexports.injectCssReset = injectCssReset;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `@namespace svg \"http://www.w3.org/2000/svg\";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkUI = void 0;\nclass WalletLinkUI {\n    constructor(_) { }\n    /**\n     * We want to disable showing the qr code for in-page walletlink if the dapp hasn't provided a json rpc url\n     */\n    setConnectDisabled(_) { }\n}\nexports.WalletLinkUI = WalletLinkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelay = void 0;\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst WalletLinkConnection_1 = require(\"../connection/WalletLinkConnection\");\nconst init_1 = require(\"../init\");\nconst util_1 = require(\"../util\");\nconst aes256gcm = __importStar(require(\"./aes256gcm\"));\nconst Session_1 = require(\"./Session\");\nconst WalletLinkRelayAbstract_1 = require(\"./WalletLinkRelayAbstract\");\nconst Web3Method_1 = require(\"./Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./Web3RequestMessage\");\nconst Web3Response_1 = require(\"./Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./Web3ResponseMessage\");\nclass WalletLinkRelay extends WalletLinkRelayAbstract_1.WalletLinkRelayAbstract {\n    constructor(options) {\n        super();\n        this.accountsCallback = null;\n        this.chainCallback = null;\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.storage = options.storage;\n        this._session =\n            Session_1.Session.load(options.storage) || new Session_1.Session(options.storage).save();\n        this.relayEventManager = options.relayEventManager;\n        this.walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.connection = new WalletLinkConnection_1.WalletLinkConnection(this._session.id, this._session.key, this.walletLinkUrl, this.walletLinkAnalytics);\n        this.subscriptions.add(this.connection.incomingEvent$\n            .pipe((0, operators_1.filter)(m => m.event === \"Web3Response\"))\n            .subscribe({ next: this.handleIncomingEvent }) // eslint-disable-line @typescript-eslint/unbound-method\n        );\n        this.subscriptions.add(this.connection.linked$\n            .pipe((0, operators_1.skip)(1), (0, operators_1.tap)((linked) => {\n            var _a;\n            this.isLinked = linked;\n            const cachedAddresses = this.storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n            if (linked) {\n                // Only set linked session variable one way\n                this.session.linked = linked;\n            }\n            this.isUnlinkedErrorState = false;\n            if (cachedAddresses) {\n                const addresses = cachedAddresses.split(\" \");\n                const wasConnectedViaStandalone = this.storage.getItem(\"IsStandaloneSigning\") === \"true\";\n                if (addresses[0] !== \"\" &&\n                    !linked &&\n                    this.session.linked &&\n                    !wasConnectedViaStandalone) {\n                    this.isUnlinkedErrorState = true;\n                    const sessionIdHash = this.getSessionIdHash();\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.UNLINKED_ERROR_STATE, { sessionIdHash, origin: location.origin });\n                }\n            }\n        }))\n            .subscribe());\n        // if session is marked destroyed, reset and reload\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => !!c.metadata && c.metadata.__destroyed === \"1\"))\n            .subscribe(() => {\n            var _a;\n            const alreadyDestroyed = this.connection.isDestroyed;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.METADATA_DESTROYED, {\n                alreadyDestroyed,\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            return this.resetAndReload();\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.WalletUsername !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.WalletUsername, this._session.secret)))\n            .subscribe({\n            next: walletUsername => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.WALLET_USER_NAME_KEY, walletUsername);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"username\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.AppVersion !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.AppVersion, this._session.secret)))\n            .subscribe({\n            next: appVersion => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.APP_VERSION_KEY, appVersion);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"appversion\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata &&\n            c.metadata.ChainId !== undefined &&\n            c.metadata.JsonRpcUrl !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => (0, rxjs_1.zip)(aes256gcm.decrypt(c.metadata.ChainId, this._session.secret), aes256gcm.decrypt(c.metadata.JsonRpcUrl, this._session.secret))))\n            .pipe((0, operators_1.distinctUntilChanged)())\n            .subscribe({\n            next: ([chainId, jsonRpcUrl]) => {\n                if (this.chainCallback) {\n                    this.chainCallback(chainId, jsonRpcUrl);\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"chainId|jsonRpcUrl\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.EthereumAddress !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.EthereumAddress, this._session.secret)))\n            .subscribe({\n            next: selectedAddress => {\n                if (this.accountsCallback) {\n                    this.accountsCallback([selectedAddress]);\n                }\n                if (WalletLinkRelay.accountRequestCallbackIds.size > 0) {\n                    // We get the ethereum address from the metadata.  If for whatever\n                    // reason we don't get a response via an explicit web3 message\n                    // we can still fulfill the eip1102 request.\n                    Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => {\n                        const message = (0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                            id,\n                            response: (0, Web3Response_1.RequestEthereumAccountsResponse)([\n                                selectedAddress\n                            ])\n                        });\n                        this.invokeCallback(Object.assign(Object.assign({}, message), { id }));\n                    });\n                    WalletLinkRelay.accountRequestCallbackIds.clear();\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"selectedAddress\"\n                });\n            }\n        }));\n        this.ui = options.walletLinkUIConstructor({\n            walletLinkUrl: options.walletLinkUrl,\n            version: options.version,\n            darkMode: options.darkMode,\n            session: this._session,\n            connected$: this.connection.connected$\n        });\n        this.connection.connect();\n    }\n    attachUI() {\n        this.ui.attach();\n    }\n    resetAndReload() {\n        this.connection\n            .setSessionMetadata(\"__destroyed\", \"1\")\n            .pipe((0, operators_1.timeout)(1000), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(null)))\n            .subscribe(_ => {\n            var _a, _b, _c;\n            try {\n                this.subscriptions.unsubscribe();\n            }\n            catch (err) {\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error unsubscribing\"\n                });\n            }\n            (_b = this.walletLinkAnalytics) === null || _b === void 0 ? void 0 : _b.sendEvent(init_1.EVENTS.SESSION_STATE_CHANGE, {\n                method: \"relay::resetAndReload\",\n                sessionMetadataChange: \"__destroyed, 1\",\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            this.connection.destroy();\n            /**\n             * Only clear storage if the session id we have in memory matches the one on disk\n             * Otherwise, in the case where we have 2 tabs, another tab might have cleared\n             * storage already.  In that case if we clear storage again, the user will be in\n             * a state where the first tab allows the user to connect but the session that\n             * was used isn't persisted.  This leaves the user in a state where they aren't\n             * connected to the mobile app.\n             */\n            const storedSession = Session_1.Session.load(this.storage);\n            if ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) === this._session.id) {\n                this.storage.clear();\n            }\n            else if (storedSession) {\n                (_c = this.walletLinkAnalytics) === null || _c === void 0 ? void 0 : _c.sendEvent(init_1.EVENTS.SKIPPED_CLEARING_SESSION, {\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: Session_1.Session.hash(storedSession.id),\n                    origin: location.origin\n                });\n            }\n            this.ui.reloadUI();\n        }, (err) => {\n            var _a;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.FAILURE, {\n                method: \"relay::resetAndReload\",\n                message: `failed to reset and reload with ${err}`,\n                sessionIdHash: this.getSessionIdHash()\n            });\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    get session() {\n        return this._session;\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null\n            }\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                signature: (0, util_1.hexStringFromBuffer)(signature, true),\n                addPrefix\n            }\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxPriorityFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false\n            }\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.maxFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxFeePerGas)\n                    : null,\n                maxPriorityFeePerGas: params.maxPriorityFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxPriorityFeePerGas)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true\n            }\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: (0, util_1.hexStringFromBuffer)(signedTransaction, true),\n                chainId\n            }\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp }\n        });\n    }\n    genericRequest(data, action) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.generic,\n            params: {\n                action,\n                data\n            }\n        });\n    }\n    sendGenericMessage(request) {\n        return this.sendRequest(request);\n    }\n    sendRequest(request) {\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            if (!this.ui.isStandalone()) {\n                hideSnackbarItem = this.ui.showConnecting({\n                    isUnlinkedErrorState: this.isUnlinkedErrorState,\n                    onCancel: cancel,\n                    onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n                });\n            }\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            if (this.ui.isStandalone()) {\n                this.sendRequestStandalone(id, request);\n            }\n            else {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    setConnectDisabled(disabled) {\n        this.ui.setConnectDisabled(disabled);\n    }\n    setAccountsCallback(accountsCallback) {\n        this.accountsCallback = accountsCallback;\n    }\n    setChainCallback(chainCallback) {\n        this.chainCallback = chainCallback;\n    }\n    publishWeb3RequestEvent(id, request) {\n        var _a;\n        const message = (0, Web3RequestMessage_1.Web3RequestMessage)({ id, request });\n        const storedSession = Session_1.Session.load(this.storage);\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST, {\n            eventId: message.id,\n            method: `relay::${message.request.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            storedSessionIdHash: storedSession ? Session_1.Session.hash(storedSession.id) : \"\",\n            isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n            origin: location.origin\n        });\n        this.subscriptions.add(this.publishEvent(\"Web3Request\", message, true).subscribe({\n            next: _ => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST_PUBLISHED, {\n                    eventId: message.id,\n                    method: `relay::${message.request.method}`,\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: storedSession\n                        ? Session_1.Session.hash(storedSession.id)\n                        : \"\",\n                    isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n                    origin: location.origin\n                });\n            },\n            error: err => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id: message.id,\n                    response: {\n                        method: message.request.method,\n                        errorMessage: err.message\n                    }\n                }));\n            }\n        }));\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = (0, Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(id);\n        this.subscriptions.add(this.publishEvent(\"Web3RequestCanceled\", message, false).subscribe());\n    }\n    publishEvent(event, message, callWebhook) {\n        const secret = this.session.secret;\n        return new rxjs_1.Observable(subscriber => {\n            void aes256gcm\n                .encrypt(JSON.stringify(Object.assign(Object.assign({}, message), { origin: location.origin })), secret)\n                .then((encrypted) => {\n                subscriber.next(encrypted);\n                subscriber.complete();\n            });\n        }).pipe((0, operators_1.mergeMap)((encrypted) => {\n            return this.connection.publishEvent(event, encrypted, callWebhook);\n        }));\n    }\n    handleIncomingEvent(event) {\n        try {\n            this.subscriptions.add(aes256gcm\n                .decrypt(event.data, this.session.secret)\n                .pipe((0, operators_1.map)(c => JSON.parse(c)))\n                .subscribe({\n                next: json => {\n                    const message = (0, Web3ResponseMessage_1.isWeb3ResponseMessage)(json) ? json : null;\n                    if (!message) {\n                        return;\n                    }\n                    this.handleWeb3ResponseMessage(message);\n                },\n                error: () => {\n                    var _a;\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                        message: \"Had error decrypting\",\n                        value: \"incomingEvent\"\n                    });\n                }\n            }));\n        }\n        catch (_a) {\n            return;\n        }\n    }\n    handleWeb3ResponseMessage(message) {\n        var _a;\n        const { response } = message;\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_RESPONSE, {\n            eventId: message.id,\n            method: `relay::${response.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            origin: location.origin\n        });\n        if ((0, Web3Response_1.isRequestEthereumAccountsResponse)(response)) {\n            Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Object.assign(Object.assign({}, message), { id })));\n            WalletLinkRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(message);\n    }\n    invokeCallback(message) {\n        const callback = this.relayEventManager.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            this.relayEventManager.callbacks.delete(message.id);\n        }\n    }\n    requestEthereumAccounts() {\n        let request = {\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            var _a;\n            this.relayEventManager.callbacks.set(id, response => {\n                this.ui.hideRequestEthereumAccounts();\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const userAgent = ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) || null;\n            if (userAgent &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {\n                window.location.href = `https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;\n                return;\n            }\n            if (this.ui.inlineAccountsResponse()) {\n                const onAccounts = (accounts) => {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.RequestEthereumAccountsResponse)(accounts)\n                    }));\n                };\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel,\n                    onAccounts\n                });\n            }\n            else {\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel\n                });\n            }\n            WalletLinkRelay.accountRequestCallbackIds.add(id);\n            if (!this.ui.inlineAccountsResponse() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    watchAsset(type, address, symbol, decimals, image) {\n        const request = {\n            method: Web3Method_1.Web3Method.watchAsset,\n            params: {\n                type,\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                }\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineWatchAsset()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(false)\n                }));\n            };\n            const approve = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(true)\n                }));\n            };\n            if (this.ui.inlineWatchAsset()) {\n                this.ui.watchAsset({\n                    onApprove: approve,\n                    onCancel: _cancel,\n                    type,\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                });\n            }\n            if (!this.ui.inlineWatchAsset() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { cancel, promise };\n    }\n    addEthereumChain(chainId, rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency) {\n        let request = {\n            method: Web3Method_1.Web3Method.addEthereumChain,\n            params: {\n                chainId,\n                rpcUrls,\n                blockExplorerUrls,\n                chainName,\n                iconUrls,\n                nativeCurrency\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineAddEthereumChain(chainId)) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({\n                        isApproved: false,\n                        rpcUrl: \"\"\n                    })\n                }));\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({ isApproved: true, rpcUrl })\n                }));\n            };\n            if (this.ui.inlineAddEthereumChain(chainId)) {\n                this.ui.addEthereumChain({\n                    onCancel: _cancel,\n                    onApprove: approve,\n                    chainId: request.params.chainId,\n                    rpcUrls: request.params.rpcUrls,\n                    blockExplorerUrls: request.params\n                        .blockExplorerUrls,\n                    chainName: request.params.chainName,\n                    iconUrls: request.params.iconUrls,\n                    nativeCurrency: request.params\n                        .nativeCurrency\n                });\n            }\n            if (!this.ui.inlineAddEthereumChain(chainId) && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    switchEthereumChain(chainId) {\n        let request = {\n            method: Web3Method_1.Web3Method.switchEthereumChain,\n            params: {\n                chainId\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineSwitchEthereumChain()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage && response.errorCode) {\n                    return reject(eth_rpc_errors_1.ethErrors.provider.custom({\n                        code: response.errorCode,\n                        message: `Unrecognized chain ID. Try adding the chain using addEthereumChain first.`\n                    }));\n                }\n                else if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (errorCode) => {\n                if (errorCode) {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain, \"unsupported chainId\", errorCode)\n                    }));\n                }\n                else {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                            isApproved: false,\n                            rpcUrl: \"\"\n                        })\n                    }));\n                }\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                        isApproved: true,\n                        rpcUrl\n                    })\n                }));\n            };\n            this.ui.switchEthereumChain({\n                onCancel: _cancel,\n                onApprove: approve,\n                chainId: request.params.chainId\n            });\n            if (!this.ui.inlineSwitchEthereumChain() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    getSessionIdHash() {\n        return Session_1.Session.hash(this._session.id);\n    }\n    sendRequestStandalone(id, request) {\n        const _cancel = () => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n        };\n        const onSuccess = (response) => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response\n            }));\n        };\n        switch (request.method) {\n            case Web3Method_1.Web3Method.signEthereumMessage:\n                this.ui.signEthereumMessage({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.signEthereumTransaction:\n                this.ui.signEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.submitEthereumTransaction:\n                this.ui.submitEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:\n                this.ui.ethereumAddressFromSignedMessage({\n                    request,\n                    onSuccess\n                });\n                break;\n            default:\n                _cancel();\n                break;\n        }\n    }\n}\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"resetAndReload\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleIncomingEvent\", null);\nexports.WalletLinkRelay = WalletLinkRelay;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkConnection = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst types_1 = require(\"../types\");\nconst ClientMessage_1 = require(\"./ClientMessage\");\nconst RxWebSocket_1 = require(\"./RxWebSocket\");\nconst ServerMessage_1 = require(\"./ServerMessage\");\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * WalletLink Connection\n */\nclass WalletLinkConnection {\n    /**\n     * Constructor\n     * @param sessionId Session ID\n     * @param sessionKey Session Key\n     * @param serverUrl Walletlinkd RPC URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(sessionId, sessionKey, serverUrl, walletLinkAnalytics, WebSocketClass = WebSocket) {\n        this.sessionId = sessionId;\n        this.sessionKey = sessionKey;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = (0, types_1.IntNumber)(1);\n        this.connectedSubject = new rxjs_1.BehaviorSubject(false);\n        this.linkedSubject = new rxjs_1.BehaviorSubject(false);\n        this.sessionConfigSubject = new rxjs_1.ReplaySubject(1);\n        const ws = new RxWebSocket_1.RxWebSocket(serverUrl + \"/rpc\", WebSocketClass);\n        this.ws = ws;\n        this.walletLinkAnalytics = walletLinkAnalytics;\n        // attempt to reconnect every 5 seconds when disconnected\n        this.subscriptions.add(ws.connectionState$\n            .pipe((0, operators_1.tap)(state => this.walletLinkAnalytics.sendEvent(init_1.EVENTS.CONNECTED_STATE_CHANGE, {\n            state,\n            sessionIdHash: Session_1.Session.hash(sessionId)\n        })), \n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), \n        // if DISCONNECTED and not destroyed\n        (0, operators_1.filter)(cs => cs === RxWebSocket_1.ConnectionState.DISCONNECTED && !this.destroyed), \n        // wait 5 seconds\n        (0, operators_1.delay)(5000), \n        // check whether it's destroyed again\n        (0, operators_1.filter)(_ => !this.destroyed), \n        // reconnect\n        (0, operators_1.flatMap)(_ => ws.connect()), (0, operators_1.retry)())\n            .subscribe());\n        // perform authentication upon connection\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED and CONNECTING states\n        (0, operators_1.skip)(2), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, authenticate, and then check link status\n        this.authenticate().pipe((0, operators_1.tap)(_ => this.sendIsLinked()), (0, operators_1.tap)(_ => this.sendGetSessionConfig()), (0, operators_1.map)(_ => true)), \n        // if not CONNECTED, emit false immediately\n        (0, rxjs_1.of)(false))), (0, operators_1.distinctUntilChanged)(), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(false)))\n            .subscribe(connected => this.connectedSubject.next(connected)));\n        // send heartbeat every n seconds while connected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, start the heartbeat timer\n        (0, rxjs_1.timer)(0, HEARTBEAT_INTERVAL))))\n            .subscribe(i => \n        // first timer event updates lastHeartbeat timestamp\n        // subsequent calls send heartbeat message\n        i === 0 ? this.updateLastHeartbeat() : this.heartbeat()));\n        // handle server's heartbeat responses\n        this.subscriptions.add(ws.incomingData$\n            .pipe((0, operators_1.filter)(m => m === \"h\"))\n            .subscribe(_ => this.updateLastHeartbeat()));\n        // handle link status updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"IsLinkedOK\", \"Linked\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.LINKED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                linked: msg.linked,\n                type: m.type,\n                onlineGuests: msg.onlineGuests\n            });\n            this.linkedSubject.next(msg.linked || msg.onlineGuests > 0);\n        }));\n        // handle session config updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"GetSessionConfigOK\", \"SessionConfigUpdated\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.SESSION_CONFIG_RECEIVED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                metadata_keys: msg && msg.metadata ? Object.keys(msg.metadata) : undefined\n            });\n            this.sessionConfigSubject.next({\n                webhookId: msg.webhookId,\n                webhookUrl: msg.webhookUrl,\n                metadata: msg.metadata\n            });\n        }));\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        if (this.destroyed) {\n            throw new Error(\"instance is destroyed\");\n        }\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.STARTED_CONNECTING, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.ws.connect().subscribe();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletLinkConnection\n     */\n    destroy() {\n        this.subscriptions.unsubscribe();\n        this.ws.disconnect();\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.DISCONNECTED, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.destroyed = true;\n    }\n    get isDestroyed() {\n        return this.destroyed;\n    }\n    /**\n     * Emit true if connected and authenticated, else false\n     * @returns an Observable\n     */\n    get connected$() {\n        return this.connectedSubject.asObservable();\n    }\n    /**\n     * Emit once connected\n     * @returns an Observable\n     */\n    get onceConnected$() {\n        return this.connected$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit true if linked (a guest has joined before)\n     * @returns an Observable\n     */\n    get linked$() {\n        return this.linkedSubject.asObservable();\n    }\n    /**\n     * Emit once when linked\n     * @returns an Observable\n     */\n    get onceLinked$() {\n        return this.linked$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit current session config if available, and subsequent updates\n     * @returns an Observable for the session config\n     */\n    get sessionConfig$() {\n        return this.sessionConfigSubject.asObservable();\n    }\n    /**\n     * Emit incoming Event messages\n     * @returns an Observable for the messages\n     */\n    get incomingEvent$() {\n        return this.ws.incomingJSONData$.pipe((0, operators_1.filter)(m => {\n            if (m.type !== \"Event\") {\n                return false;\n            }\n            const sme = m;\n            return (typeof sme.sessionId === \"string\" &&\n                typeof sme.eventId === \"string\" &&\n                typeof sme.event === \"string\" &&\n                typeof sme.data === \"string\");\n        }), (0, operators_1.map)(m => m));\n    }\n    /**\n     * Set session metadata in SessionConfig object\n     * @param key\n     * @param value\n     * @returns an Observable that completes when successful\n     */\n    setSessionMetadata(key, value) {\n        const message = (0, ClientMessage_1.ClientMessageSetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            metadata: { [key]: value }\n        });\n        return this.onceConnected$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to set session metadata\");\n            }\n        }));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param data event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns an Observable that emits event ID when successful\n     */\n    publishEvent(event, data, callWebhook = false) {\n        const message = (0, ClientMessage_1.ClientMessagePublishEvent)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            event,\n            data,\n            callWebhook\n        });\n        return this.onceLinked$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to publish event\");\n            }\n            return res.eventId;\n        }));\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData(\"h\");\n        }\n        catch (_a) { }\n    }\n    makeRequest(message, timeout = REQUEST_TIMEOUT) {\n        const reqId = message.id;\n        try {\n            this.sendData(message);\n        }\n        catch (err) {\n            return (0, rxjs_1.throwError)(err);\n        }\n        // await server message with corresponding id\n        return this.ws.incomingJSONData$.pipe((0, operators_1.timeoutWith)(timeout, (0, rxjs_1.throwError)(new Error(`request ${reqId} timed out`))), (0, operators_1.filter)(m => m.id === reqId), (0, operators_1.take)(1));\n    }\n    authenticate() {\n        const msg = (0, ClientMessage_1.ClientMessageHostSession)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            sessionKey: this.sessionKey\n        });\n        return this.makeRequest(msg).pipe((0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to authentcate\");\n            }\n        }));\n    }\n    sendIsLinked() {\n        const msg = (0, ClientMessage_1.ClientMessageIsLinked)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n    sendGetSessionConfig() {\n        const msg = (0, ClientMessage_1.ClientMessageGetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n}\nexports.WalletLinkConnection = WalletLinkConnection;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientMessagePublishEvent = exports.ClientMessageSetSessionConfig = exports.ClientMessageGetSessionConfig = exports.ClientMessageIsLinked = exports.ClientMessageHostSession = void 0;\nfunction ClientMessageHostSession(params) {\n    return Object.assign({ type: \"HostSession\" }, params);\n}\nexports.ClientMessageHostSession = ClientMessageHostSession;\nfunction ClientMessageIsLinked(params) {\n    return Object.assign({ type: \"IsLinked\" }, params);\n}\nexports.ClientMessageIsLinked = ClientMessageIsLinked;\nfunction ClientMessageGetSessionConfig(params) {\n    return Object.assign({ type: \"GetSessionConfig\" }, params);\n}\nexports.ClientMessageGetSessionConfig = ClientMessageGetSessionConfig;\nfunction ClientMessageSetSessionConfig(params) {\n    return Object.assign({ type: \"SetSessionConfig\" }, params);\n}\nexports.ClientMessageSetSessionConfig = ClientMessageSetSessionConfig;\nfunction ClientMessagePublishEvent(params) {\n    return Object.assign({ type: \"PublishEvent\" }, params);\n}\nexports.ClientMessagePublishEvent = ClientMessagePublishEvent;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RxWebSocket = exports.ConnectionState = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n/**\n * Rx-ified WebSocket\n */\nclass RxWebSocket {\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.connectionStateSubject = new rxjs_1.BehaviorSubject(ConnectionState.DISCONNECTED);\n        this.incomingDataSubject = new rxjs_1.Subject();\n        this.url = url.replace(/^http/, \"ws\");\n    }\n    /**\n     * Make a websocket connection\n     * @returns an Observable that completes when connected\n     */\n    connect() {\n        if (this.webSocket) {\n            return (0, rxjs_1.throwError)(new Error(\"webSocket object is not null\"));\n        }\n        return new rxjs_1.Observable(obs => {\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                obs.error(err);\n                return;\n            }\n            this.connectionStateSubject.next(ConnectionState.CONNECTING);\n            webSocket.onclose = evt => {\n                this.clearWebSocket();\n                obs.error(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = _ => {\n                obs.next();\n                obs.complete();\n                this.connectionStateSubject.next(ConnectionState.CONNECTED);\n            };\n            webSocket.onmessage = evt => {\n                this.incomingDataSubject.next(evt.data);\n            };\n        }).pipe((0, operators_1.take)(1));\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n        try {\n            webSocket.close();\n        }\n        catch (_a) { }\n    }\n    /**\n     * Emit current connection state and subsequent changes\n     * @returns an Observable for the connection state\n     */\n    get connectionState$() {\n        return this.connectionStateSubject.asObservable();\n    }\n    /**\n     * Emit incoming data from server\n     * @returns an Observable for the data received\n     */\n    get incomingData$() {\n        return this.incomingDataSubject.asObservable();\n    }\n    /**\n     * Emit incoming JSON data from server. non-JSON data are ignored\n     * @returns an Observable for parsed JSON data\n     */\n    get incomingJSONData$() {\n        return this.incomingData$.pipe((0, operators_1.flatMap)(m => {\n            let j;\n            try {\n                j = JSON.parse(m);\n            }\n            catch (err) {\n                return (0, rxjs_1.empty)();\n            }\n            return (0, rxjs_1.of)(j);\n        }));\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            throw new Error(\"websocket is not connected\");\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\nexports.RxWebSocket = RxWebSocket;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isServerMessageFail = void 0;\nfunction isServerMessageFail(msg) {\n    return (msg &&\n        msg.type === \"Fail\" &&\n        typeof msg.id === \"number\" &&\n        typeof msg.sessionId === \"string\" &&\n        typeof msg.error === \"string\");\n}\nexports.isServerMessageFail = isServerMessageFail;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst util_1 = require(\"../util\");\n/**\n *\n * @param plainText string to be encrypted\n * @param secret hex representation of 32-byte secret\n * returns hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the\n * encrypted plainText.\n */\nasync function encrypt(plainText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    const ivBytes = crypto.getRandomValues(new Uint8Array(12));\n    const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n    const enc = new TextEncoder();\n    // Will return encrypted plainText with auth tag (ie MAC or checksum) appended at the end\n    const encryptedResult = await window.crypto.subtle.encrypt({\n        name: \"AES-GCM\",\n        iv: ivBytes\n    }, secretKey, enc.encode(plainText));\n    const tagLength = 16;\n    const authTag = encryptedResult.slice(encryptedResult.byteLength - tagLength);\n    const encryptedPlaintext = encryptedResult.slice(0, encryptedResult.byteLength - tagLength);\n    const authTagBytes = new Uint8Array(authTag);\n    const encryptedPlaintextBytes = new Uint8Array(encryptedPlaintext);\n    const concatted = new Uint8Array([...ivBytes, ...authTagBytes, ...encryptedPlaintextBytes]);\n    return (0, util_1.uint8ArrayToHex)(concatted);\n}\nexports.encrypt = encrypt;\n/**\n *\n * @param cipherText hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.\n * @param secret hex string representation of 32-byte secret\n */\nfunction decrypt(cipherText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    return new rxjs_1.Observable((subscriber) => {\n        void (async function () {\n            const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n            const encrypted = (0, util_1.hexStringToUint8Array)(cipherText);\n            const ivBytes = encrypted.slice(0, 12);\n            const authTagBytes = encrypted.slice(12, 28);\n            const encryptedPlaintextBytes = encrypted.slice(28);\n            const concattedBytes = new Uint8Array([...encryptedPlaintextBytes, ...authTagBytes]);\n            const algo = {\n                name: \"AES-GCM\",\n                iv: new Uint8Array(ivBytes)\n            };\n            try {\n                const decrypted = await window.crypto.subtle.decrypt(algo, secretKey, concattedBytes);\n                const decoder = new TextDecoder();\n                subscriber.next(decoder.decode(decrypted));\n                subscriber.complete();\n            }\n            catch (err) {\n                subscriber.error(err);\n            }\n        })();\n    });\n}\nexports.decrypt = decrypt;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestCanceledMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: RelayMessage_1.RelayMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumAddressFromSignedMessageResponse = exports.SubmitEthereumTransactionResponse = exports.SignEthereumTransactionResponse = exports.SignEthereumMessageResponse = exports.isRequestEthereumAccountsResponse = exports.WatchAssetReponse = exports.RequestEthereumAccountsResponse = exports.SwitchEthereumChainResponse = exports.AddEthereumChainResponse = exports.ErrorResponse = void 0;\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage, errorCode) {\n    return { method, errorMessage, errorCode };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction AddEthereumChainResponse(addResponse) {\n    return {\n        method: Web3Method_1.Web3Method.addEthereumChain,\n        result: addResponse\n    };\n}\nexports.AddEthereumChainResponse = AddEthereumChainResponse;\nfunction SwitchEthereumChainResponse(switchResponse) {\n    return {\n        method: Web3Method_1.Web3Method.switchEthereumChain,\n        result: switchResponse\n    };\n}\nexports.SwitchEthereumChainResponse = SwitchEthereumChainResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction WatchAssetReponse(success) {\n    return { method: Web3Method_1.Web3Method.watchAsset, result: success };\n}\nexports.WatchAssetReponse = WatchAssetReponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\nfunction SignEthereumMessageResponse(signature) {\n    return { method: Web3Method_1.Web3Method.signEthereumMessage, result: signature };\n}\nexports.SignEthereumMessageResponse = SignEthereumMessageResponse;\nfunction SignEthereumTransactionResponse(signedData) {\n    return { method: Web3Method_1.Web3Method.signEthereumTransaction, result: signedData };\n}\nexports.SignEthereumTransactionResponse = SignEthereumTransactionResponse;\nfunction SubmitEthereumTransactionResponse(txHash) {\n    return { method: Web3Method_1.Web3Method.submitEthereumTransaction, result: txHash };\n}\nexports.SubmitEthereumTransactionResponse = SubmitEthereumTransactionResponse;\nfunction EthereumAddressFromSignedMessageResponse(address) {\n    return {\n        method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n        result: address\n    };\n}\nexports.EthereumAddressFromSignedMessageResponse = EthereumAddressFromSignedMessageResponse;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isWeb3ResponseMessage = exports.Web3ResponseMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === RelayMessage_1.RelayMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayEventManager = void 0;\nconst util_1 = require(\"../util\");\nclass WalletLinkRelayEventManager {\n    constructor() {\n        this._nextRequestId = 0;\n        this.callbacks = new Map();\n    }\n    makeRequestId() {\n        // max nextId == max int32 for compatibility with mobile\n        this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n        const id = this._nextRequestId;\n        const idStr = (0, util_1.prepend0x)(id.toString(16));\n        // unlikely that this will ever be an issue, but just to be safe\n        const callback = this.callbacks.get(idStr);\n        if (callback) {\n            this.callbacks.delete(idStr);\n        }\n        return id;\n    }\n}\nexports.WalletLinkRelayEventManager = WalletLinkRelayEventManager;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFavicon = exports.range = exports.isBigNumber = exports.ensureParsedJSONObject = exports.ensureBN = exports.ensureRegExpString = exports.ensureIntNumber = exports.ensureBuffer = exports.ensureAddressString = exports.ensureEvenLengthHexString = exports.ensureHexString = exports.isHexString = exports.prepend0x = exports.strip0x = exports.has0xPrefix = exports.hexStringFromIntNumber = exports.intNumberFromHexString = exports.bigIntStringFromBN = exports.hexStringFromBuffer = exports.hexStringToUint8Array = exports.uint8ArrayToHex = exports.randomBytesHex = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst types_1 = require(\"./types\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n/**\n * @param length number of bytes\n */\nfunction randomBytesHex(length) {\n    return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(length)));\n}\nexports.randomBytesHex = randomBytesHex;\nfunction uint8ArrayToHex(value) {\n    return [...value].map(b => b.toString(16).padStart(2, '0')).join('');\n}\nexports.uint8ArrayToHex = uint8ArrayToHex;\nfunction hexStringToUint8Array(hexString) {\n    return new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n}\nexports.hexStringToUint8Array = hexStringToUint8Array;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return (0, types_1.HexString)(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return (0, types_1.BigIntString)(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return (0, types_1.HexString)(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return (0, types_1.HexString)(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${String(hex)}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = (0, types_1.HexString)(\"0\" + h);\n    }\n    return includePrefix ? (0, types_1.HexString)(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return (0, types_1.AddressString)(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${String(str)}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${String(str)}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return (0, types_1.IntNumber)(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return (0, types_1.IntNumber)(Number(num));\n        }\n        if (isHexString(num)) {\n            return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${String(num)}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return (0, types_1.RegExpString)(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${String(regExp)}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val !== null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${String(val)}`);\n}\nexports.ensureBN = ensureBN;\nfunction ensureParsedJSONObject(val) {\n    if (typeof val === \"string\") {\n        return JSON.parse(val);\n    }\n    if (typeof val === \"object\") {\n        return val;\n    }\n    throw new Error(`Not a JSON string or an object: ${String(val)}`);\n}\nexports.ensureParsedJSONObject = ensureParsedJSONObject;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexports.getFavicon = getFavicon;\n","(function (module, exports) {\n  'use strict';\n\n  // Utils\n  function assert (val, msg) {\n    if (!val) throw new Error(msg || 'Assertion failed');\n  }\n\n  // Could use `inherits` module, but don't want to move from single file\n  // architecture yet.\n  function inherits (ctor, superCtor) {\n    ctor.super_ = superCtor;\n    var TempCtor = function () {};\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  }\n\n  // BN\n\n  function BN (number, base, endian) {\n    if (BN.isBN(number)) {\n      return number;\n    }\n\n    this.negative = 0;\n    this.words = null;\n    this.length = 0;\n\n    // Reduction context\n    this.red = null;\n\n    if (number !== null) {\n      if (base === 'le' || base === 'be') {\n        endian = base;\n        base = 10;\n      }\n\n      this._init(number || 0, base || 10, endian || 'be');\n    }\n  }\n  if (typeof module === 'object') {\n    module.exports = BN;\n  } else {\n    exports.BN = BN;\n  }\n\n  BN.BN = BN;\n  BN.wordSize = 26;\n\n  var Buffer;\n  try {\n    if (typeof window !== 'undefined' && typeof window.Buffer !== 'undefined') {\n      Buffer = window.Buffer;\n    } else {\n      Buffer = require('buffer').Buffer;\n    }\n  } catch (e) {\n  }\n\n  BN.isBN = function isBN (num) {\n    if (num instanceof BN) {\n      return true;\n    }\n\n    return num !== null && typeof num === 'object' &&\n      num.constructor.wordSize === BN.wordSize && Array.isArray(num.words);\n  };\n\n  BN.max = function max (left, right) {\n    if (left.cmp(right) > 0) return left;\n    return right;\n  };\n\n  BN.min = function min (left, right) {\n    if (left.cmp(right) < 0) return left;\n    return right;\n  };\n\n  BN.prototype._init = function init (number, base, endian) {\n    if (typeof number === 'number') {\n      return this._initNumber(number, base, endian);\n    }\n\n    if (typeof number === 'object') {\n      return this._initArray(number, base, endian);\n    }\n\n    if (base === 'hex') {\n      base = 16;\n    }\n    assert(base === (base | 0) && base >= 2 && base <= 36);\n\n    number = number.toString().replace(/\\s+/g, '');\n    var start = 0;\n    if (number[0] === '-') {\n      start++;\n      this.negative = 1;\n    }\n\n    if (start < number.length) {\n      if (base === 16) {\n        this._parseHex(number, start, endian);\n      } else {\n        this._parseBase(number, base, start);\n        if (endian === 'le') {\n          this._initArray(this.toArray(), base, endian);\n        }\n      }\n    }\n  };\n\n  BN.prototype._initNumber = function _initNumber (number, base, endian) {\n    if (number < 0) {\n      this.negative = 1;\n      number = -number;\n    }\n    if (number < 0x4000000) {\n      this.words = [number & 0x3ffffff];\n      this.length = 1;\n    } else if (number < 0x10000000000000) {\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff\n      ];\n      this.length = 2;\n    } else {\n      assert(number < 0x20000000000000); // 2 ^ 53 (unsafe)\n      this.words = [\n        number & 0x3ffffff,\n        (number / 0x4000000) & 0x3ffffff,\n        1\n      ];\n      this.length = 3;\n    }\n\n    if (endian !== 'le') return;\n\n    // Reverse the bytes\n    this._initArray(this.toArray(), base, endian);\n  };\n\n  BN.prototype._initArray = function _initArray (number, base, endian) {\n    // Perhaps a Uint8Array\n    assert(typeof number.length === 'number');\n    if (number.length <= 0) {\n      this.words = [0];\n      this.length = 1;\n      return this;\n    }\n\n    this.length = Math.ceil(number.length / 3);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    var j, w;\n    var off = 0;\n    if (endian === 'be') {\n      for (i = number.length - 1, j = 0; i >= 0; i -= 3) {\n        w = number[i] | (number[i - 1] << 8) | (number[i - 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    } else if (endian === 'le') {\n      for (i = 0, j = 0; i < number.length; i += 3) {\n        w = number[i] | (number[i + 1] << 8) | (number[i + 2] << 16);\n        this.words[j] |= (w << off) & 0x3ffffff;\n        this.words[j + 1] = (w >>> (26 - off)) & 0x3ffffff;\n        off += 24;\n        if (off >= 26) {\n          off -= 26;\n          j++;\n        }\n      }\n    }\n    return this._strip();\n  };\n\n  function parseHex4Bits (string, index) {\n    var c = string.charCodeAt(index);\n    // '0' - '9'\n    if (c >= 48 && c <= 57) {\n      return c - 48;\n    // 'A' - 'F'\n    } else if (c >= 65 && c <= 70) {\n      return c - 55;\n    // 'a' - 'f'\n    } else if (c >= 97 && c <= 102) {\n      return c - 87;\n    } else {\n      assert(false, 'Invalid character in ' + string);\n    }\n  }\n\n  function parseHexByte (string, lowerBound, index) {\n    var r = parseHex4Bits(string, index);\n    if (index - 1 >= lowerBound) {\n      r |= parseHex4Bits(string, index - 1) << 4;\n    }\n    return r;\n  }\n\n  BN.prototype._parseHex = function _parseHex (number, start, endian) {\n    // Create possibly bigger array to ensure that it fits the number\n    this.length = Math.ceil((number.length - start) / 6);\n    this.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      this.words[i] = 0;\n    }\n\n    // 24-bits chunks\n    var off = 0;\n    var j = 0;\n\n    var w;\n    if (endian === 'be') {\n      for (i = number.length - 1; i >= start; i -= 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    } else {\n      var parseLength = number.length - start;\n      for (i = parseLength % 2 === 0 ? start + 1 : start; i < number.length; i += 2) {\n        w = parseHexByte(number, start, i) << off;\n        this.words[j] |= w & 0x3ffffff;\n        if (off >= 18) {\n          off -= 18;\n          j += 1;\n          this.words[j] |= w >>> 26;\n        } else {\n          off += 8;\n        }\n      }\n    }\n\n    this._strip();\n  };\n\n  function parseBase (str, start, end, mul) {\n    var r = 0;\n    var b = 0;\n    var len = Math.min(str.length, end);\n    for (var i = start; i < len; i++) {\n      var c = str.charCodeAt(i) - 48;\n\n      r *= mul;\n\n      // 'a'\n      if (c >= 49) {\n        b = c - 49 + 0xa;\n\n      // 'A'\n      } else if (c >= 17) {\n        b = c - 17 + 0xa;\n\n      // '0' - '9'\n      } else {\n        b = c;\n      }\n      assert(c >= 0 && b < mul, 'Invalid character');\n      r += b;\n    }\n    return r;\n  }\n\n  BN.prototype._parseBase = function _parseBase (number, base, start) {\n    // Initialize as zero\n    this.words = [0];\n    this.length = 1;\n\n    // Find length of limb in base\n    for (var limbLen = 0, limbPow = 1; limbPow <= 0x3ffffff; limbPow *= base) {\n      limbLen++;\n    }\n    limbLen--;\n    limbPow = (limbPow / base) | 0;\n\n    var total = number.length - start;\n    var mod = total % limbLen;\n    var end = Math.min(total, total - mod) + start;\n\n    var word = 0;\n    for (var i = start; i < end; i += limbLen) {\n      word = parseBase(number, i, i + limbLen, base);\n\n      this.imuln(limbPow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    if (mod !== 0) {\n      var pow = 1;\n      word = parseBase(number, i, number.length, base);\n\n      for (i = 0; i < mod; i++) {\n        pow *= base;\n      }\n\n      this.imuln(pow);\n      if (this.words[0] + word < 0x4000000) {\n        this.words[0] += word;\n      } else {\n        this._iaddn(word);\n      }\n    }\n\n    this._strip();\n  };\n\n  BN.prototype.copy = function copy (dest) {\n    dest.words = new Array(this.length);\n    for (var i = 0; i < this.length; i++) {\n      dest.words[i] = this.words[i];\n    }\n    dest.length = this.length;\n    dest.negative = this.negative;\n    dest.red = this.red;\n  };\n\n  function move (dest, src) {\n    dest.words = src.words;\n    dest.length = src.length;\n    dest.negative = src.negative;\n    dest.red = src.red;\n  }\n\n  BN.prototype._move = function _move (dest) {\n    move(dest, this);\n  };\n\n  BN.prototype.clone = function clone () {\n    var r = new BN(null);\n    this.copy(r);\n    return r;\n  };\n\n  BN.prototype._expand = function _expand (size) {\n    while (this.length < size) {\n      this.words[this.length++] = 0;\n    }\n    return this;\n  };\n\n  // Remove leading `0` from `this`\n  BN.prototype._strip = function strip () {\n    while (this.length > 1 && this.words[this.length - 1] === 0) {\n      this.length--;\n    }\n    return this._normSign();\n  };\n\n  BN.prototype._normSign = function _normSign () {\n    // -0 = 0\n    if (this.length === 1 && this.words[0] === 0) {\n      this.negative = 0;\n    }\n    return this;\n  };\n\n  // Check Symbol.for because not everywhere where Symbol defined\n  // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol#Browser_compatibility\n  if (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function') {\n    try {\n      BN.prototype[Symbol.for('nodejs.util.inspect.custom')] = inspect;\n    } catch (e) {\n      BN.prototype.inspect = inspect;\n    }\n  } else {\n    BN.prototype.inspect = inspect;\n  }\n\n  function inspect () {\n    return (this.red ? '<BN-R: ' : '<BN: ') + this.toString(16) + '>';\n  }\n\n  /*\n\n  var zeros = [];\n  var groupSizes = [];\n  var groupBases = [];\n\n  var s = '';\n  var i = -1;\n  while (++i < BN.wordSize) {\n    zeros[i] = s;\n    s += '0';\n  }\n  groupSizes[0] = 0;\n  groupSizes[1] = 0;\n  groupBases[0] = 0;\n  groupBases[1] = 0;\n  var base = 2 - 1;\n  while (++base < 36 + 1) {\n    var groupSize = 0;\n    var groupBase = 1;\n    while (groupBase < (1 << BN.wordSize) / base) {\n      groupBase *= base;\n      groupSize += 1;\n    }\n    groupSizes[base] = groupSize;\n    groupBases[base] = groupBase;\n  }\n\n  */\n\n  var zeros = [\n    '',\n    '0',\n    '00',\n    '000',\n    '0000',\n    '00000',\n    '000000',\n    '0000000',\n    '00000000',\n    '000000000',\n    '0000000000',\n    '00000000000',\n    '000000000000',\n    '0000000000000',\n    '00000000000000',\n    '000000000000000',\n    '0000000000000000',\n    '00000000000000000',\n    '000000000000000000',\n    '0000000000000000000',\n    '00000000000000000000',\n    '000000000000000000000',\n    '0000000000000000000000',\n    '00000000000000000000000',\n    '000000000000000000000000',\n    '0000000000000000000000000'\n  ];\n\n  var groupSizes = [\n    0, 0,\n    25, 16, 12, 11, 10, 9, 8,\n    8, 7, 7, 7, 7, 6, 6,\n    6, 6, 6, 6, 6, 5, 5,\n    5, 5, 5, 5, 5, 5, 5,\n    5, 5, 5, 5, 5, 5, 5\n  ];\n\n  var groupBases = [\n    0, 0,\n    33554432, 43046721, 16777216, 48828125, 60466176, 40353607, 16777216,\n    43046721, 10000000, 19487171, 35831808, 62748517, 7529536, 11390625,\n    16777216, 24137569, 34012224, 47045881, 64000000, 4084101, 5153632,\n    6436343, 7962624, 9765625, 11881376, 14348907, 17210368, 20511149,\n    24300000, 28629151, 33554432, 39135393, 45435424, 52521875, 60466176\n  ];\n\n  BN.prototype.toString = function toString (base, padding) {\n    base = base || 10;\n    padding = padding | 0 || 1;\n\n    var out;\n    if (base === 16 || base === 'hex') {\n      out = '';\n      var off = 0;\n      var carry = 0;\n      for (var i = 0; i < this.length; i++) {\n        var w = this.words[i];\n        var word = (((w << off) | carry) & 0xffffff).toString(16);\n        carry = (w >>> (24 - off)) & 0xffffff;\n        off += 2;\n        if (off >= 26) {\n          off -= 26;\n          i--;\n        }\n        if (carry !== 0 || i !== this.length - 1) {\n          out = zeros[6 - word.length] + word + out;\n        } else {\n          out = word + out;\n        }\n      }\n      if (carry !== 0) {\n        out = carry.toString(16) + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    if (base === (base | 0) && base >= 2 && base <= 36) {\n      // var groupSize = Math.floor(BN.wordSize * Math.LN2 / Math.log(base));\n      var groupSize = groupSizes[base];\n      // var groupBase = Math.pow(base, groupSize);\n      var groupBase = groupBases[base];\n      out = '';\n      var c = this.clone();\n      c.negative = 0;\n      while (!c.isZero()) {\n        var r = c.modrn(groupBase).toString(base);\n        c = c.idivn(groupBase);\n\n        if (!c.isZero()) {\n          out = zeros[groupSize - r.length] + r + out;\n        } else {\n          out = r + out;\n        }\n      }\n      if (this.isZero()) {\n        out = '0' + out;\n      }\n      while (out.length % padding !== 0) {\n        out = '0' + out;\n      }\n      if (this.negative !== 0) {\n        out = '-' + out;\n      }\n      return out;\n    }\n\n    assert(false, 'Base should be between 2 and 36');\n  };\n\n  BN.prototype.toNumber = function toNumber () {\n    var ret = this.words[0];\n    if (this.length === 2) {\n      ret += this.words[1] * 0x4000000;\n    } else if (this.length === 3 && this.words[2] === 0x01) {\n      // NOTE: at this stage it is known that the top bit is set\n      ret += 0x10000000000000 + (this.words[1] * 0x4000000);\n    } else if (this.length > 2) {\n      assert(false, 'Number can only safely store up to 53 bits');\n    }\n    return (this.negative !== 0) ? -ret : ret;\n  };\n\n  BN.prototype.toJSON = function toJSON () {\n    return this.toString(16, 2);\n  };\n\n  if (Buffer) {\n    BN.prototype.toBuffer = function toBuffer (endian, length) {\n      return this.toArrayLike(Buffer, endian, length);\n    };\n  }\n\n  BN.prototype.toArray = function toArray (endian, length) {\n    return this.toArrayLike(Array, endian, length);\n  };\n\n  var allocate = function allocate (ArrayType, size) {\n    if (ArrayType.allocUnsafe) {\n      return ArrayType.allocUnsafe(size);\n    }\n    return new ArrayType(size);\n  };\n\n  BN.prototype.toArrayLike = function toArrayLike (ArrayType, endian, length) {\n    this._strip();\n\n    var byteLength = this.byteLength();\n    var reqLength = length || Math.max(1, byteLength);\n    assert(byteLength <= reqLength, 'byte array longer than desired length');\n    assert(reqLength > 0, 'Requested array length <= 0');\n\n    var res = allocate(ArrayType, reqLength);\n    var postfix = endian === 'le' ? 'LE' : 'BE';\n    this['_toArrayLike' + postfix](res, byteLength);\n    return res;\n  };\n\n  BN.prototype._toArrayLikeLE = function _toArrayLikeLE (res, byteLength) {\n    var position = 0;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position++] = word & 0xff;\n      if (position < res.length) {\n        res[position++] = (word >> 8) & 0xff;\n      }\n      if (position < res.length) {\n        res[position++] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position < res.length) {\n          res[position++] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position < res.length) {\n      res[position++] = carry;\n\n      while (position < res.length) {\n        res[position++] = 0;\n      }\n    }\n  };\n\n  BN.prototype._toArrayLikeBE = function _toArrayLikeBE (res, byteLength) {\n    var position = res.length - 1;\n    var carry = 0;\n\n    for (var i = 0, shift = 0; i < this.length; i++) {\n      var word = (this.words[i] << shift) | carry;\n\n      res[position--] = word & 0xff;\n      if (position >= 0) {\n        res[position--] = (word >> 8) & 0xff;\n      }\n      if (position >= 0) {\n        res[position--] = (word >> 16) & 0xff;\n      }\n\n      if (shift === 6) {\n        if (position >= 0) {\n          res[position--] = (word >> 24) & 0xff;\n        }\n        carry = 0;\n        shift = 0;\n      } else {\n        carry = word >>> 24;\n        shift += 2;\n      }\n    }\n\n    if (position >= 0) {\n      res[position--] = carry;\n\n      while (position >= 0) {\n        res[position--] = 0;\n      }\n    }\n  };\n\n  if (Math.clz32) {\n    BN.prototype._countBits = function _countBits (w) {\n      return 32 - Math.clz32(w);\n    };\n  } else {\n    BN.prototype._countBits = function _countBits (w) {\n      var t = w;\n      var r = 0;\n      if (t >= 0x1000) {\n        r += 13;\n        t >>>= 13;\n      }\n      if (t >= 0x40) {\n        r += 7;\n        t >>>= 7;\n      }\n      if (t >= 0x8) {\n        r += 4;\n        t >>>= 4;\n      }\n      if (t >= 0x02) {\n        r += 2;\n        t >>>= 2;\n      }\n      return r + t;\n    };\n  }\n\n  BN.prototype._zeroBits = function _zeroBits (w) {\n    // Short-cut\n    if (w === 0) return 26;\n\n    var t = w;\n    var r = 0;\n    if ((t & 0x1fff) === 0) {\n      r += 13;\n      t >>>= 13;\n    }\n    if ((t & 0x7f) === 0) {\n      r += 7;\n      t >>>= 7;\n    }\n    if ((t & 0xf) === 0) {\n      r += 4;\n      t >>>= 4;\n    }\n    if ((t & 0x3) === 0) {\n      r += 2;\n      t >>>= 2;\n    }\n    if ((t & 0x1) === 0) {\n      r++;\n    }\n    return r;\n  };\n\n  // Return number of used bits in a BN\n  BN.prototype.bitLength = function bitLength () {\n    var w = this.words[this.length - 1];\n    var hi = this._countBits(w);\n    return (this.length - 1) * 26 + hi;\n  };\n\n  function toBitArray (num) {\n    var w = new Array(num.bitLength());\n\n    for (var bit = 0; bit < w.length; bit++) {\n      var off = (bit / 26) | 0;\n      var wbit = bit % 26;\n\n      w[bit] = (num.words[off] >>> wbit) & 0x01;\n    }\n\n    return w;\n  }\n\n  // Number of trailing zero bits\n  BN.prototype.zeroBits = function zeroBits () {\n    if (this.isZero()) return 0;\n\n    var r = 0;\n    for (var i = 0; i < this.length; i++) {\n      var b = this._zeroBits(this.words[i]);\n      r += b;\n      if (b !== 26) break;\n    }\n    return r;\n  };\n\n  BN.prototype.byteLength = function byteLength () {\n    return Math.ceil(this.bitLength() / 8);\n  };\n\n  BN.prototype.toTwos = function toTwos (width) {\n    if (this.negative !== 0) {\n      return this.abs().inotn(width).iaddn(1);\n    }\n    return this.clone();\n  };\n\n  BN.prototype.fromTwos = function fromTwos (width) {\n    if (this.testn(width - 1)) {\n      return this.notn(width).iaddn(1).ineg();\n    }\n    return this.clone();\n  };\n\n  BN.prototype.isNeg = function isNeg () {\n    return this.negative !== 0;\n  };\n\n  // Return negative clone of `this`\n  BN.prototype.neg = function neg () {\n    return this.clone().ineg();\n  };\n\n  BN.prototype.ineg = function ineg () {\n    if (!this.isZero()) {\n      this.negative ^= 1;\n    }\n\n    return this;\n  };\n\n  // Or `num` with `this` in-place\n  BN.prototype.iuor = function iuor (num) {\n    while (this.length < num.length) {\n      this.words[this.length++] = 0;\n    }\n\n    for (var i = 0; i < num.length; i++) {\n      this.words[i] = this.words[i] | num.words[i];\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ior = function ior (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuor(num);\n  };\n\n  // Or `num` with `this`\n  BN.prototype.or = function or (num) {\n    if (this.length > num.length) return this.clone().ior(num);\n    return num.clone().ior(this);\n  };\n\n  BN.prototype.uor = function uor (num) {\n    if (this.length > num.length) return this.clone().iuor(num);\n    return num.clone().iuor(this);\n  };\n\n  // And `num` with `this` in-place\n  BN.prototype.iuand = function iuand (num) {\n    // b = min-length(num, this)\n    var b;\n    if (this.length > num.length) {\n      b = num;\n    } else {\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = this.words[i] & num.words[i];\n    }\n\n    this.length = b.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.iand = function iand (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuand(num);\n  };\n\n  // And `num` with `this`\n  BN.prototype.and = function and (num) {\n    if (this.length > num.length) return this.clone().iand(num);\n    return num.clone().iand(this);\n  };\n\n  BN.prototype.uand = function uand (num) {\n    if (this.length > num.length) return this.clone().iuand(num);\n    return num.clone().iuand(this);\n  };\n\n  // Xor `num` with `this` in-place\n  BN.prototype.iuxor = function iuxor (num) {\n    // a.length > b.length\n    var a;\n    var b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    for (var i = 0; i < b.length; i++) {\n      this.words[i] = a.words[i] ^ b.words[i];\n    }\n\n    if (this !== a) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = a.length;\n\n    return this._strip();\n  };\n\n  BN.prototype.ixor = function ixor (num) {\n    assert((this.negative | num.negative) === 0);\n    return this.iuxor(num);\n  };\n\n  // Xor `num` with `this`\n  BN.prototype.xor = function xor (num) {\n    if (this.length > num.length) return this.clone().ixor(num);\n    return num.clone().ixor(this);\n  };\n\n  BN.prototype.uxor = function uxor (num) {\n    if (this.length > num.length) return this.clone().iuxor(num);\n    return num.clone().iuxor(this);\n  };\n\n  // Not ``this`` with ``width`` bitwidth\n  BN.prototype.inotn = function inotn (width) {\n    assert(typeof width === 'number' && width >= 0);\n\n    var bytesNeeded = Math.ceil(width / 26) | 0;\n    var bitsLeft = width % 26;\n\n    // Extend the buffer with leading zeroes\n    this._expand(bytesNeeded);\n\n    if (bitsLeft > 0) {\n      bytesNeeded--;\n    }\n\n    // Handle complete words\n    for (var i = 0; i < bytesNeeded; i++) {\n      this.words[i] = ~this.words[i] & 0x3ffffff;\n    }\n\n    // Handle the residue\n    if (bitsLeft > 0) {\n      this.words[i] = ~this.words[i] & (0x3ffffff >> (26 - bitsLeft));\n    }\n\n    // And remove leading zeroes\n    return this._strip();\n  };\n\n  BN.prototype.notn = function notn (width) {\n    return this.clone().inotn(width);\n  };\n\n  // Set `bit` of `this`\n  BN.prototype.setn = function setn (bit, val) {\n    assert(typeof bit === 'number' && bit >= 0);\n\n    var off = (bit / 26) | 0;\n    var wbit = bit % 26;\n\n    this._expand(off + 1);\n\n    if (val) {\n      this.words[off] = this.words[off] | (1 << wbit);\n    } else {\n      this.words[off] = this.words[off] & ~(1 << wbit);\n    }\n\n    return this._strip();\n  };\n\n  // Add `num` to `this` in-place\n  BN.prototype.iadd = function iadd (num) {\n    var r;\n\n    // negative + positive\n    if (this.negative !== 0 && num.negative === 0) {\n      this.negative = 0;\n      r = this.isub(num);\n      this.negative ^= 1;\n      return this._normSign();\n\n    // positive + negative\n    } else if (this.negative === 0 && num.negative !== 0) {\n      num.negative = 0;\n      r = this.isub(num);\n      num.negative = 1;\n      return r._normSign();\n    }\n\n    // a.length > b.length\n    var a, b;\n    if (this.length > num.length) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) + (b.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      this.words[i] = r & 0x3ffffff;\n      carry = r >>> 26;\n    }\n\n    this.length = a.length;\n    if (carry !== 0) {\n      this.words[this.length] = carry;\n      this.length++;\n    // Copy the rest of the words\n    } else if (a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    return this;\n  };\n\n  // Add `num` to `this`\n  BN.prototype.add = function add (num) {\n    var res;\n    if (num.negative !== 0 && this.negative === 0) {\n      num.negative = 0;\n      res = this.sub(num);\n      num.negative ^= 1;\n      return res;\n    } else if (num.negative === 0 && this.negative !== 0) {\n      this.negative = 0;\n      res = num.sub(this);\n      this.negative = 1;\n      return res;\n    }\n\n    if (this.length > num.length) return this.clone().iadd(num);\n\n    return num.clone().iadd(this);\n  };\n\n  // Subtract `num` from `this` in-place\n  BN.prototype.isub = function isub (num) {\n    // this - (-num) = this + num\n    if (num.negative !== 0) {\n      num.negative = 0;\n      var r = this.iadd(num);\n      num.negative = 1;\n      return r._normSign();\n\n    // -this - num = -(this + num)\n    } else if (this.negative !== 0) {\n      this.negative = 0;\n      this.iadd(num);\n      this.negative = 1;\n      return this._normSign();\n    }\n\n    // At this point both numbers are positive\n    var cmp = this.cmp(num);\n\n    // Optimization - zeroify\n    if (cmp === 0) {\n      this.negative = 0;\n      this.length = 1;\n      this.words[0] = 0;\n      return this;\n    }\n\n    // a > b\n    var a, b;\n    if (cmp > 0) {\n      a = this;\n      b = num;\n    } else {\n      a = num;\n      b = this;\n    }\n\n    var carry = 0;\n    for (var i = 0; i < b.length; i++) {\n      r = (a.words[i] | 0) - (b.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n    for (; carry !== 0 && i < a.length; i++) {\n      r = (a.words[i] | 0) + carry;\n      carry = r >> 26;\n      this.words[i] = r & 0x3ffffff;\n    }\n\n    // Copy rest of the words\n    if (carry === 0 && i < a.length && a !== this) {\n      for (; i < a.length; i++) {\n        this.words[i] = a.words[i];\n      }\n    }\n\n    this.length = Math.max(this.length, i);\n\n    if (a !== this) {\n      this.negative = 1;\n    }\n\n    return this._strip();\n  };\n\n  // Subtract `num` from `this`\n  BN.prototype.sub = function sub (num) {\n    return this.clone().isub(num);\n  };\n\n  function smallMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    var len = (self.length + num.length) | 0;\n    out.length = len;\n    len = (len - 1) | 0;\n\n    // Peel one iteration (compiler can't do it, because of code complexity)\n    var a = self.words[0] | 0;\n    var b = num.words[0] | 0;\n    var r = a * b;\n\n    var lo = r & 0x3ffffff;\n    var carry = (r / 0x4000000) | 0;\n    out.words[0] = lo;\n\n    for (var k = 1; k < len; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = carry >>> 26;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = (k - j) | 0;\n        a = self.words[i] | 0;\n        b = num.words[j] | 0;\n        r = a * b + rword;\n        ncarry += (r / 0x4000000) | 0;\n        rword = r & 0x3ffffff;\n      }\n      out.words[k] = rword | 0;\n      carry = ncarry | 0;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry | 0;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  // TODO(indutny): it may be reasonable to omit it for users who don't need\n  // to work with 256-bit numbers, otherwise it gives 20% improvement for 256-bit\n  // multiplication (like elliptic secp256k1).\n  var comb10MulTo = function comb10MulTo (self, num, out) {\n    var a = self.words;\n    var b = num.words;\n    var o = out.words;\n    var c = 0;\n    var lo;\n    var mid;\n    var hi;\n    var a0 = a[0] | 0;\n    var al0 = a0 & 0x1fff;\n    var ah0 = a0 >>> 13;\n    var a1 = a[1] | 0;\n    var al1 = a1 & 0x1fff;\n    var ah1 = a1 >>> 13;\n    var a2 = a[2] | 0;\n    var al2 = a2 & 0x1fff;\n    var ah2 = a2 >>> 13;\n    var a3 = a[3] | 0;\n    var al3 = a3 & 0x1fff;\n    var ah3 = a3 >>> 13;\n    var a4 = a[4] | 0;\n    var al4 = a4 & 0x1fff;\n    var ah4 = a4 >>> 13;\n    var a5 = a[5] | 0;\n    var al5 = a5 & 0x1fff;\n    var ah5 = a5 >>> 13;\n    var a6 = a[6] | 0;\n    var al6 = a6 & 0x1fff;\n    var ah6 = a6 >>> 13;\n    var a7 = a[7] | 0;\n    var al7 = a7 & 0x1fff;\n    var ah7 = a7 >>> 13;\n    var a8 = a[8] | 0;\n    var al8 = a8 & 0x1fff;\n    var ah8 = a8 >>> 13;\n    var a9 = a[9] | 0;\n    var al9 = a9 & 0x1fff;\n    var ah9 = a9 >>> 13;\n    var b0 = b[0] | 0;\n    var bl0 = b0 & 0x1fff;\n    var bh0 = b0 >>> 13;\n    var b1 = b[1] | 0;\n    var bl1 = b1 & 0x1fff;\n    var bh1 = b1 >>> 13;\n    var b2 = b[2] | 0;\n    var bl2 = b2 & 0x1fff;\n    var bh2 = b2 >>> 13;\n    var b3 = b[3] | 0;\n    var bl3 = b3 & 0x1fff;\n    var bh3 = b3 >>> 13;\n    var b4 = b[4] | 0;\n    var bl4 = b4 & 0x1fff;\n    var bh4 = b4 >>> 13;\n    var b5 = b[5] | 0;\n    var bl5 = b5 & 0x1fff;\n    var bh5 = b5 >>> 13;\n    var b6 = b[6] | 0;\n    var bl6 = b6 & 0x1fff;\n    var bh6 = b6 >>> 13;\n    var b7 = b[7] | 0;\n    var bl7 = b7 & 0x1fff;\n    var bh7 = b7 >>> 13;\n    var b8 = b[8] | 0;\n    var bl8 = b8 & 0x1fff;\n    var bh8 = b8 >>> 13;\n    var b9 = b[9] | 0;\n    var bl9 = b9 & 0x1fff;\n    var bh9 = b9 >>> 13;\n\n    out.negative = self.negative ^ num.negative;\n    out.length = 19;\n    /* k = 0 */\n    lo = Math.imul(al0, bl0);\n    mid = Math.imul(al0, bh0);\n    mid = (mid + Math.imul(ah0, bl0)) | 0;\n    hi = Math.imul(ah0, bh0);\n    var w0 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w0 >>> 26)) | 0;\n    w0 &= 0x3ffffff;\n    /* k = 1 */\n    lo = Math.imul(al1, bl0);\n    mid = Math.imul(al1, bh0);\n    mid = (mid + Math.imul(ah1, bl0)) | 0;\n    hi = Math.imul(ah1, bh0);\n    lo = (lo + Math.imul(al0, bl1)) | 0;\n    mid = (mid + Math.imul(al0, bh1)) | 0;\n    mid = (mid + Math.imul(ah0, bl1)) | 0;\n    hi = (hi + Math.imul(ah0, bh1)) | 0;\n    var w1 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w1 >>> 26)) | 0;\n    w1 &= 0x3ffffff;\n    /* k = 2 */\n    lo = Math.imul(al2, bl0);\n    mid = Math.imul(al2, bh0);\n    mid = (mid + Math.imul(ah2, bl0)) | 0;\n    hi = Math.imul(ah2, bh0);\n    lo = (lo + Math.imul(al1, bl1)) | 0;\n    mid = (mid + Math.imul(al1, bh1)) | 0;\n    mid = (mid + Math.imul(ah1, bl1)) | 0;\n    hi = (hi + Math.imul(ah1, bh1)) | 0;\n    lo = (lo + Math.imul(al0, bl2)) | 0;\n    mid = (mid + Math.imul(al0, bh2)) | 0;\n    mid = (mid + Math.imul(ah0, bl2)) | 0;\n    hi = (hi + Math.imul(ah0, bh2)) | 0;\n    var w2 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w2 >>> 26)) | 0;\n    w2 &= 0x3ffffff;\n    /* k = 3 */\n    lo = Math.imul(al3, bl0);\n    mid = Math.imul(al3, bh0);\n    mid = (mid + Math.imul(ah3, bl0)) | 0;\n    hi = Math.imul(ah3, bh0);\n    lo = (lo + Math.imul(al2, bl1)) | 0;\n    mid = (mid + Math.imul(al2, bh1)) | 0;\n    mid = (mid + Math.imul(ah2, bl1)) | 0;\n    hi = (hi + Math.imul(ah2, bh1)) | 0;\n    lo = (lo + Math.imul(al1, bl2)) | 0;\n    mid = (mid + Math.imul(al1, bh2)) | 0;\n    mid = (mid + Math.imul(ah1, bl2)) | 0;\n    hi = (hi + Math.imul(ah1, bh2)) | 0;\n    lo = (lo + Math.imul(al0, bl3)) | 0;\n    mid = (mid + Math.imul(al0, bh3)) | 0;\n    mid = (mid + Math.imul(ah0, bl3)) | 0;\n    hi = (hi + Math.imul(ah0, bh3)) | 0;\n    var w3 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w3 >>> 26)) | 0;\n    w3 &= 0x3ffffff;\n    /* k = 4 */\n    lo = Math.imul(al4, bl0);\n    mid = Math.imul(al4, bh0);\n    mid = (mid + Math.imul(ah4, bl0)) | 0;\n    hi = Math.imul(ah4, bh0);\n    lo = (lo + Math.imul(al3, bl1)) | 0;\n    mid = (mid + Math.imul(al3, bh1)) | 0;\n    mid = (mid + Math.imul(ah3, bl1)) | 0;\n    hi = (hi + Math.imul(ah3, bh1)) | 0;\n    lo = (lo + Math.imul(al2, bl2)) | 0;\n    mid = (mid + Math.imul(al2, bh2)) | 0;\n    mid = (mid + Math.imul(ah2, bl2)) | 0;\n    hi = (hi + Math.imul(ah2, bh2)) | 0;\n    lo = (lo + Math.imul(al1, bl3)) | 0;\n    mid = (mid + Math.imul(al1, bh3)) | 0;\n    mid = (mid + Math.imul(ah1, bl3)) | 0;\n    hi = (hi + Math.imul(ah1, bh3)) | 0;\n    lo = (lo + Math.imul(al0, bl4)) | 0;\n    mid = (mid + Math.imul(al0, bh4)) | 0;\n    mid = (mid + Math.imul(ah0, bl4)) | 0;\n    hi = (hi + Math.imul(ah0, bh4)) | 0;\n    var w4 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w4 >>> 26)) | 0;\n    w4 &= 0x3ffffff;\n    /* k = 5 */\n    lo = Math.imul(al5, bl0);\n    mid = Math.imul(al5, bh0);\n    mid = (mid + Math.imul(ah5, bl0)) | 0;\n    hi = Math.imul(ah5, bh0);\n    lo = (lo + Math.imul(al4, bl1)) | 0;\n    mid = (mid + Math.imul(al4, bh1)) | 0;\n    mid = (mid + Math.imul(ah4, bl1)) | 0;\n    hi = (hi + Math.imul(ah4, bh1)) | 0;\n    lo = (lo + Math.imul(al3, bl2)) | 0;\n    mid = (mid + Math.imul(al3, bh2)) | 0;\n    mid = (mid + Math.imul(ah3, bl2)) | 0;\n    hi = (hi + Math.imul(ah3, bh2)) | 0;\n    lo = (lo + Math.imul(al2, bl3)) | 0;\n    mid = (mid + Math.imul(al2, bh3)) | 0;\n    mid = (mid + Math.imul(ah2, bl3)) | 0;\n    hi = (hi + Math.imul(ah2, bh3)) | 0;\n    lo = (lo + Math.imul(al1, bl4)) | 0;\n    mid = (mid + Math.imul(al1, bh4)) | 0;\n    mid = (mid + Math.imul(ah1, bl4)) | 0;\n    hi = (hi + Math.imul(ah1, bh4)) | 0;\n    lo = (lo + Math.imul(al0, bl5)) | 0;\n    mid = (mid + Math.imul(al0, bh5)) | 0;\n    mid = (mid + Math.imul(ah0, bl5)) | 0;\n    hi = (hi + Math.imul(ah0, bh5)) | 0;\n    var w5 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w5 >>> 26)) | 0;\n    w5 &= 0x3ffffff;\n    /* k = 6 */\n    lo = Math.imul(al6, bl0);\n    mid = Math.imul(al6, bh0);\n    mid = (mid + Math.imul(ah6, bl0)) | 0;\n    hi = Math.imul(ah6, bh0);\n    lo = (lo + Math.imul(al5, bl1)) | 0;\n    mid = (mid + Math.imul(al5, bh1)) | 0;\n    mid = (mid + Math.imul(ah5, bl1)) | 0;\n    hi = (hi + Math.imul(ah5, bh1)) | 0;\n    lo = (lo + Math.imul(al4, bl2)) | 0;\n    mid = (mid + Math.imul(al4, bh2)) | 0;\n    mid = (mid + Math.imul(ah4, bl2)) | 0;\n    hi = (hi + Math.imul(ah4, bh2)) | 0;\n    lo = (lo + Math.imul(al3, bl3)) | 0;\n    mid = (mid + Math.imul(al3, bh3)) | 0;\n    mid = (mid + Math.imul(ah3, bl3)) | 0;\n    hi = (hi + Math.imul(ah3, bh3)) | 0;\n    lo = (lo + Math.imul(al2, bl4)) | 0;\n    mid = (mid + Math.imul(al2, bh4)) | 0;\n    mid = (mid + Math.imul(ah2, bl4)) | 0;\n    hi = (hi + Math.imul(ah2, bh4)) | 0;\n    lo = (lo + Math.imul(al1, bl5)) | 0;\n    mid = (mid + Math.imul(al1, bh5)) | 0;\n    mid = (mid + Math.imul(ah1, bl5)) | 0;\n    hi = (hi + Math.imul(ah1, bh5)) | 0;\n    lo = (lo + Math.imul(al0, bl6)) | 0;\n    mid = (mid + Math.imul(al0, bh6)) | 0;\n    mid = (mid + Math.imul(ah0, bl6)) | 0;\n    hi = (hi + Math.imul(ah0, bh6)) | 0;\n    var w6 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w6 >>> 26)) | 0;\n    w6 &= 0x3ffffff;\n    /* k = 7 */\n    lo = Math.imul(al7, bl0);\n    mid = Math.imul(al7, bh0);\n    mid = (mid + Math.imul(ah7, bl0)) | 0;\n    hi = Math.imul(ah7, bh0);\n    lo = (lo + Math.imul(al6, bl1)) | 0;\n    mid = (mid + Math.imul(al6, bh1)) | 0;\n    mid = (mid + Math.imul(ah6, bl1)) | 0;\n    hi = (hi + Math.imul(ah6, bh1)) | 0;\n    lo = (lo + Math.imul(al5, bl2)) | 0;\n    mid = (mid + Math.imul(al5, bh2)) | 0;\n    mid = (mid + Math.imul(ah5, bl2)) | 0;\n    hi = (hi + Math.imul(ah5, bh2)) | 0;\n    lo = (lo + Math.imul(al4, bl3)) | 0;\n    mid = (mid + Math.imul(al4, bh3)) | 0;\n    mid = (mid + Math.imul(ah4, bl3)) | 0;\n    hi = (hi + Math.imul(ah4, bh3)) | 0;\n    lo = (lo + Math.imul(al3, bl4)) | 0;\n    mid = (mid + Math.imul(al3, bh4)) | 0;\n    mid = (mid + Math.imul(ah3, bl4)) | 0;\n    hi = (hi + Math.imul(ah3, bh4)) | 0;\n    lo = (lo + Math.imul(al2, bl5)) | 0;\n    mid = (mid + Math.imul(al2, bh5)) | 0;\n    mid = (mid + Math.imul(ah2, bl5)) | 0;\n    hi = (hi + Math.imul(ah2, bh5)) | 0;\n    lo = (lo + Math.imul(al1, bl6)) | 0;\n    mid = (mid + Math.imul(al1, bh6)) | 0;\n    mid = (mid + Math.imul(ah1, bl6)) | 0;\n    hi = (hi + Math.imul(ah1, bh6)) | 0;\n    lo = (lo + Math.imul(al0, bl7)) | 0;\n    mid = (mid + Math.imul(al0, bh7)) | 0;\n    mid = (mid + Math.imul(ah0, bl7)) | 0;\n    hi = (hi + Math.imul(ah0, bh7)) | 0;\n    var w7 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w7 >>> 26)) | 0;\n    w7 &= 0x3ffffff;\n    /* k = 8 */\n    lo = Math.imul(al8, bl0);\n    mid = Math.imul(al8, bh0);\n    mid = (mid + Math.imul(ah8, bl0)) | 0;\n    hi = Math.imul(ah8, bh0);\n    lo = (lo + Math.imul(al7, bl1)) | 0;\n    mid = (mid + Math.imul(al7, bh1)) | 0;\n    mid = (mid + Math.imul(ah7, bl1)) | 0;\n    hi = (hi + Math.imul(ah7, bh1)) | 0;\n    lo = (lo + Math.imul(al6, bl2)) | 0;\n    mid = (mid + Math.imul(al6, bh2)) | 0;\n    mid = (mid + Math.imul(ah6, bl2)) | 0;\n    hi = (hi + Math.imul(ah6, bh2)) | 0;\n    lo = (lo + Math.imul(al5, bl3)) | 0;\n    mid = (mid + Math.imul(al5, bh3)) | 0;\n    mid = (mid + Math.imul(ah5, bl3)) | 0;\n    hi = (hi + Math.imul(ah5, bh3)) | 0;\n    lo = (lo + Math.imul(al4, bl4)) | 0;\n    mid = (mid + Math.imul(al4, bh4)) | 0;\n    mid = (mid + Math.imul(ah4, bl4)) | 0;\n    hi = (hi + Math.imul(ah4, bh4)) | 0;\n    lo = (lo + Math.imul(al3, bl5)) | 0;\n    mid = (mid + Math.imul(al3, bh5)) | 0;\n    mid = (mid + Math.imul(ah3, bl5)) | 0;\n    hi = (hi + Math.imul(ah3, bh5)) | 0;\n    lo = (lo + Math.imul(al2, bl6)) | 0;\n    mid = (mid + Math.imul(al2, bh6)) | 0;\n    mid = (mid + Math.imul(ah2, bl6)) | 0;\n    hi = (hi + Math.imul(ah2, bh6)) | 0;\n    lo = (lo + Math.imul(al1, bl7)) | 0;\n    mid = (mid + Math.imul(al1, bh7)) | 0;\n    mid = (mid + Math.imul(ah1, bl7)) | 0;\n    hi = (hi + Math.imul(ah1, bh7)) | 0;\n    lo = (lo + Math.imul(al0, bl8)) | 0;\n    mid = (mid + Math.imul(al0, bh8)) | 0;\n    mid = (mid + Math.imul(ah0, bl8)) | 0;\n    hi = (hi + Math.imul(ah0, bh8)) | 0;\n    var w8 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w8 >>> 26)) | 0;\n    w8 &= 0x3ffffff;\n    /* k = 9 */\n    lo = Math.imul(al9, bl0);\n    mid = Math.imul(al9, bh0);\n    mid = (mid + Math.imul(ah9, bl0)) | 0;\n    hi = Math.imul(ah9, bh0);\n    lo = (lo + Math.imul(al8, bl1)) | 0;\n    mid = (mid + Math.imul(al8, bh1)) | 0;\n    mid = (mid + Math.imul(ah8, bl1)) | 0;\n    hi = (hi + Math.imul(ah8, bh1)) | 0;\n    lo = (lo + Math.imul(al7, bl2)) | 0;\n    mid = (mid + Math.imul(al7, bh2)) | 0;\n    mid = (mid + Math.imul(ah7, bl2)) | 0;\n    hi = (hi + Math.imul(ah7, bh2)) | 0;\n    lo = (lo + Math.imul(al6, bl3)) | 0;\n    mid = (mid + Math.imul(al6, bh3)) | 0;\n    mid = (mid + Math.imul(ah6, bl3)) | 0;\n    hi = (hi + Math.imul(ah6, bh3)) | 0;\n    lo = (lo + Math.imul(al5, bl4)) | 0;\n    mid = (mid + Math.imul(al5, bh4)) | 0;\n    mid = (mid + Math.imul(ah5, bl4)) | 0;\n    hi = (hi + Math.imul(ah5, bh4)) | 0;\n    lo = (lo + Math.imul(al4, bl5)) | 0;\n    mid = (mid + Math.imul(al4, bh5)) | 0;\n    mid = (mid + Math.imul(ah4, bl5)) | 0;\n    hi = (hi + Math.imul(ah4, bh5)) | 0;\n    lo = (lo + Math.imul(al3, bl6)) | 0;\n    mid = (mid + Math.imul(al3, bh6)) | 0;\n    mid = (mid + Math.imul(ah3, bl6)) | 0;\n    hi = (hi + Math.imul(ah3, bh6)) | 0;\n    lo = (lo + Math.imul(al2, bl7)) | 0;\n    mid = (mid + Math.imul(al2, bh7)) | 0;\n    mid = (mid + Math.imul(ah2, bl7)) | 0;\n    hi = (hi + Math.imul(ah2, bh7)) | 0;\n    lo = (lo + Math.imul(al1, bl8)) | 0;\n    mid = (mid + Math.imul(al1, bh8)) | 0;\n    mid = (mid + Math.imul(ah1, bl8)) | 0;\n    hi = (hi + Math.imul(ah1, bh8)) | 0;\n    lo = (lo + Math.imul(al0, bl9)) | 0;\n    mid = (mid + Math.imul(al0, bh9)) | 0;\n    mid = (mid + Math.imul(ah0, bl9)) | 0;\n    hi = (hi + Math.imul(ah0, bh9)) | 0;\n    var w9 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w9 >>> 26)) | 0;\n    w9 &= 0x3ffffff;\n    /* k = 10 */\n    lo = Math.imul(al9, bl1);\n    mid = Math.imul(al9, bh1);\n    mid = (mid + Math.imul(ah9, bl1)) | 0;\n    hi = Math.imul(ah9, bh1);\n    lo = (lo + Math.imul(al8, bl2)) | 0;\n    mid = (mid + Math.imul(al8, bh2)) | 0;\n    mid = (mid + Math.imul(ah8, bl2)) | 0;\n    hi = (hi + Math.imul(ah8, bh2)) | 0;\n    lo = (lo + Math.imul(al7, bl3)) | 0;\n    mid = (mid + Math.imul(al7, bh3)) | 0;\n    mid = (mid + Math.imul(ah7, bl3)) | 0;\n    hi = (hi + Math.imul(ah7, bh3)) | 0;\n    lo = (lo + Math.imul(al6, bl4)) | 0;\n    mid = (mid + Math.imul(al6, bh4)) | 0;\n    mid = (mid + Math.imul(ah6, bl4)) | 0;\n    hi = (hi + Math.imul(ah6, bh4)) | 0;\n    lo = (lo + Math.imul(al5, bl5)) | 0;\n    mid = (mid + Math.imul(al5, bh5)) | 0;\n    mid = (mid + Math.imul(ah5, bl5)) | 0;\n    hi = (hi + Math.imul(ah5, bh5)) | 0;\n    lo = (lo + Math.imul(al4, bl6)) | 0;\n    mid = (mid + Math.imul(al4, bh6)) | 0;\n    mid = (mid + Math.imul(ah4, bl6)) | 0;\n    hi = (hi + Math.imul(ah4, bh6)) | 0;\n    lo = (lo + Math.imul(al3, bl7)) | 0;\n    mid = (mid + Math.imul(al3, bh7)) | 0;\n    mid = (mid + Math.imul(ah3, bl7)) | 0;\n    hi = (hi + Math.imul(ah3, bh7)) | 0;\n    lo = (lo + Math.imul(al2, bl8)) | 0;\n    mid = (mid + Math.imul(al2, bh8)) | 0;\n    mid = (mid + Math.imul(ah2, bl8)) | 0;\n    hi = (hi + Math.imul(ah2, bh8)) | 0;\n    lo = (lo + Math.imul(al1, bl9)) | 0;\n    mid = (mid + Math.imul(al1, bh9)) | 0;\n    mid = (mid + Math.imul(ah1, bl9)) | 0;\n    hi = (hi + Math.imul(ah1, bh9)) | 0;\n    var w10 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w10 >>> 26)) | 0;\n    w10 &= 0x3ffffff;\n    /* k = 11 */\n    lo = Math.imul(al9, bl2);\n    mid = Math.imul(al9, bh2);\n    mid = (mid + Math.imul(ah9, bl2)) | 0;\n    hi = Math.imul(ah9, bh2);\n    lo = (lo + Math.imul(al8, bl3)) | 0;\n    mid = (mid + Math.imul(al8, bh3)) | 0;\n    mid = (mid + Math.imul(ah8, bl3)) | 0;\n    hi = (hi + Math.imul(ah8, bh3)) | 0;\n    lo = (lo + Math.imul(al7, bl4)) | 0;\n    mid = (mid + Math.imul(al7, bh4)) | 0;\n    mid = (mid + Math.imul(ah7, bl4)) | 0;\n    hi = (hi + Math.imul(ah7, bh4)) | 0;\n    lo = (lo + Math.imul(al6, bl5)) | 0;\n    mid = (mid + Math.imul(al6, bh5)) | 0;\n    mid = (mid + Math.imul(ah6, bl5)) | 0;\n    hi = (hi + Math.imul(ah6, bh5)) | 0;\n    lo = (lo + Math.imul(al5, bl6)) | 0;\n    mid = (mid + Math.imul(al5, bh6)) | 0;\n    mid = (mid + Math.imul(ah5, bl6)) | 0;\n    hi = (hi + Math.imul(ah5, bh6)) | 0;\n    lo = (lo + Math.imul(al4, bl7)) | 0;\n    mid = (mid + Math.imul(al4, bh7)) | 0;\n    mid = (mid + Math.imul(ah4, bl7)) | 0;\n    hi = (hi + Math.imul(ah4, bh7)) | 0;\n    lo = (lo + Math.imul(al3, bl8)) | 0;\n    mid = (mid + Math.imul(al3, bh8)) | 0;\n    mid = (mid + Math.imul(ah3, bl8)) | 0;\n    hi = (hi + Math.imul(ah3, bh8)) | 0;\n    lo = (lo + Math.imul(al2, bl9)) | 0;\n    mid = (mid + Math.imul(al2, bh9)) | 0;\n    mid = (mid + Math.imul(ah2, bl9)) | 0;\n    hi = (hi + Math.imul(ah2, bh9)) | 0;\n    var w11 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w11 >>> 26)) | 0;\n    w11 &= 0x3ffffff;\n    /* k = 12 */\n    lo = Math.imul(al9, bl3);\n    mid = Math.imul(al9, bh3);\n    mid = (mid + Math.imul(ah9, bl3)) | 0;\n    hi = Math.imul(ah9, bh3);\n    lo = (lo + Math.imul(al8, bl4)) | 0;\n    mid = (mid + Math.imul(al8, bh4)) | 0;\n    mid = (mid + Math.imul(ah8, bl4)) | 0;\n    hi = (hi + Math.imul(ah8, bh4)) | 0;\n    lo = (lo + Math.imul(al7, bl5)) | 0;\n    mid = (mid + Math.imul(al7, bh5)) | 0;\n    mid = (mid + Math.imul(ah7, bl5)) | 0;\n    hi = (hi + Math.imul(ah7, bh5)) | 0;\n    lo = (lo + Math.imul(al6, bl6)) | 0;\n    mid = (mid + Math.imul(al6, bh6)) | 0;\n    mid = (mid + Math.imul(ah6, bl6)) | 0;\n    hi = (hi + Math.imul(ah6, bh6)) | 0;\n    lo = (lo + Math.imul(al5, bl7)) | 0;\n    mid = (mid + Math.imul(al5, bh7)) | 0;\n    mid = (mid + Math.imul(ah5, bl7)) | 0;\n    hi = (hi + Math.imul(ah5, bh7)) | 0;\n    lo = (lo + Math.imul(al4, bl8)) | 0;\n    mid = (mid + Math.imul(al4, bh8)) | 0;\n    mid = (mid + Math.imul(ah4, bl8)) | 0;\n    hi = (hi + Math.imul(ah4, bh8)) | 0;\n    lo = (lo + Math.imul(al3, bl9)) | 0;\n    mid = (mid + Math.imul(al3, bh9)) | 0;\n    mid = (mid + Math.imul(ah3, bl9)) | 0;\n    hi = (hi + Math.imul(ah3, bh9)) | 0;\n    var w12 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w12 >>> 26)) | 0;\n    w12 &= 0x3ffffff;\n    /* k = 13 */\n    lo = Math.imul(al9, bl4);\n    mid = Math.imul(al9, bh4);\n    mid = (mid + Math.imul(ah9, bl4)) | 0;\n    hi = Math.imul(ah9, bh4);\n    lo = (lo + Math.imul(al8, bl5)) | 0;\n    mid = (mid + Math.imul(al8, bh5)) | 0;\n    mid = (mid + Math.imul(ah8, bl5)) | 0;\n    hi = (hi + Math.imul(ah8, bh5)) | 0;\n    lo = (lo + Math.imul(al7, bl6)) | 0;\n    mid = (mid + Math.imul(al7, bh6)) | 0;\n    mid = (mid + Math.imul(ah7, bl6)) | 0;\n    hi = (hi + Math.imul(ah7, bh6)) | 0;\n    lo = (lo + Math.imul(al6, bl7)) | 0;\n    mid = (mid + Math.imul(al6, bh7)) | 0;\n    mid = (mid + Math.imul(ah6, bl7)) | 0;\n    hi = (hi + Math.imul(ah6, bh7)) | 0;\n    lo = (lo + Math.imul(al5, bl8)) | 0;\n    mid = (mid + Math.imul(al5, bh8)) | 0;\n    mid = (mid + Math.imul(ah5, bl8)) | 0;\n    hi = (hi + Math.imul(ah5, bh8)) | 0;\n    lo = (lo + Math.imul(al4, bl9)) | 0;\n    mid = (mid + Math.imul(al4, bh9)) | 0;\n    mid = (mid + Math.imul(ah4, bl9)) | 0;\n    hi = (hi + Math.imul(ah4, bh9)) | 0;\n    var w13 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w13 >>> 26)) | 0;\n    w13 &= 0x3ffffff;\n    /* k = 14 */\n    lo = Math.imul(al9, bl5);\n    mid = Math.imul(al9, bh5);\n    mid = (mid + Math.imul(ah9, bl5)) | 0;\n    hi = Math.imul(ah9, bh5);\n    lo = (lo + Math.imul(al8, bl6)) | 0;\n    mid = (mid + Math.imul(al8, bh6)) | 0;\n    mid = (mid + Math.imul(ah8, bl6)) | 0;\n    hi = (hi + Math.imul(ah8, bh6)) | 0;\n    lo = (lo + Math.imul(al7, bl7)) | 0;\n    mid = (mid + Math.imul(al7, bh7)) | 0;\n    mid = (mid + Math.imul(ah7, bl7)) | 0;\n    hi = (hi + Math.imul(ah7, bh7)) | 0;\n    lo = (lo + Math.imul(al6, bl8)) | 0;\n    mid = (mid + Math.imul(al6, bh8)) | 0;\n    mid = (mid + Math.imul(ah6, bl8)) | 0;\n    hi = (hi + Math.imul(ah6, bh8)) | 0;\n    lo = (lo + Math.imul(al5, bl9)) | 0;\n    mid = (mid + Math.imul(al5, bh9)) | 0;\n    mid = (mid + Math.imul(ah5, bl9)) | 0;\n    hi = (hi + Math.imul(ah5, bh9)) | 0;\n    var w14 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w14 >>> 26)) | 0;\n    w14 &= 0x3ffffff;\n    /* k = 15 */\n    lo = Math.imul(al9, bl6);\n    mid = Math.imul(al9, bh6);\n    mid = (mid + Math.imul(ah9, bl6)) | 0;\n    hi = Math.imul(ah9, bh6);\n    lo = (lo + Math.imul(al8, bl7)) | 0;\n    mid = (mid + Math.imul(al8, bh7)) | 0;\n    mid = (mid + Math.imul(ah8, bl7)) | 0;\n    hi = (hi + Math.imul(ah8, bh7)) | 0;\n    lo = (lo + Math.imul(al7, bl8)) | 0;\n    mid = (mid + Math.imul(al7, bh8)) | 0;\n    mid = (mid + Math.imul(ah7, bl8)) | 0;\n    hi = (hi + Math.imul(ah7, bh8)) | 0;\n    lo = (lo + Math.imul(al6, bl9)) | 0;\n    mid = (mid + Math.imul(al6, bh9)) | 0;\n    mid = (mid + Math.imul(ah6, bl9)) | 0;\n    hi = (hi + Math.imul(ah6, bh9)) | 0;\n    var w15 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w15 >>> 26)) | 0;\n    w15 &= 0x3ffffff;\n    /* k = 16 */\n    lo = Math.imul(al9, bl7);\n    mid = Math.imul(al9, bh7);\n    mid = (mid + Math.imul(ah9, bl7)) | 0;\n    hi = Math.imul(ah9, bh7);\n    lo = (lo + Math.imul(al8, bl8)) | 0;\n    mid = (mid + Math.imul(al8, bh8)) | 0;\n    mid = (mid + Math.imul(ah8, bl8)) | 0;\n    hi = (hi + Math.imul(ah8, bh8)) | 0;\n    lo = (lo + Math.imul(al7, bl9)) | 0;\n    mid = (mid + Math.imul(al7, bh9)) | 0;\n    mid = (mid + Math.imul(ah7, bl9)) | 0;\n    hi = (hi + Math.imul(ah7, bh9)) | 0;\n    var w16 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w16 >>> 26)) | 0;\n    w16 &= 0x3ffffff;\n    /* k = 17 */\n    lo = Math.imul(al9, bl8);\n    mid = Math.imul(al9, bh8);\n    mid = (mid + Math.imul(ah9, bl8)) | 0;\n    hi = Math.imul(ah9, bh8);\n    lo = (lo + Math.imul(al8, bl9)) | 0;\n    mid = (mid + Math.imul(al8, bh9)) | 0;\n    mid = (mid + Math.imul(ah8, bl9)) | 0;\n    hi = (hi + Math.imul(ah8, bh9)) | 0;\n    var w17 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w17 >>> 26)) | 0;\n    w17 &= 0x3ffffff;\n    /* k = 18 */\n    lo = Math.imul(al9, bl9);\n    mid = Math.imul(al9, bh9);\n    mid = (mid + Math.imul(ah9, bl9)) | 0;\n    hi = Math.imul(ah9, bh9);\n    var w18 = (((c + lo) | 0) + ((mid & 0x1fff) << 13)) | 0;\n    c = (((hi + (mid >>> 13)) | 0) + (w18 >>> 26)) | 0;\n    w18 &= 0x3ffffff;\n    o[0] = w0;\n    o[1] = w1;\n    o[2] = w2;\n    o[3] = w3;\n    o[4] = w4;\n    o[5] = w5;\n    o[6] = w6;\n    o[7] = w7;\n    o[8] = w8;\n    o[9] = w9;\n    o[10] = w10;\n    o[11] = w11;\n    o[12] = w12;\n    o[13] = w13;\n    o[14] = w14;\n    o[15] = w15;\n    o[16] = w16;\n    o[17] = w17;\n    o[18] = w18;\n    if (c !== 0) {\n      o[19] = c;\n      out.length++;\n    }\n    return out;\n  };\n\n  // Polyfill comb\n  if (!Math.imul) {\n    comb10MulTo = smallMulTo;\n  }\n\n  function bigMulTo (self, num, out) {\n    out.negative = num.negative ^ self.negative;\n    out.length = self.length + num.length;\n\n    var carry = 0;\n    var hncarry = 0;\n    for (var k = 0; k < out.length - 1; k++) {\n      // Sum all words with the same `i + j = k` and accumulate `ncarry`,\n      // note that ncarry could be >= 0x3ffffff\n      var ncarry = hncarry;\n      hncarry = 0;\n      var rword = carry & 0x3ffffff;\n      var maxJ = Math.min(k, num.length - 1);\n      for (var j = Math.max(0, k - self.length + 1); j <= maxJ; j++) {\n        var i = k - j;\n        var a = self.words[i] | 0;\n        var b = num.words[j] | 0;\n        var r = a * b;\n\n        var lo = r & 0x3ffffff;\n        ncarry = (ncarry + ((r / 0x4000000) | 0)) | 0;\n        lo = (lo + rword) | 0;\n        rword = lo & 0x3ffffff;\n        ncarry = (ncarry + (lo >>> 26)) | 0;\n\n        hncarry += ncarry >>> 26;\n        ncarry &= 0x3ffffff;\n      }\n      out.words[k] = rword;\n      carry = ncarry;\n      ncarry = hncarry;\n    }\n    if (carry !== 0) {\n      out.words[k] = carry;\n    } else {\n      out.length--;\n    }\n\n    return out._strip();\n  }\n\n  function jumboMulTo (self, num, out) {\n    // Temporary disable, see https://github.com/indutny/bn.js/issues/211\n    // var fftm = new FFTM();\n    // return fftm.mulp(self, num, out);\n    return bigMulTo(self, num, out);\n  }\n\n  BN.prototype.mulTo = function mulTo (num, out) {\n    var res;\n    var len = this.length + num.length;\n    if (this.length === 10 && num.length === 10) {\n      res = comb10MulTo(this, num, out);\n    } else if (len < 63) {\n      res = smallMulTo(this, num, out);\n    } else if (len < 1024) {\n      res = bigMulTo(this, num, out);\n    } else {\n      res = jumboMulTo(this, num, out);\n    }\n\n    return res;\n  };\n\n  // Cooley-Tukey algorithm for FFT\n  // slightly revisited to rely on looping instead of recursion\n\n  function FFTM (x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  FFTM.prototype.makeRBT = function makeRBT (N) {\n    var t = new Array(N);\n    var l = BN.prototype._countBits(N) - 1;\n    for (var i = 0; i < N; i++) {\n      t[i] = this.revBin(i, l, N);\n    }\n\n    return t;\n  };\n\n  // Returns binary-reversed representation of `x`\n  FFTM.prototype.revBin = function revBin (x, l, N) {\n    if (x === 0 || x === N - 1) return x;\n\n    var rb = 0;\n    for (var i = 0; i < l; i++) {\n      rb |= (x & 1) << (l - i - 1);\n      x >>= 1;\n    }\n\n    return rb;\n  };\n\n  // Performs \"tweedling\" phase, therefore 'emulating'\n  // behaviour of the recursive algorithm\n  FFTM.prototype.permute = function permute (rbt, rws, iws, rtws, itws, N) {\n    for (var i = 0; i < N; i++) {\n      rtws[i] = rws[rbt[i]];\n      itws[i] = iws[rbt[i]];\n    }\n  };\n\n  FFTM.prototype.transform = function transform (rws, iws, rtws, itws, N, rbt) {\n    this.permute(rbt, rws, iws, rtws, itws, N);\n\n    for (var s = 1; s < N; s <<= 1) {\n      var l = s << 1;\n\n      var rtwdf = Math.cos(2 * Math.PI / l);\n      var itwdf = Math.sin(2 * Math.PI / l);\n\n      for (var p = 0; p < N; p += l) {\n        var rtwdf_ = rtwdf;\n        var itwdf_ = itwdf;\n\n        for (var j = 0; j < s; j++) {\n          var re = rtws[p + j];\n          var ie = itws[p + j];\n\n          var ro = rtws[p + j + s];\n          var io = itws[p + j + s];\n\n          var rx = rtwdf_ * ro - itwdf_ * io;\n\n          io = rtwdf_ * io + itwdf_ * ro;\n          ro = rx;\n\n          rtws[p + j] = re + ro;\n          itws[p + j] = ie + io;\n\n          rtws[p + j + s] = re - ro;\n          itws[p + j + s] = ie - io;\n\n          /* jshint maxdepth : false */\n          if (j !== l) {\n            rx = rtwdf * rtwdf_ - itwdf * itwdf_;\n\n            itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;\n            rtwdf_ = rx;\n          }\n        }\n      }\n    }\n  };\n\n  FFTM.prototype.guessLen13b = function guessLen13b (n, m) {\n    var N = Math.max(m, n) | 1;\n    var odd = N & 1;\n    var i = 0;\n    for (N = N / 2 | 0; N; N = N >>> 1) {\n      i++;\n    }\n\n    return 1 << i + 1 + odd;\n  };\n\n  FFTM.prototype.conjugate = function conjugate (rws, iws, N) {\n    if (N <= 1) return;\n\n    for (var i = 0; i < N / 2; i++) {\n      var t = rws[i];\n\n      rws[i] = rws[N - i - 1];\n      rws[N - i - 1] = t;\n\n      t = iws[i];\n\n      iws[i] = -iws[N - i - 1];\n      iws[N - i - 1] = -t;\n    }\n  };\n\n  FFTM.prototype.normalize13b = function normalize13b (ws, N) {\n    var carry = 0;\n    for (var i = 0; i < N / 2; i++) {\n      var w = Math.round(ws[2 * i + 1] / N) * 0x2000 +\n        Math.round(ws[2 * i] / N) +\n        carry;\n\n      ws[i] = w & 0x3ffffff;\n\n      if (w < 0x4000000) {\n        carry = 0;\n      } else {\n        carry = w / 0x4000000 | 0;\n      }\n    }\n\n    return ws;\n  };\n\n  FFTM.prototype.convert13b = function convert13b (ws, len, rws, N) {\n    var carry = 0;\n    for (var i = 0; i < len; i++) {\n      carry = carry + (ws[i] | 0);\n\n      rws[2 * i] = carry & 0x1fff; carry = carry >>> 13;\n      rws[2 * i + 1] = carry & 0x1fff; carry = carry >>> 13;\n    }\n\n    // Pad with zeroes\n    for (i = 2 * len; i < N; ++i) {\n      rws[i] = 0;\n    }\n\n    assert(carry === 0);\n    assert((carry & ~0x1fff) === 0);\n  };\n\n  FFTM.prototype.stub = function stub (N) {\n    var ph = new Array(N);\n    for (var i = 0; i < N; i++) {\n      ph[i] = 0;\n    }\n\n    return ph;\n  };\n\n  FFTM.prototype.mulp = function mulp (x, y, out) {\n    var N = 2 * this.guessLen13b(x.length, y.length);\n\n    var rbt = this.makeRBT(N);\n\n    var _ = this.stub(N);\n\n    var rws = new Array(N);\n    var rwst = new Array(N);\n    var iwst = new Array(N);\n\n    var nrws = new Array(N);\n    var nrwst = new Array(N);\n    var niwst = new Array(N);\n\n    var rmws = out.words;\n    rmws.length = N;\n\n    this.convert13b(x.words, x.length, rws, N);\n    this.convert13b(y.words, y.length, nrws, N);\n\n    this.transform(rws, _, rwst, iwst, N, rbt);\n    this.transform(nrws, _, nrwst, niwst, N, rbt);\n\n    for (var i = 0; i < N; i++) {\n      var rx = rwst[i] * nrwst[i] - iwst[i] * niwst[i];\n      iwst[i] = rwst[i] * niwst[i] + iwst[i] * nrwst[i];\n      rwst[i] = rx;\n    }\n\n    this.conjugate(rwst, iwst, N);\n    this.transform(rwst, iwst, rmws, _, N, rbt);\n    this.conjugate(rmws, _, N);\n    this.normalize13b(rmws, N);\n\n    out.negative = x.negative ^ y.negative;\n    out.length = x.length + y.length;\n    return out._strip();\n  };\n\n  // Multiply `this` by `num`\n  BN.prototype.mul = function mul (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return this.mulTo(num, out);\n  };\n\n  // Multiply employing FFT\n  BN.prototype.mulf = function mulf (num) {\n    var out = new BN(null);\n    out.words = new Array(this.length + num.length);\n    return jumboMulTo(this, num, out);\n  };\n\n  // In-place Multiplication\n  BN.prototype.imul = function imul (num) {\n    return this.clone().mulTo(num, this);\n  };\n\n  BN.prototype.imuln = function imuln (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n\n    // Carry\n    var carry = 0;\n    for (var i = 0; i < this.length; i++) {\n      var w = (this.words[i] | 0) * num;\n      var lo = (w & 0x3ffffff) + (carry & 0x3ffffff);\n      carry >>= 26;\n      carry += (w / 0x4000000) | 0;\n      // NOTE: lo is 27bit maximum\n      carry += lo >>> 26;\n      this.words[i] = lo & 0x3ffffff;\n    }\n\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.muln = function muln (num) {\n    return this.clone().imuln(num);\n  };\n\n  // `this` * `this`\n  BN.prototype.sqr = function sqr () {\n    return this.mul(this);\n  };\n\n  // `this` * `this` in-place\n  BN.prototype.isqr = function isqr () {\n    return this.imul(this.clone());\n  };\n\n  // Math.pow(`this`, `num`)\n  BN.prototype.pow = function pow (num) {\n    var w = toBitArray(num);\n    if (w.length === 0) return new BN(1);\n\n    // Skip leading zeroes\n    var res = this;\n    for (var i = 0; i < w.length; i++, res = res.sqr()) {\n      if (w[i] !== 0) break;\n    }\n\n    if (++i < w.length) {\n      for (var q = res.sqr(); i < w.length; i++, q = q.sqr()) {\n        if (w[i] === 0) continue;\n\n        res = res.mul(q);\n      }\n    }\n\n    return res;\n  };\n\n  // Shift-left in-place\n  BN.prototype.iushln = function iushln (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n    var carryMask = (0x3ffffff >>> (26 - r)) << (26 - r);\n    var i;\n\n    if (r !== 0) {\n      var carry = 0;\n\n      for (i = 0; i < this.length; i++) {\n        var newCarry = this.words[i] & carryMask;\n        var c = ((this.words[i] | 0) - newCarry) << r;\n        this.words[i] = c | carry;\n        carry = newCarry >>> (26 - r);\n      }\n\n      if (carry) {\n        this.words[i] = carry;\n        this.length++;\n      }\n    }\n\n    if (s !== 0) {\n      for (i = this.length - 1; i >= 0; i--) {\n        this.words[i + s] = this.words[i];\n      }\n\n      for (i = 0; i < s; i++) {\n        this.words[i] = 0;\n      }\n\n      this.length += s;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishln = function ishln (bits) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushln(bits);\n  };\n\n  // Shift-right in-place\n  // NOTE: `hint` is a lowest bit before trailing zeroes\n  // NOTE: if `extended` is present - it will be filled with destroyed bits\n  BN.prototype.iushrn = function iushrn (bits, hint, extended) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var h;\n    if (hint) {\n      h = (hint - (hint % 26)) / 26;\n    } else {\n      h = 0;\n    }\n\n    var r = bits % 26;\n    var s = Math.min((bits - r) / 26, this.length);\n    var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n    var maskedWords = extended;\n\n    h -= s;\n    h = Math.max(0, h);\n\n    // Extended mode, copy masked part\n    if (maskedWords) {\n      for (var i = 0; i < s; i++) {\n        maskedWords.words[i] = this.words[i];\n      }\n      maskedWords.length = s;\n    }\n\n    if (s === 0) {\n      // No-op, we should not move anything at all\n    } else if (this.length > s) {\n      this.length -= s;\n      for (i = 0; i < this.length; i++) {\n        this.words[i] = this.words[i + s];\n      }\n    } else {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    var carry = 0;\n    for (i = this.length - 1; i >= 0 && (carry !== 0 || i >= h); i--) {\n      var word = this.words[i] | 0;\n      this.words[i] = (carry << (26 - r)) | (word >>> r);\n      carry = word & mask;\n    }\n\n    // Push carried bits as a mask\n    if (maskedWords && carry !== 0) {\n      maskedWords.words[maskedWords.length++] = carry;\n    }\n\n    if (this.length === 0) {\n      this.words[0] = 0;\n      this.length = 1;\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.ishrn = function ishrn (bits, hint, extended) {\n    // TODO(indutny): implement me\n    assert(this.negative === 0);\n    return this.iushrn(bits, hint, extended);\n  };\n\n  // Shift-left\n  BN.prototype.shln = function shln (bits) {\n    return this.clone().ishln(bits);\n  };\n\n  BN.prototype.ushln = function ushln (bits) {\n    return this.clone().iushln(bits);\n  };\n\n  // Shift-right\n  BN.prototype.shrn = function shrn (bits) {\n    return this.clone().ishrn(bits);\n  };\n\n  BN.prototype.ushrn = function ushrn (bits) {\n    return this.clone().iushrn(bits);\n  };\n\n  // Test if n bit is set\n  BN.prototype.testn = function testn (bit) {\n    assert(typeof bit === 'number' && bit >= 0);\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) return false;\n\n    // Check bit and return\n    var w = this.words[s];\n\n    return !!(w & q);\n  };\n\n  // Return only lowers bits of number (in-place)\n  BN.prototype.imaskn = function imaskn (bits) {\n    assert(typeof bits === 'number' && bits >= 0);\n    var r = bits % 26;\n    var s = (bits - r) / 26;\n\n    assert(this.negative === 0, 'imaskn works only with positive numbers');\n\n    if (this.length <= s) {\n      return this;\n    }\n\n    if (r !== 0) {\n      s++;\n    }\n    this.length = Math.min(s, this.length);\n\n    if (r !== 0) {\n      var mask = 0x3ffffff ^ ((0x3ffffff >>> r) << r);\n      this.words[this.length - 1] &= mask;\n    }\n\n    return this._strip();\n  };\n\n  // Return only lowers bits of number\n  BN.prototype.maskn = function maskn (bits) {\n    return this.clone().imaskn(bits);\n  };\n\n  // Add plain number `num` to `this`\n  BN.prototype.iaddn = function iaddn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.isubn(-num);\n\n    // Possible sign change\n    if (this.negative !== 0) {\n      if (this.length === 1 && (this.words[0] | 0) <= num) {\n        this.words[0] = num - (this.words[0] | 0);\n        this.negative = 0;\n        return this;\n      }\n\n      this.negative = 0;\n      this.isubn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    // Add without checks\n    return this._iaddn(num);\n  };\n\n  BN.prototype._iaddn = function _iaddn (num) {\n    this.words[0] += num;\n\n    // Carry\n    for (var i = 0; i < this.length && this.words[i] >= 0x4000000; i++) {\n      this.words[i] -= 0x4000000;\n      if (i === this.length - 1) {\n        this.words[i + 1] = 1;\n      } else {\n        this.words[i + 1]++;\n      }\n    }\n    this.length = Math.max(this.length, i + 1);\n\n    return this;\n  };\n\n  // Subtract plain number `num` from `this`\n  BN.prototype.isubn = function isubn (num) {\n    assert(typeof num === 'number');\n    assert(num < 0x4000000);\n    if (num < 0) return this.iaddn(-num);\n\n    if (this.negative !== 0) {\n      this.negative = 0;\n      this.iaddn(num);\n      this.negative = 1;\n      return this;\n    }\n\n    this.words[0] -= num;\n\n    if (this.length === 1 && this.words[0] < 0) {\n      this.words[0] = -this.words[0];\n      this.negative = 1;\n    } else {\n      // Carry\n      for (var i = 0; i < this.length && this.words[i] < 0; i++) {\n        this.words[i] += 0x4000000;\n        this.words[i + 1] -= 1;\n      }\n    }\n\n    return this._strip();\n  };\n\n  BN.prototype.addn = function addn (num) {\n    return this.clone().iaddn(num);\n  };\n\n  BN.prototype.subn = function subn (num) {\n    return this.clone().isubn(num);\n  };\n\n  BN.prototype.iabs = function iabs () {\n    this.negative = 0;\n\n    return this;\n  };\n\n  BN.prototype.abs = function abs () {\n    return this.clone().iabs();\n  };\n\n  BN.prototype._ishlnsubmul = function _ishlnsubmul (num, mul, shift) {\n    var len = num.length + shift;\n    var i;\n\n    this._expand(len);\n\n    var w;\n    var carry = 0;\n    for (i = 0; i < num.length; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      var right = (num.words[i] | 0) * mul;\n      w -= right & 0x3ffffff;\n      carry = (w >> 26) - ((right / 0x4000000) | 0);\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n    for (; i < this.length - shift; i++) {\n      w = (this.words[i + shift] | 0) + carry;\n      carry = w >> 26;\n      this.words[i + shift] = w & 0x3ffffff;\n    }\n\n    if (carry === 0) return this._strip();\n\n    // Subtraction overflow\n    assert(carry === -1);\n    carry = 0;\n    for (i = 0; i < this.length; i++) {\n      w = -(this.words[i] | 0) + carry;\n      carry = w >> 26;\n      this.words[i] = w & 0x3ffffff;\n    }\n    this.negative = 1;\n\n    return this._strip();\n  };\n\n  BN.prototype._wordDiv = function _wordDiv (num, mode) {\n    var shift = this.length - num.length;\n\n    var a = this.clone();\n    var b = num;\n\n    // Normalize\n    var bhi = b.words[b.length - 1] | 0;\n    var bhiBits = this._countBits(bhi);\n    shift = 26 - bhiBits;\n    if (shift !== 0) {\n      b = b.ushln(shift);\n      a.iushln(shift);\n      bhi = b.words[b.length - 1] | 0;\n    }\n\n    // Initialize quotient\n    var m = a.length - b.length;\n    var q;\n\n    if (mode !== 'mod') {\n      q = new BN(null);\n      q.length = m + 1;\n      q.words = new Array(q.length);\n      for (var i = 0; i < q.length; i++) {\n        q.words[i] = 0;\n      }\n    }\n\n    var diff = a.clone()._ishlnsubmul(b, 1, m);\n    if (diff.negative === 0) {\n      a = diff;\n      if (q) {\n        q.words[m] = 1;\n      }\n    }\n\n    for (var j = m - 1; j >= 0; j--) {\n      var qj = (a.words[b.length + j] | 0) * 0x4000000 +\n        (a.words[b.length + j - 1] | 0);\n\n      // NOTE: (qj / bhi) is (0x3ffffff * 0x4000000 + 0x3ffffff) / 0x2000000 max\n      // (0x7ffffff)\n      qj = Math.min((qj / bhi) | 0, 0x3ffffff);\n\n      a._ishlnsubmul(b, qj, j);\n      while (a.negative !== 0) {\n        qj--;\n        a.negative = 0;\n        a._ishlnsubmul(b, 1, j);\n        if (!a.isZero()) {\n          a.negative ^= 1;\n        }\n      }\n      if (q) {\n        q.words[j] = qj;\n      }\n    }\n    if (q) {\n      q._strip();\n    }\n    a._strip();\n\n    // Denormalize\n    if (mode !== 'div' && shift !== 0) {\n      a.iushrn(shift);\n    }\n\n    return {\n      div: q || null,\n      mod: a\n    };\n  };\n\n  // NOTE: 1) `mode` can be set to `mod` to request mod only,\n  //       to `div` to request div only, or be absent to\n  //       request both div & mod\n  //       2) `positive` is true if unsigned mod is requested\n  BN.prototype.divmod = function divmod (num, mode, positive) {\n    assert(!num.isZero());\n\n    if (this.isZero()) {\n      return {\n        div: new BN(0),\n        mod: new BN(0)\n      };\n    }\n\n    var div, mod, res;\n    if (this.negative !== 0 && num.negative === 0) {\n      res = this.neg().divmod(num, mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.iadd(num);\n        }\n      }\n\n      return {\n        div: div,\n        mod: mod\n      };\n    }\n\n    if (this.negative === 0 && num.negative !== 0) {\n      res = this.divmod(num.neg(), mode);\n\n      if (mode !== 'mod') {\n        div = res.div.neg();\n      }\n\n      return {\n        div: div,\n        mod: res.mod\n      };\n    }\n\n    if ((this.negative & num.negative) !== 0) {\n      res = this.neg().divmod(num.neg(), mode);\n\n      if (mode !== 'div') {\n        mod = res.mod.neg();\n        if (positive && mod.negative !== 0) {\n          mod.isub(num);\n        }\n      }\n\n      return {\n        div: res.div,\n        mod: mod\n      };\n    }\n\n    // Both numbers are positive at this point\n\n    // Strip both numbers to approximate shift value\n    if (num.length > this.length || this.cmp(num) < 0) {\n      return {\n        div: new BN(0),\n        mod: this\n      };\n    }\n\n    // Very short reduction\n    if (num.length === 1) {\n      if (mode === 'div') {\n        return {\n          div: this.divn(num.words[0]),\n          mod: null\n        };\n      }\n\n      if (mode === 'mod') {\n        return {\n          div: null,\n          mod: new BN(this.modrn(num.words[0]))\n        };\n      }\n\n      return {\n        div: this.divn(num.words[0]),\n        mod: new BN(this.modrn(num.words[0]))\n      };\n    }\n\n    return this._wordDiv(num, mode);\n  };\n\n  // Find `this` / `num`\n  BN.prototype.div = function div (num) {\n    return this.divmod(num, 'div', false).div;\n  };\n\n  // Find `this` % `num`\n  BN.prototype.mod = function mod (num) {\n    return this.divmod(num, 'mod', false).mod;\n  };\n\n  BN.prototype.umod = function umod (num) {\n    return this.divmod(num, 'mod', true).mod;\n  };\n\n  // Find Round(`this` / `num`)\n  BN.prototype.divRound = function divRound (num) {\n    var dm = this.divmod(num);\n\n    // Fast case - exact division\n    if (dm.mod.isZero()) return dm.div;\n\n    var mod = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;\n\n    var half = num.ushrn(1);\n    var r2 = num.andln(1);\n    var cmp = mod.cmp(half);\n\n    // Round down\n    if (cmp < 0 || (r2 === 1 && cmp === 0)) return dm.div;\n\n    // Round up\n    return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);\n  };\n\n  BN.prototype.modrn = function modrn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n    var p = (1 << 26) % num;\n\n    var acc = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      acc = (p * acc + (this.words[i] | 0)) % num;\n    }\n\n    return isNegNum ? -acc : acc;\n  };\n\n  // WARNING: DEPRECATED\n  BN.prototype.modn = function modn (num) {\n    return this.modrn(num);\n  };\n\n  // In-place division by number\n  BN.prototype.idivn = function idivn (num) {\n    var isNegNum = num < 0;\n    if (isNegNum) num = -num;\n\n    assert(num <= 0x3ffffff);\n\n    var carry = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var w = (this.words[i] | 0) + carry * 0x4000000;\n      this.words[i] = (w / num) | 0;\n      carry = w % num;\n    }\n\n    this._strip();\n    return isNegNum ? this.ineg() : this;\n  };\n\n  BN.prototype.divn = function divn (num) {\n    return this.clone().idivn(num);\n  };\n\n  BN.prototype.egcd = function egcd (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var x = this;\n    var y = p.clone();\n\n    if (x.negative !== 0) {\n      x = x.umod(p);\n    } else {\n      x = x.clone();\n    }\n\n    // A * x + B * y = x\n    var A = new BN(1);\n    var B = new BN(0);\n\n    // C * x + D * y = y\n    var C = new BN(0);\n    var D = new BN(1);\n\n    var g = 0;\n\n    while (x.isEven() && y.isEven()) {\n      x.iushrn(1);\n      y.iushrn(1);\n      ++g;\n    }\n\n    var yp = y.clone();\n    var xp = x.clone();\n\n    while (!x.isZero()) {\n      for (var i = 0, im = 1; (x.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        x.iushrn(i);\n        while (i-- > 0) {\n          if (A.isOdd() || B.isOdd()) {\n            A.iadd(yp);\n            B.isub(xp);\n          }\n\n          A.iushrn(1);\n          B.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (y.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        y.iushrn(j);\n        while (j-- > 0) {\n          if (C.isOdd() || D.isOdd()) {\n            C.iadd(yp);\n            D.isub(xp);\n          }\n\n          C.iushrn(1);\n          D.iushrn(1);\n        }\n      }\n\n      if (x.cmp(y) >= 0) {\n        x.isub(y);\n        A.isub(C);\n        B.isub(D);\n      } else {\n        y.isub(x);\n        C.isub(A);\n        D.isub(B);\n      }\n    }\n\n    return {\n      a: C,\n      b: D,\n      gcd: y.iushln(g)\n    };\n  };\n\n  // This is reduced incarnation of the binary EEA\n  // above, designated to invert members of the\n  // _prime_ fields F(p) at a maximal speed\n  BN.prototype._invmp = function _invmp (p) {\n    assert(p.negative === 0);\n    assert(!p.isZero());\n\n    var a = this;\n    var b = p.clone();\n\n    if (a.negative !== 0) {\n      a = a.umod(p);\n    } else {\n      a = a.clone();\n    }\n\n    var x1 = new BN(1);\n    var x2 = new BN(0);\n\n    var delta = b.clone();\n\n    while (a.cmpn(1) > 0 && b.cmpn(1) > 0) {\n      for (var i = 0, im = 1; (a.words[0] & im) === 0 && i < 26; ++i, im <<= 1);\n      if (i > 0) {\n        a.iushrn(i);\n        while (i-- > 0) {\n          if (x1.isOdd()) {\n            x1.iadd(delta);\n          }\n\n          x1.iushrn(1);\n        }\n      }\n\n      for (var j = 0, jm = 1; (b.words[0] & jm) === 0 && j < 26; ++j, jm <<= 1);\n      if (j > 0) {\n        b.iushrn(j);\n        while (j-- > 0) {\n          if (x2.isOdd()) {\n            x2.iadd(delta);\n          }\n\n          x2.iushrn(1);\n        }\n      }\n\n      if (a.cmp(b) >= 0) {\n        a.isub(b);\n        x1.isub(x2);\n      } else {\n        b.isub(a);\n        x2.isub(x1);\n      }\n    }\n\n    var res;\n    if (a.cmpn(1) === 0) {\n      res = x1;\n    } else {\n      res = x2;\n    }\n\n    if (res.cmpn(0) < 0) {\n      res.iadd(p);\n    }\n\n    return res;\n  };\n\n  BN.prototype.gcd = function gcd (num) {\n    if (this.isZero()) return num.abs();\n    if (num.isZero()) return this.abs();\n\n    var a = this.clone();\n    var b = num.clone();\n    a.negative = 0;\n    b.negative = 0;\n\n    // Remove common factor of two\n    for (var shift = 0; a.isEven() && b.isEven(); shift++) {\n      a.iushrn(1);\n      b.iushrn(1);\n    }\n\n    do {\n      while (a.isEven()) {\n        a.iushrn(1);\n      }\n      while (b.isEven()) {\n        b.iushrn(1);\n      }\n\n      var r = a.cmp(b);\n      if (r < 0) {\n        // Swap `a` and `b` to make `a` always bigger than `b`\n        var t = a;\n        a = b;\n        b = t;\n      } else if (r === 0 || b.cmpn(1) === 0) {\n        break;\n      }\n\n      a.isub(b);\n    } while (true);\n\n    return b.iushln(shift);\n  };\n\n  // Invert number in the field F(num)\n  BN.prototype.invm = function invm (num) {\n    return this.egcd(num).a.umod(num);\n  };\n\n  BN.prototype.isEven = function isEven () {\n    return (this.words[0] & 1) === 0;\n  };\n\n  BN.prototype.isOdd = function isOdd () {\n    return (this.words[0] & 1) === 1;\n  };\n\n  // And first word and num\n  BN.prototype.andln = function andln (num) {\n    return this.words[0] & num;\n  };\n\n  // Increment at the bit position in-line\n  BN.prototype.bincn = function bincn (bit) {\n    assert(typeof bit === 'number');\n    var r = bit % 26;\n    var s = (bit - r) / 26;\n    var q = 1 << r;\n\n    // Fast case: bit is much higher than all existing words\n    if (this.length <= s) {\n      this._expand(s + 1);\n      this.words[s] |= q;\n      return this;\n    }\n\n    // Add bit and propagate, if needed\n    var carry = q;\n    for (var i = s; carry !== 0 && i < this.length; i++) {\n      var w = this.words[i] | 0;\n      w += carry;\n      carry = w >>> 26;\n      w &= 0x3ffffff;\n      this.words[i] = w;\n    }\n    if (carry !== 0) {\n      this.words[i] = carry;\n      this.length++;\n    }\n    return this;\n  };\n\n  BN.prototype.isZero = function isZero () {\n    return this.length === 1 && this.words[0] === 0;\n  };\n\n  BN.prototype.cmpn = function cmpn (num) {\n    var negative = num < 0;\n\n    if (this.negative !== 0 && !negative) return -1;\n    if (this.negative === 0 && negative) return 1;\n\n    this._strip();\n\n    var res;\n    if (this.length > 1) {\n      res = 1;\n    } else {\n      if (negative) {\n        num = -num;\n      }\n\n      assert(num <= 0x3ffffff, 'Number is too big');\n\n      var w = this.words[0] | 0;\n      res = w === num ? 0 : w < num ? -1 : 1;\n    }\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Compare two numbers and return:\n  // 1 - if `this` > `num`\n  // 0 - if `this` == `num`\n  // -1 - if `this` < `num`\n  BN.prototype.cmp = function cmp (num) {\n    if (this.negative !== 0 && num.negative === 0) return -1;\n    if (this.negative === 0 && num.negative !== 0) return 1;\n\n    var res = this.ucmp(num);\n    if (this.negative !== 0) return -res | 0;\n    return res;\n  };\n\n  // Unsigned comparison\n  BN.prototype.ucmp = function ucmp (num) {\n    // At this point both numbers have the same sign\n    if (this.length > num.length) return 1;\n    if (this.length < num.length) return -1;\n\n    var res = 0;\n    for (var i = this.length - 1; i >= 0; i--) {\n      var a = this.words[i] | 0;\n      var b = num.words[i] | 0;\n\n      if (a === b) continue;\n      if (a < b) {\n        res = -1;\n      } else if (a > b) {\n        res = 1;\n      }\n      break;\n    }\n    return res;\n  };\n\n  BN.prototype.gtn = function gtn (num) {\n    return this.cmpn(num) === 1;\n  };\n\n  BN.prototype.gt = function gt (num) {\n    return this.cmp(num) === 1;\n  };\n\n  BN.prototype.gten = function gten (num) {\n    return this.cmpn(num) >= 0;\n  };\n\n  BN.prototype.gte = function gte (num) {\n    return this.cmp(num) >= 0;\n  };\n\n  BN.prototype.ltn = function ltn (num) {\n    return this.cmpn(num) === -1;\n  };\n\n  BN.prototype.lt = function lt (num) {\n    return this.cmp(num) === -1;\n  };\n\n  BN.prototype.lten = function lten (num) {\n    return this.cmpn(num) <= 0;\n  };\n\n  BN.prototype.lte = function lte (num) {\n    return this.cmp(num) <= 0;\n  };\n\n  BN.prototype.eqn = function eqn (num) {\n    return this.cmpn(num) === 0;\n  };\n\n  BN.prototype.eq = function eq (num) {\n    return this.cmp(num) === 0;\n  };\n\n  //\n  // A reduce context, could be using montgomery or something better, depending\n  // on the `m` itself.\n  //\n  BN.red = function red (num) {\n    return new Red(num);\n  };\n\n  BN.prototype.toRed = function toRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    assert(this.negative === 0, 'red works only with positives');\n    return ctx.convertTo(this)._forceRed(ctx);\n  };\n\n  BN.prototype.fromRed = function fromRed () {\n    assert(this.red, 'fromRed works only with numbers in reduction context');\n    return this.red.convertFrom(this);\n  };\n\n  BN.prototype._forceRed = function _forceRed (ctx) {\n    this.red = ctx;\n    return this;\n  };\n\n  BN.prototype.forceRed = function forceRed (ctx) {\n    assert(!this.red, 'Already a number in reduction context');\n    return this._forceRed(ctx);\n  };\n\n  BN.prototype.redAdd = function redAdd (num) {\n    assert(this.red, 'redAdd works only with red numbers');\n    return this.red.add(this, num);\n  };\n\n  BN.prototype.redIAdd = function redIAdd (num) {\n    assert(this.red, 'redIAdd works only with red numbers');\n    return this.red.iadd(this, num);\n  };\n\n  BN.prototype.redSub = function redSub (num) {\n    assert(this.red, 'redSub works only with red numbers');\n    return this.red.sub(this, num);\n  };\n\n  BN.prototype.redISub = function redISub (num) {\n    assert(this.red, 'redISub works only with red numbers');\n    return this.red.isub(this, num);\n  };\n\n  BN.prototype.redShl = function redShl (num) {\n    assert(this.red, 'redShl works only with red numbers');\n    return this.red.shl(this, num);\n  };\n\n  BN.prototype.redMul = function redMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.mul(this, num);\n  };\n\n  BN.prototype.redIMul = function redIMul (num) {\n    assert(this.red, 'redMul works only with red numbers');\n    this.red._verify2(this, num);\n    return this.red.imul(this, num);\n  };\n\n  BN.prototype.redSqr = function redSqr () {\n    assert(this.red, 'redSqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqr(this);\n  };\n\n  BN.prototype.redISqr = function redISqr () {\n    assert(this.red, 'redISqr works only with red numbers');\n    this.red._verify1(this);\n    return this.red.isqr(this);\n  };\n\n  // Square root over p\n  BN.prototype.redSqrt = function redSqrt () {\n    assert(this.red, 'redSqrt works only with red numbers');\n    this.red._verify1(this);\n    return this.red.sqrt(this);\n  };\n\n  BN.prototype.redInvm = function redInvm () {\n    assert(this.red, 'redInvm works only with red numbers');\n    this.red._verify1(this);\n    return this.red.invm(this);\n  };\n\n  // Return negative clone of `this` % `red modulo`\n  BN.prototype.redNeg = function redNeg () {\n    assert(this.red, 'redNeg works only with red numbers');\n    this.red._verify1(this);\n    return this.red.neg(this);\n  };\n\n  BN.prototype.redPow = function redPow (num) {\n    assert(this.red && !num.red, 'redPow(normalNum)');\n    this.red._verify1(this);\n    return this.red.pow(this, num);\n  };\n\n  // Prime numbers with efficient reduction\n  var primes = {\n    k256: null,\n    p224: null,\n    p192: null,\n    p25519: null\n  };\n\n  // Pseudo-Mersenne prime\n  function MPrime (name, p) {\n    // P = 2 ^ N - K\n    this.name = name;\n    this.p = new BN(p, 16);\n    this.n = this.p.bitLength();\n    this.k = new BN(1).iushln(this.n).isub(this.p);\n\n    this.tmp = this._tmp();\n  }\n\n  MPrime.prototype._tmp = function _tmp () {\n    var tmp = new BN(null);\n    tmp.words = new Array(Math.ceil(this.n / 13));\n    return tmp;\n  };\n\n  MPrime.prototype.ireduce = function ireduce (num) {\n    // Assumes that `num` is less than `P^2`\n    // num = HI * (2 ^ N - K) + HI * K + LO = HI * K + LO (mod P)\n    var r = num;\n    var rlen;\n\n    do {\n      this.split(r, this.tmp);\n      r = this.imulK(r);\n      r = r.iadd(this.tmp);\n      rlen = r.bitLength();\n    } while (rlen > this.n);\n\n    var cmp = rlen < this.n ? -1 : r.ucmp(this.p);\n    if (cmp === 0) {\n      r.words[0] = 0;\n      r.length = 1;\n    } else if (cmp > 0) {\n      r.isub(this.p);\n    } else {\n      if (r.strip !== undefined) {\n        // r is a BN v4 instance\n        r.strip();\n      } else {\n        // r is a BN v5 instance\n        r._strip();\n      }\n    }\n\n    return r;\n  };\n\n  MPrime.prototype.split = function split (input, out) {\n    input.iushrn(this.n, 0, out);\n  };\n\n  MPrime.prototype.imulK = function imulK (num) {\n    return num.imul(this.k);\n  };\n\n  function K256 () {\n    MPrime.call(\n      this,\n      'k256',\n      'ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f');\n  }\n  inherits(K256, MPrime);\n\n  K256.prototype.split = function split (input, output) {\n    // 256 = 9 * 26 + 22\n    var mask = 0x3fffff;\n\n    var outLen = Math.min(input.length, 9);\n    for (var i = 0; i < outLen; i++) {\n      output.words[i] = input.words[i];\n    }\n    output.length = outLen;\n\n    if (input.length <= 9) {\n      input.words[0] = 0;\n      input.length = 1;\n      return;\n    }\n\n    // Shift by 9 limbs\n    var prev = input.words[9];\n    output.words[output.length++] = prev & mask;\n\n    for (i = 10; i < input.length; i++) {\n      var next = input.words[i] | 0;\n      input.words[i - 10] = ((next & mask) << 4) | (prev >>> 22);\n      prev = next;\n    }\n    prev >>>= 22;\n    input.words[i - 10] = prev;\n    if (prev === 0 && input.length > 10) {\n      input.length -= 10;\n    } else {\n      input.length -= 9;\n    }\n  };\n\n  K256.prototype.imulK = function imulK (num) {\n    // K = 0x1000003d1 = [ 0x40, 0x3d1 ]\n    num.words[num.length] = 0;\n    num.words[num.length + 1] = 0;\n    num.length += 2;\n\n    // bounded at: 0x40 * 0x3ffffff + 0x3d0 = 0x100000390\n    var lo = 0;\n    for (var i = 0; i < num.length; i++) {\n      var w = num.words[i] | 0;\n      lo += w * 0x3d1;\n      num.words[i] = lo & 0x3ffffff;\n      lo = w * 0x40 + ((lo / 0x4000000) | 0);\n    }\n\n    // Fast length reduction\n    if (num.words[num.length - 1] === 0) {\n      num.length--;\n      if (num.words[num.length - 1] === 0) {\n        num.length--;\n      }\n    }\n    return num;\n  };\n\n  function P224 () {\n    MPrime.call(\n      this,\n      'p224',\n      'ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001');\n  }\n  inherits(P224, MPrime);\n\n  function P192 () {\n    MPrime.call(\n      this,\n      'p192',\n      'ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff');\n  }\n  inherits(P192, MPrime);\n\n  function P25519 () {\n    // 2 ^ 255 - 19\n    MPrime.call(\n      this,\n      '25519',\n      '7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed');\n  }\n  inherits(P25519, MPrime);\n\n  P25519.prototype.imulK = function imulK (num) {\n    // K = 0x13\n    var carry = 0;\n    for (var i = 0; i < num.length; i++) {\n      var hi = (num.words[i] | 0) * 0x13 + carry;\n      var lo = hi & 0x3ffffff;\n      hi >>>= 26;\n\n      num.words[i] = lo;\n      carry = hi;\n    }\n    if (carry !== 0) {\n      num.words[num.length++] = carry;\n    }\n    return num;\n  };\n\n  // Exported mostly for testing purposes, use plain name instead\n  BN._prime = function prime (name) {\n    // Cached version of prime\n    if (primes[name]) return primes[name];\n\n    var prime;\n    if (name === 'k256') {\n      prime = new K256();\n    } else if (name === 'p224') {\n      prime = new P224();\n    } else if (name === 'p192') {\n      prime = new P192();\n    } else if (name === 'p25519') {\n      prime = new P25519();\n    } else {\n      throw new Error('Unknown prime ' + name);\n    }\n    primes[name] = prime;\n\n    return prime;\n  };\n\n  //\n  // Base reduction engine\n  //\n  function Red (m) {\n    if (typeof m === 'string') {\n      var prime = BN._prime(m);\n      this.m = prime.p;\n      this.prime = prime;\n    } else {\n      assert(m.gtn(1), 'modulus must be greater than 1');\n      this.m = m;\n      this.prime = null;\n    }\n  }\n\n  Red.prototype._verify1 = function _verify1 (a) {\n    assert(a.negative === 0, 'red works only with positives');\n    assert(a.red, 'red works only with red numbers');\n  };\n\n  Red.prototype._verify2 = function _verify2 (a, b) {\n    assert((a.negative | b.negative) === 0, 'red works only with positives');\n    assert(a.red && a.red === b.red,\n      'red works only with red numbers');\n  };\n\n  Red.prototype.imod = function imod (a) {\n    if (this.prime) return this.prime.ireduce(a)._forceRed(this);\n\n    move(a, a.umod(this.m)._forceRed(this));\n    return a;\n  };\n\n  Red.prototype.neg = function neg (a) {\n    if (a.isZero()) {\n      return a.clone();\n    }\n\n    return this.m.sub(a)._forceRed(this);\n  };\n\n  Red.prototype.add = function add (a, b) {\n    this._verify2(a, b);\n\n    var res = a.add(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.iadd = function iadd (a, b) {\n    this._verify2(a, b);\n\n    var res = a.iadd(b);\n    if (res.cmp(this.m) >= 0) {\n      res.isub(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.sub = function sub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.sub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res._forceRed(this);\n  };\n\n  Red.prototype.isub = function isub (a, b) {\n    this._verify2(a, b);\n\n    var res = a.isub(b);\n    if (res.cmpn(0) < 0) {\n      res.iadd(this.m);\n    }\n    return res;\n  };\n\n  Red.prototype.shl = function shl (a, num) {\n    this._verify1(a);\n    return this.imod(a.ushln(num));\n  };\n\n  Red.prototype.imul = function imul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.imul(b));\n  };\n\n  Red.prototype.mul = function mul (a, b) {\n    this._verify2(a, b);\n    return this.imod(a.mul(b));\n  };\n\n  Red.prototype.isqr = function isqr (a) {\n    return this.imul(a, a.clone());\n  };\n\n  Red.prototype.sqr = function sqr (a) {\n    return this.mul(a, a);\n  };\n\n  Red.prototype.sqrt = function sqrt (a) {\n    if (a.isZero()) return a.clone();\n\n    var mod3 = this.m.andln(3);\n    assert(mod3 % 2 === 1);\n\n    // Fast case\n    if (mod3 === 3) {\n      var pow = this.m.add(new BN(1)).iushrn(2);\n      return this.pow(a, pow);\n    }\n\n    // Tonelli-Shanks algorithm (Totally unoptimized and slow)\n    //\n    // Find Q and S, that Q * 2 ^ S = (P - 1)\n    var q = this.m.subn(1);\n    var s = 0;\n    while (!q.isZero() && q.andln(1) === 0) {\n      s++;\n      q.iushrn(1);\n    }\n    assert(!q.isZero());\n\n    var one = new BN(1).toRed(this);\n    var nOne = one.redNeg();\n\n    // Find quadratic non-residue\n    // NOTE: Max is such because of generalized Riemann hypothesis.\n    var lpow = this.m.subn(1).iushrn(1);\n    var z = this.m.bitLength();\n    z = new BN(2 * z * z).toRed(this);\n\n    while (this.pow(z, lpow).cmp(nOne) !== 0) {\n      z.redIAdd(nOne);\n    }\n\n    var c = this.pow(z, q);\n    var r = this.pow(a, q.addn(1).iushrn(1));\n    var t = this.pow(a, q);\n    var m = s;\n    while (t.cmp(one) !== 0) {\n      var tmp = t;\n      for (var i = 0; tmp.cmp(one) !== 0; i++) {\n        tmp = tmp.redSqr();\n      }\n      assert(i < m);\n      var b = this.pow(c, new BN(1).iushln(m - i - 1));\n\n      r = r.redMul(b);\n      c = b.redSqr();\n      t = t.redMul(c);\n      m = i;\n    }\n\n    return r;\n  };\n\n  Red.prototype.invm = function invm (a) {\n    var inv = a._invmp(this.m);\n    if (inv.negative !== 0) {\n      inv.negative = 0;\n      return this.imod(inv).redNeg();\n    } else {\n      return this.imod(inv);\n    }\n  };\n\n  Red.prototype.pow = function pow (a, num) {\n    if (num.isZero()) return new BN(1).toRed(this);\n    if (num.cmpn(1) === 0) return a.clone();\n\n    var windowSize = 4;\n    var wnd = new Array(1 << windowSize);\n    wnd[0] = new BN(1).toRed(this);\n    wnd[1] = a;\n    for (var i = 2; i < wnd.length; i++) {\n      wnd[i] = this.mul(wnd[i - 1], a);\n    }\n\n    var res = wnd[0];\n    var current = 0;\n    var currentLen = 0;\n    var start = num.bitLength() % 26;\n    if (start === 0) {\n      start = 26;\n    }\n\n    for (i = num.length - 1; i >= 0; i--) {\n      var word = num.words[i];\n      for (var j = start - 1; j >= 0; j--) {\n        var bit = (word >> j) & 1;\n        if (res !== wnd[0]) {\n          res = this.sqr(res);\n        }\n\n        if (bit === 0 && current === 0) {\n          currentLen = 0;\n          continue;\n        }\n\n        current <<= 1;\n        current |= bit;\n        currentLen++;\n        if (currentLen !== windowSize && (i !== 0 || j !== 0)) continue;\n\n        res = this.mul(res, wnd[current]);\n        currentLen = 0;\n        current = 0;\n      }\n      start = 26;\n    }\n\n    return res;\n  };\n\n  Red.prototype.convertTo = function convertTo (num) {\n    var r = num.umod(this.m);\n\n    return r === num ? r.clone() : r;\n  };\n\n  Red.prototype.convertFrom = function convertFrom (num) {\n    var res = num.clone();\n    res.red = null;\n    return res;\n  };\n\n  //\n  // Montgomery method engine\n  //\n\n  BN.mont = function mont (num) {\n    return new Mont(num);\n  };\n\n  function Mont (m) {\n    Red.call(this, m);\n\n    this.shift = this.m.bitLength();\n    if (this.shift % 26 !== 0) {\n      this.shift += 26 - (this.shift % 26);\n    }\n\n    this.r = new BN(1).iushln(this.shift);\n    this.r2 = this.imod(this.r.sqr());\n    this.rinv = this.r._invmp(this.m);\n\n    this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);\n    this.minv = this.minv.umod(this.r);\n    this.minv = this.r.sub(this.minv);\n  }\n  inherits(Mont, Red);\n\n  Mont.prototype.convertTo = function convertTo (num) {\n    return this.imod(num.ushln(this.shift));\n  };\n\n  Mont.prototype.convertFrom = function convertFrom (num) {\n    var r = this.imod(num.mul(this.rinv));\n    r.red = null;\n    return r;\n  };\n\n  Mont.prototype.imul = function imul (a, b) {\n    if (a.isZero() || b.isZero()) {\n      a.words[0] = 0;\n      a.length = 1;\n      return a;\n    }\n\n    var t = a.imul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.mul = function mul (a, b) {\n    if (a.isZero() || b.isZero()) return new BN(0)._forceRed(this);\n\n    var t = a.mul(b);\n    var c = t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);\n    var u = t.isub(c).iushrn(this.shift);\n    var res = u;\n    if (u.cmp(this.m) >= 0) {\n      res = u.isub(this.m);\n    } else if (u.cmpn(0) < 0) {\n      res = u.iadd(this.m);\n    }\n\n    return res._forceRed(this);\n  };\n\n  Mont.prototype.invm = function invm (a) {\n    // (AR)^-1 * R^2 = (A^-1 * R^-1) * R^2 = A^-1 * R\n    var res = this.imod(a._invmp(this.m).mul(this.r2));\n    return res._forceRed(this);\n  };\n})(typeof module === 'undefined' || module, this);\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkProvider = void 0;\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst WalletLinkRelayAbstract_1 = require(\"../relay/WalletLinkRelayAbstract\");\nconst util_1 = require(\"../util\");\nconst eth_eip712_util_1 = __importDefault(require(\"../vendor-js/eth-eip712-util\"));\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./JSONRPC\");\nconst SubscriptionManager_1 = require(\"./SubscriptionManager\");\nconst DEFAULT_CHAIN_ID_KEY = \"DefaultChainId\";\nconst DEFAULT_JSON_RPC_URL = \"DefaultJsonRpcUrl\";\n// Indicates chain has been switched by switchEthereumChain or addEthereumChain request\nconst HAS_CHAIN_BEEN_SWITCHED_KEY = \"HasChainBeenSwitched\";\nconst HAS_CHAIN_OVERRIDDEN_FROM_RELAY = \"HasChainOverriddenFromRelay\";\nclass WalletLinkProvider extends safe_event_emitter_1.default {\n    constructor(options) {\n        var _a;\n        super();\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._subscriptionManager = new SubscriptionManager_1.SubscriptionManager(this);\n        this._relay = null;\n        this._addresses = [];\n        this.hasMadeFirstChainChangedEmission = false;\n        this._send = this.send.bind(this);\n        this._sendAsync = this.sendAsync.bind(this);\n        this.setProviderInfo = this.setProviderInfo.bind(this);\n        this.updateProviderInfo = this.updateProviderInfo.bind(this);\n        this.getChainId = this.getChainId.bind(this);\n        this.setAppInfo = this.setAppInfo.bind(this);\n        this.enable = this.enable.bind(this);\n        this.close = this.close.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        this.request = this.request.bind(this);\n        this._setAddresses = this._setAddresses.bind(this);\n        this.scanQRCode = this.scanQRCode.bind(this);\n        this.genericRequest = this.genericRequest.bind(this);\n        this._jsonRpcUrlFromOpts = options.jsonRpcUrl;\n        this._overrideIsMetaMask = options.overrideIsMetaMask;\n        this._relayProvider = options.relayProvider;\n        this._storage = options.storage;\n        this._relayEventManager = options.relayEventManager;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.isCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        const chainId = this.getChainId();\n        const chainIdStr = (0, util_1.prepend0x)(chainId.toString(16));\n        // indicate that we've connected, for EIP-1193 compliance\n        this.emit(\"connect\", { chainIdStr });\n        const cachedAddresses = this._storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cachedAddresses) {\n            const addresses = cachedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n                this.emit(\"accountsChanged\", addresses);\n            }\n        }\n        this._subscriptionManager.events.on(\"notification\", (notification) => {\n            this.emit(\"message\", {\n                type: notification.method,\n                data: notification.params\n            });\n        });\n        if (this._addresses.length > 0) {\n            void this.initializeRelay();\n        }\n        window.addEventListener(\"message\", event => {\n            var _a;\n            if (event.data.type !== \"walletLinkMessage\")\n                return;\n            if (event.data.data.action === \"defaultChainChanged\") {\n                const _chainId = event.data.data.chainId;\n                const jsonRpcUrl = (_a = event.data.data.jsonRpcUrl) !== null && _a !== void 0 ? _a : this.jsonRpcUrl;\n                this.updateProviderInfo(jsonRpcUrl, Number(_chainId), true);\n            }\n        });\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this.getChainId().toString(10);\n    }\n    get chainId() {\n        return (0, util_1.prepend0x)(this.getChainId().toString(16));\n    }\n    get isWalletLink() {\n        return true;\n    }\n    /**\n     * Some DApps (i.e. Alpha Homora) seem to require the window.ethereum object return\n     * true for this method.\n     */\n    get isMetaMask() {\n        return this._overrideIsMetaMask;\n    }\n    get host() {\n        return this.jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    get jsonRpcUrl() {\n        var _a;\n        return ((_a = this._storage.getItem(DEFAULT_JSON_RPC_URL)) !== null && _a !== void 0 ? _a : this._jsonRpcUrlFromOpts);\n    }\n    set jsonRpcUrl(value) {\n        this._storage.setItem(DEFAULT_JSON_RPC_URL, value);\n    }\n    get isChainOverridden() {\n        return this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY) === \"true\";\n    }\n    set isChainOverridden(value) {\n        this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY, value.toString());\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    setProviderInfo(jsonRpcUrl, chainId) {\n        if (this.isChainOverridden)\n            return;\n        this.updateProviderInfo(jsonRpcUrl, this.getChainId(), false);\n    }\n    updateProviderInfo(jsonRpcUrl, chainId, fromRelay) {\n        const hasChainSwitched = this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY) === \"true\";\n        if (hasChainSwitched && fromRelay)\n            return;\n        if (fromRelay) {\n            this.isChainOverridden = true;\n        }\n        this.jsonRpcUrl = jsonRpcUrl;\n        // emit chainChanged event if necessary\n        const originalChainId = this.getChainId();\n        this._storage.setItem(DEFAULT_CHAIN_ID_KEY, chainId.toString(10));\n        const chainChanged = (0, util_1.ensureIntNumber)(chainId) !== originalChainId;\n        if (chainChanged || !this.hasMadeFirstChainChangedEmission) {\n            this.emit(\"chainChanged\", this.getChainId());\n            this.hasMadeFirstChainChangedEmission = true;\n        }\n    }\n    async watchAsset(type, address, symbol, decimals, image) {\n        const relay = await this.initializeRelay();\n        const result = await relay.watchAsset(type, address, symbol, decimals, image).promise;\n        return !!result.result;\n    }\n    async addEthereumChain(chainId, rpcUrls, blockExplorerUrls, chainName, iconUrls, nativeCurrency) {\n        var _a, _b;\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return false;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.addEthereumChain(chainId.toString(), rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency).promise;\n        if (((_a = res.result) === null || _a === void 0 ? void 0 : _a.isApproved) === true) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(rpcUrls[0], chainId, false);\n        }\n        return ((_b = res.result) === null || _b === void 0 ? void 0 : _b.isApproved) === true;\n    }\n    async switchEthereumChain(chainId) {\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.switchEthereumChain(chainId.toString(10)).promise;\n        if (res.errorCode) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: res.errorCode\n            });\n        }\n        const switchResponse = res.result;\n        if (switchResponse.isApproved && switchResponse.rpcUrl.length > 0) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(switchResponse.rpcUrl, chainId, false);\n        }\n    }\n    setAppInfo(appName, appLogoUrl) {\n        void this.initializeRelay().then(relay => relay.setAppInfo(appName, appLogoUrl));\n    }\n    async enable() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::enable\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return [...this._addresses];\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    close() {\n        void this.initializeRelay().then(relay => relay.resetAndReload());\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = {\n                jsonrpc: \"2.0\",\n                id: 0,\n                method,\n                params\n            };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"Expected a single, non-array, object argument.\",\n                data: args\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.method' must be a non-empty string.\",\n                data: args\n            });\n        }\n        if (params !== undefined &&\n            !Array.isArray(params) &&\n            (typeof params !== \"object\" || params === null)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.params' must be an object or array if provided.\",\n                data: args\n            });\n        }\n        const newParams = params === undefined ? [] : params;\n        // WalletLink Requests\n        const id = this._relayEventManager.makeRequestId();\n        const result = await this._sendRequestAsync({\n            method,\n            params: newParams,\n            jsonrpc: \"2.0\",\n            id\n        });\n        return result.result;\n    }\n    async scanQRCode(match) {\n        const relay = await this.initializeRelay();\n        const res = await relay.scanQRCode((0, util_1.ensureRegExpString)(match)).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async genericRequest(data, action) {\n        const relay = await this.initializeRelay();\n        const res = await relay.genericRequest(data, action).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`WalletLink does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        const newAddresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n        if (JSON.stringify(newAddresses) === JSON.stringify(this._addresses)) {\n            return;\n        }\n        this._addresses = newAddresses;\n        this.emit(\"accountsChanged\", this._addresses);\n        this._storage.setItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY, newAddresses.join(\" \"));\n        window.dispatchEvent(new CustomEvent(\"walletlink:addresses\", { detail: this._addresses }));\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n                const subscriptionPromise = this._handleSubscriptionMethods(request);\n                if (subscriptionPromise !== undefined) {\n                    subscriptionPromise\n                        .then(res => resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: res.result\n                    }))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => res && resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            case JSONRPC_1.JSONRPCMethod.eth_chainId:\n                return this._eth_chainId();\n            default:\n                return undefined;\n        }\n    }\n    async _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:\n                return this._walletlink_arbitrary(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:\n                return this._wallet_addEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:\n                return this._wallet_switchEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:\n                return this._wallet_watchAsset(params);\n        }\n        const relay = await this.initializeRelay();\n        return relay.makeEthereumJSONRPCRequest(request, this.jsonRpcUrl);\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _handleSubscriptionMethods(request) {\n        switch (request.method) {\n            case JSONRPC_1.JSONRPCMethod.eth_subscribe:\n            case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:\n                return this._subscriptionManager.handleRequest(request);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const address = (0, util_1.ensureAddressString)(addressString);\n            const lowercaseAddresses = this._addresses.map(address => (0, util_1.ensureAddressString)(address));\n            return lowercaseAddresses.includes(address);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        if (!this._isKnownAddress(addressString)) {\n            this._walletLinkAnalytics.sendEvent(init_1.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED);\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? (0, util_1.ensureAddressString)(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? (0, util_1.ensureAddressString)(tx.to) : null;\n        const weiValue = tx.value != null ? (0, util_1.ensureBN)(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? (0, util_1.ensureBuffer)(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? (0, util_1.ensureIntNumber)(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? (0, util_1.ensureBN)(tx.gasPrice) : null;\n        const maxFeePerGas = tx.maxFeePerGas != null ? (0, util_1.ensureBN)(tx.maxFeePerGas) : null;\n        const maxPriorityFeePerGas = tx.maxPriorityFeePerGas != null ? (0, util_1.ensureBN)(tx.maxPriorityFeePerGas) : null;\n        const gasLimit = tx.gas != null ? (0, util_1.ensureBN)(tx.gas) : null;\n        const chainId = this.getChainId();\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            gasLimit,\n            chainId\n        };\n    }\n    _requireAuthorization() {\n        if (this._addresses.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.provider.unauthorized({});\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw eth_rpc_errors_1.ethErrors.provider.unsupportedMethod({});\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumMessage(message, address, addPrefix, typedDataJson).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied message signature\");\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const relay = await this.initializeRelay();\n        const res = await relay.ethereumAddressFromSignedMessage(message, signature, addPrefix).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return [...this._addresses];\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this.getChainId().toString(10);\n    }\n    _eth_chainId() {\n        return (0, util_1.hexStringFromIntNumber)(this.getChainId());\n    }\n    getChainId() {\n        const chainIdStr = this._storage.getItem(DEFAULT_CHAIN_ID_KEY) || \"1\";\n        const chainId = parseInt(chainIdStr, 10);\n        return (0, util_1.ensureIntNumber)(chainId);\n    }\n    async _eth_requestAccounts() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::_eth_requestAccounts\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return Promise.resolve({\n                jsonrpc: \"2.0\",\n                id: 0,\n                result: this._addresses\n            });\n        }\n        let res;\n        try {\n            const relay = await this.initializeRelay();\n            res = await relay.requestEthereumAccounts().promise;\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied account authorization\");\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const message = (0, util_1.ensureBuffer)(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = (0, util_1.ensureBuffer)(params[0]);\n        const relay = await this.initializeRelay();\n        const res = await relay.submitEthereumTransaction(signedTransaction, this.getChainId()).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signAndSubmitEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _walletlink_arbitrary(params) {\n        const action = params[0];\n        const data = params[1];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        if (typeof action !== \"object\" || action === null) {\n            throw new Error(\"parameter must be an object\");\n        }\n        const result = await this.genericRequest(action, data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    async _wallet_addEthereumChain(params) {\n        var _a, _b, _c, _d;\n        const request = params[0];\n        if (((_a = request.rpcUrls) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `please pass in at least 1 rpcUrl` }\n            };\n        }\n        if (!request.chainName || request.chainName.trim() === \"\") {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"chainName is a required field\"\n            });\n        }\n        if (!request.nativeCurrency) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"nativeCurrency is a required field\"\n            });\n        }\n        const chainIdNumber = parseInt(request.chainId, 16);\n        const success = await this.addEthereumChain(chainIdNumber, (_b = request.rpcUrls) !== null && _b !== void 0 ? _b : [], (_c = request.blockExplorerUrls) !== null && _c !== void 0 ? _c : [], request.chainName, (_d = request.iconUrls) !== null && _d !== void 0 ? _d : [], request.nativeCurrency);\n        if (success) {\n            return { jsonrpc: \"2.0\", id: 0, result: null };\n        }\n        else {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `unable to add ethereum chain` }\n            };\n        }\n    }\n    async _wallet_switchEthereumChain(params) {\n        const request = params[0];\n        await this.switchEthereumChain(parseInt(request.chainId, 16));\n        return { jsonrpc: \"2.0\", id: 0, result: null };\n    }\n    async _wallet_watchAsset(params) {\n        var _a;\n        const request = (Array.isArray(params) ? params[0] : params);\n        if (((_a = request.type) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"type is a required field\"\n            });\n        }\n        if (request.type !== \"ERC20\") {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: `Asset of type '${request.type}' not supported`\n            });\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"options is a required field\"\n            });\n        }\n        if (!request.options.address) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"option address is a required option\"\n            });\n        }\n        const { address, symbol, image, decimals } = request.options;\n        const res = await this.watchAsset(request.type, address, symbol, decimals, image);\n        return { jsonrpc: \"2.0\", id: 0, result: res };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0];\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n    initializeRelay() {\n        if (this._relay) {\n            return Promise.resolve(this._relay);\n        }\n        return this._relayProvider().then(relay => {\n            relay.setAccountsCallback(accounts => this._setAddresses(accounts));\n            relay.setChainCallback((chainId, jsonRpcUrl) => {\n                this.updateProviderInfo(jsonRpcUrl, parseInt(chainId, 10), true);\n            });\n            this._relay = relay;\n            return relay;\n        });\n    }\n}\nexports.WalletLinkProvider = WalletLinkProvider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMessageFromCode = exports.serializeError = exports.EthereumProviderError = exports.EthereumRpcError = exports.ethErrors = exports.errorCodes = void 0;\nconst classes_1 = require(\"./classes\");\nObject.defineProperty(exports, \"EthereumRpcError\", { enumerable: true, get: function () { return classes_1.EthereumRpcError; } });\nObject.defineProperty(exports, \"EthereumProviderError\", { enumerable: true, get: function () { return classes_1.EthereumProviderError; } });\nconst utils_1 = require(\"./utils\");\nObject.defineProperty(exports, \"serializeError\", { enumerable: true, get: function () { return utils_1.serializeError; } });\nObject.defineProperty(exports, \"getMessageFromCode\", { enumerable: true, get: function () { return utils_1.getMessageFromCode; } });\nconst errors_1 = require(\"./errors\");\nObject.defineProperty(exports, \"ethErrors\", { enumerable: true, get: function () { return errors_1.ethErrors; } });\nconst error_constants_1 = require(\"./error-constants\");\nObject.defineProperty(exports, \"errorCodes\", { enumerable: true, get: function () { return error_constants_1.errorCodes; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdUNBQW9FO0FBVWxFLGlHQVZPLDBCQUFnQixPQVVQO0FBQ2hCLHNHQVh5QiwrQkFBcUIsT0FXekI7QUFWdkIsbUNBRWlCO0FBU2YsK0ZBVkEsc0JBQWMsT0FVQTtBQUNkLG1HQVhnQiwwQkFBa0IsT0FXaEI7QUFUcEIscUNBQXFDO0FBS25DLDBGQUxPLGtCQUFTLE9BS1A7QUFKWCx1REFBK0M7QUFHN0MsMkZBSE8sNEJBQVUsT0FHUCJ9","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumProviderError = exports.EthereumRpcError = void 0;\nconst fast_safe_stringify_1 = require(\"fast-safe-stringify\");\n/**\n * Error subclass implementing JSON RPC 2.0 errors and Ethereum RPC errors\n * per EIP-1474.\n * Permits any integer error code.\n */\nclass EthereumRpcError extends Error {\n    constructor(code, message, data) {\n        if (!Number.isInteger(code)) {\n            throw new Error('\"code\" must be an integer.');\n        }\n        if (!message || typeof message !== 'string') {\n            throw new Error('\"message\" must be a nonempty string.');\n        }\n        super(message);\n        this.code = code;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n    /**\n     * Returns a plain object with all public class properties.\n     */\n    serialize() {\n        const serialized = {\n            code: this.code,\n            message: this.message,\n        };\n        if (this.data !== undefined) {\n            serialized.data = this.data;\n        }\n        if (this.stack) {\n            serialized.stack = this.stack;\n        }\n        return serialized;\n    }\n    /**\n     * Return a string representation of the serialized error, omitting\n     * any circular references.\n     */\n    toString() {\n        return fast_safe_stringify_1.default(this.serialize(), stringifyReplacer, 2);\n    }\n}\nexports.EthereumRpcError = EthereumRpcError;\n/**\n * Error subclass implementing Ethereum Provider errors per EIP-1193.\n * Permits integer error codes in the [ 1000 <= 4999 ] range.\n */\nclass EthereumProviderError extends EthereumRpcError {\n    /**\n     * Create an Ethereum Provider JSON-RPC error.\n     * `code` must be an integer in the 1000 <= 4999 range.\n     */\n    constructor(code, message, data) {\n        if (!isValidEthProviderCode(code)) {\n            throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');\n        }\n        super(code, message, data);\n    }\n}\nexports.EthereumProviderError = EthereumProviderError;\n// Internal\nfunction isValidEthProviderCode(code) {\n    return Number.isInteger(code) && code >= 1000 && code <= 4999;\n}\nfunction stringifyReplacer(_, value) {\n    if (value === '[Circular]') {\n        return undefined;\n    }\n    return value;\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xhc3Nlcy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jbGFzc2VzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZEQUFnRDtBQVNoRDs7OztHQUlHO0FBQ0gsTUFBYSxnQkFBb0IsU0FBUSxLQUFLO0lBTTVDLFlBQVksSUFBWSxFQUFFLE9BQWUsRUFBRSxJQUFRO1FBRWpELElBQUksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQzNCLE1BQU0sSUFBSSxLQUFLLENBQ2IsNEJBQTRCLENBQzdCLENBQUM7U0FDSDtRQUNELElBQUksQ0FBQyxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO1lBQzNDLE1BQU0sSUFBSSxLQUFLLENBQ2Isc0NBQXNDLENBQ3ZDLENBQUM7U0FDSDtRQUVELEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNmLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksSUFBSSxLQUFLLFNBQVMsRUFBRTtZQUN0QixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztTQUNsQjtJQUNILENBQUM7SUFFRDs7T0FFRztJQUNILFNBQVM7UUFDUCxNQUFNLFVBQVUsR0FBK0I7WUFDN0MsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJO1lBQ2YsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ3RCLENBQUM7UUFDRixJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssU0FBUyxFQUFFO1lBQzNCLFVBQVUsQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztTQUM3QjtRQUNELElBQUksSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNkLFVBQVUsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUMvQjtRQUNELE9BQU8sVUFBVSxDQUFDO0lBQ3BCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxRQUFRO1FBQ04sT0FBTyw2QkFBYSxDQUNsQixJQUFJLENBQUMsU0FBUyxFQUFFLEVBQ2hCLGlCQUFpQixFQUNqQixDQUFDLENBQ0YsQ0FBQztJQUNKLENBQUM7Q0FDRjtBQXRERCw0Q0FzREM7QUFFRDs7O0dBR0c7QUFDSCxNQUFhLHFCQUF5QixTQUFRLGdCQUFtQjtJQUUvRDs7O09BR0c7SUFDSCxZQUFZLElBQVksRUFBRSxPQUFlLEVBQUUsSUFBUTtRQUVqRCxJQUFJLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDakMsTUFBTSxJQUFJLEtBQUssQ0FDYiwyREFBMkQsQ0FDNUQsQ0FBQztTQUNIO1FBRUQsS0FBSyxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDN0IsQ0FBQztDQUNGO0FBaEJELHNEQWdCQztBQUVELFdBQVc7QUFFWCxTQUFTLHNCQUFzQixDQUFDLElBQVk7SUFDMUMsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksSUFBSSxJQUFJLElBQUksQ0FBQztBQUNoRSxDQUFDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxDQUFVLEVBQUUsS0FBYztJQUNuRCxJQUFJLEtBQUssS0FBSyxZQUFZLEVBQUU7UUFDMUIsT0FBTyxTQUFTLENBQUM7S0FDbEI7SUFDRCxPQUFPLEtBQUssQ0FBQztBQUNmLENBQUMifQ==","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.errorValues = exports.errorCodes = void 0;\nexports.errorCodes = {\n    rpc: {\n        invalidInput: -32000,\n        resourceNotFound: -32001,\n        resourceUnavailable: -32002,\n        transactionRejected: -32003,\n        methodNotSupported: -32004,\n        limitExceeded: -32005,\n        parse: -32700,\n        invalidRequest: -32600,\n        methodNotFound: -32601,\n        invalidParams: -32602,\n        internal: -32603,\n    },\n    provider: {\n        userRejectedRequest: 4001,\n        unauthorized: 4100,\n        unsupportedMethod: 4200,\n        disconnected: 4900,\n        chainDisconnected: 4901,\n    },\n};\nexports.errorValues = {\n    '-32700': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.',\n    },\n    '-32600': {\n        standard: 'JSON RPC 2.0',\n        message: 'The JSON sent is not a valid Request object.',\n    },\n    '-32601': {\n        standard: 'JSON RPC 2.0',\n        message: 'The method does not exist / is not available.',\n    },\n    '-32602': {\n        standard: 'JSON RPC 2.0',\n        message: 'Invalid method parameter(s).',\n    },\n    '-32603': {\n        standard: 'JSON RPC 2.0',\n        message: 'Internal JSON-RPC error.',\n    },\n    '-32000': {\n        standard: 'EIP-1474',\n        message: 'Invalid input.',\n    },\n    '-32001': {\n        standard: 'EIP-1474',\n        message: 'Resource not found.',\n    },\n    '-32002': {\n        standard: 'EIP-1474',\n        message: 'Resource unavailable.',\n    },\n    '-32003': {\n        standard: 'EIP-1474',\n        message: 'Transaction rejected.',\n    },\n    '-32004': {\n        standard: 'EIP-1474',\n        message: 'Method not supported.',\n    },\n    '-32005': {\n        standard: 'EIP-1474',\n        message: 'Request limit exceeded.',\n    },\n    '4001': {\n        standard: 'EIP-1193',\n        message: 'User rejected the request.',\n    },\n    '4100': {\n        standard: 'EIP-1193',\n        message: 'The requested account and/or method has not been authorized by the user.',\n    },\n    '4200': {\n        standard: 'EIP-1193',\n        message: 'The requested method is not supported by this Ethereum provider.',\n    },\n    '4900': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from all chains.',\n    },\n    '4901': {\n        standard: 'EIP-1193',\n        message: 'The provider is disconnected from the specified chain.',\n    },\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXJyb3ItY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2Vycm9yLWNvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUF1QmEsUUFBQSxVQUFVLEdBQWU7SUFDcEMsR0FBRyxFQUFFO1FBQ0gsWUFBWSxFQUFFLENBQUMsS0FBSztRQUNwQixnQkFBZ0IsRUFBRSxDQUFDLEtBQUs7UUFDeEIsbUJBQW1CLEVBQUUsQ0FBQyxLQUFLO1FBQzNCLG1CQUFtQixFQUFFLENBQUMsS0FBSztRQUMzQixrQkFBa0IsRUFBRSxDQUFDLEtBQUs7UUFDMUIsYUFBYSxFQUFFLENBQUMsS0FBSztRQUNyQixLQUFLLEVBQUUsQ0FBQyxLQUFLO1FBQ2IsY0FBYyxFQUFFLENBQUMsS0FBSztRQUN0QixjQUFjLEVBQUUsQ0FBQyxLQUFLO1FBQ3RCLGFBQWEsRUFBRSxDQUFDLEtBQUs7UUFDckIsUUFBUSxFQUFFLENBQUMsS0FBSztLQUNqQjtJQUNELFFBQVEsRUFBRTtRQUNSLG1CQUFtQixFQUFFLElBQUk7UUFDekIsWUFBWSxFQUFFLElBQUk7UUFDbEIsaUJBQWlCLEVBQUUsSUFBSTtRQUN2QixZQUFZLEVBQUUsSUFBSTtRQUNsQixpQkFBaUIsRUFBRSxJQUFJO0tBQ3hCO0NBQ0YsQ0FBQztBQUVXLFFBQUEsV0FBVyxHQUFHO0lBQ3pCLFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLE9BQU8sRUFBRSx1R0FBdUc7S0FDakg7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsY0FBYztRQUN4QixPQUFPLEVBQUUsOENBQThDO0tBQ3hEO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLGNBQWM7UUFDeEIsT0FBTyxFQUFFLCtDQUErQztLQUN6RDtJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLE9BQU8sRUFBRSw4QkFBOEI7S0FDeEM7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsY0FBYztRQUN4QixPQUFPLEVBQUUsMEJBQTBCO0tBQ3BDO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLGdCQUFnQjtLQUMxQjtJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSxxQkFBcUI7S0FDL0I7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUsdUJBQXVCO0tBQ2pDO0lBQ0QsUUFBUSxFQUFFO1FBQ1IsUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLHVCQUF1QjtLQUNqQztJQUNELFFBQVEsRUFBRTtRQUNSLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSx1QkFBdUI7S0FDakM7SUFDRCxRQUFRLEVBQUU7UUFDUixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUseUJBQXlCO0tBQ25DO0lBQ0QsTUFBTSxFQUFFO1FBQ04sUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLDRCQUE0QjtLQUN0QztJQUNELE1BQU0sRUFBRTtRQUNOLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSwwRUFBMEU7S0FDcEY7SUFDRCxNQUFNLEVBQUU7UUFDTixRQUFRLEVBQUUsVUFBVTtRQUNwQixPQUFPLEVBQUUsa0VBQWtFO0tBQzVFO0lBQ0QsTUFBTSxFQUFFO1FBQ04sUUFBUSxFQUFFLFVBQVU7UUFDcEIsT0FBTyxFQUFFLCtDQUErQztLQUN6RDtJQUNELE1BQU0sRUFBRTtRQUNOLFFBQVEsRUFBRSxVQUFVO1FBQ3BCLE9BQU8sRUFBRSx3REFBd0Q7S0FDbEU7Q0FDRixDQUFDIn0=","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalytics = void 0;\nclass WalletLinkAnalytics {\n    sendEvent(_eventType, _eventProperties) {\n        // no-op\n    }\n}\nexports.WalletLinkAnalytics = WalletLinkAnalytics;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./events\"), exports);\n__exportStar(require(\"./WalletLinkAnalyticsAbstract\"), exports);\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Session = void 0;\nconst js_sha256_1 = require(\"js-sha256\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst util_1 = require(\"../util\");\nconst STORAGE_KEY_SESSION_ID = \"session:id\";\nconst STORAGE_KEY_SESSION_SECRET = \"session:secret\";\nconst STORAGE_KEY_SESSION_LINKED = \"session:linked\";\nclass Session {\n    constructor(storage, id, secret, linked) {\n        this._storage = storage;\n        this._id = id || (0, util_1.randomBytesHex)(16);\n        this._secret = secret || (0, util_1.randomBytesHex)(32);\n        const hash = js_sha256_1.sha256.create();\n        hash.update(`${this._id}, ${this._secret} WalletLink`);\n        this._key = hash.hex();\n        this._linked = !!linked;\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new Session(storage, id, secret, linked === \"1\");\n        }\n        return null;\n    }\n    static get persistedSessionIdChange$() {\n        return (0, rxjs_1.fromEvent)(window, \"storage\").pipe((0, operators_1.filter)(evt => evt.key === STORAGE_KEY_SESSION_ID), (0, operators_1.map)(evt => ({\n            oldValue: evt.oldValue || null,\n            newValue: evt.newValue || null\n        })));\n    }\n    /**\n     * Takes in a session ID and returns the sha256 hash of it.\n     * @param sessionId session ID\n     */\n    static hash(sessionId) {\n        const hash = js_sha256_1.sha256.create();\n        return hash.update(sessionId).hex();\n    }\n    get id() {\n        return this._id;\n    }\n    get secret() {\n        return this._secret;\n    }\n    get key() {\n        return this._key;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this._storage.setItem(STORAGE_KEY_SESSION_ID, this._id);\n        this._storage.setItem(STORAGE_KEY_SESSION_SECRET, this._secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this._storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? \"1\" : \"0\");\n    }\n}\nexports.Session = Session;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegExpString = exports.IntNumber = exports.BigIntString = exports.AddressString = exports.HexString = exports.OpaqueType = void 0;\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.BigIntString = OpaqueType();\nfunction IntNumber(num) {\n    return Math.floor(num);\n}\nexports.IntNumber = IntNumber;\nexports.RegExpString = OpaqueType();\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelayMessageType = void 0;\nvar RelayMessageType;\n(function (RelayMessageType) {\n    RelayMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    RelayMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    RelayMessageType[\"LINKED\"] = \"LINKED\";\n    RelayMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    RelayMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    RelayMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    RelayMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n})(RelayMessageType = exports.RelayMessageType || (exports.RelayMessageType = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.serializeError = exports.isValidCode = exports.getMessageFromCode = exports.JSON_RPC_SERVER_ERROR_MESSAGE = void 0;\nconst error_constants_1 = require(\"./error-constants\");\nconst classes_1 = require(\"./classes\");\nconst FALLBACK_ERROR_CODE = error_constants_1.errorCodes.rpc.internal;\nconst FALLBACK_MESSAGE = 'Unspecified error message. This is a bug, please report it.';\nconst FALLBACK_ERROR = {\n    code: FALLBACK_ERROR_CODE,\n    message: getMessageFromCode(FALLBACK_ERROR_CODE),\n};\nexports.JSON_RPC_SERVER_ERROR_MESSAGE = 'Unspecified server error.';\n/**\n * Gets the message for a given code, or a fallback message if the code has\n * no corresponding message.\n */\nfunction getMessageFromCode(code, fallbackMessage = FALLBACK_MESSAGE) {\n    if (Number.isInteger(code)) {\n        const codeString = code.toString();\n        if (hasKey(error_constants_1.errorValues, codeString)) {\n            return error_constants_1.errorValues[codeString].message;\n        }\n        if (isJsonRpcServerError(code)) {\n            return exports.JSON_RPC_SERVER_ERROR_MESSAGE;\n        }\n    }\n    return fallbackMessage;\n}\nexports.getMessageFromCode = getMessageFromCode;\n/**\n * Returns whether the given code is valid.\n * A code is only valid if it has a message.\n */\nfunction isValidCode(code) {\n    if (!Number.isInteger(code)) {\n        return false;\n    }\n    const codeString = code.toString();\n    if (error_constants_1.errorValues[codeString]) {\n        return true;\n    }\n    if (isJsonRpcServerError(code)) {\n        return true;\n    }\n    return false;\n}\nexports.isValidCode = isValidCode;\n/**\n * Serializes the given error to an Ethereum JSON RPC-compatible error object.\n * Merely copies the given error's values if it is already compatible.\n * If the given error is not fully compatible, it will be preserved on the\n * returned object's data.originalError property.\n */\nfunction serializeError(error, { fallbackError = FALLBACK_ERROR, shouldIncludeStack = false, } = {}) {\n    var _a, _b;\n    if (!fallbackError ||\n        !Number.isInteger(fallbackError.code) ||\n        typeof fallbackError.message !== 'string') {\n        throw new Error('Must provide fallback error with integer number code and string message.');\n    }\n    if (error instanceof classes_1.EthereumRpcError) {\n        return error.serialize();\n    }\n    const serialized = {};\n    if (error &&\n        typeof error === 'object' &&\n        !Array.isArray(error) &&\n        hasKey(error, 'code') &&\n        isValidCode(error.code)) {\n        const _error = error;\n        serialized.code = _error.code;\n        if (_error.message && typeof _error.message === 'string') {\n            serialized.message = _error.message;\n            if (hasKey(_error, 'data')) {\n                serialized.data = _error.data;\n            }\n        }\n        else {\n            serialized.message = getMessageFromCode(serialized.code);\n            serialized.data = { originalError: assignOriginalError(error) };\n        }\n    }\n    else {\n        serialized.code = fallbackError.code;\n        const message = (_a = error) === null || _a === void 0 ? void 0 : _a.message;\n        serialized.message = (message && typeof message === 'string'\n            ? message\n            : fallbackError.message);\n        serialized.data = { originalError: assignOriginalError(error) };\n    }\n    const stack = (_b = error) === null || _b === void 0 ? void 0 : _b.stack;\n    if (shouldIncludeStack && error && stack && typeof stack === 'string') {\n        serialized.stack = stack;\n    }\n    return serialized;\n}\nexports.serializeError = serializeError;\n// Internal\nfunction isJsonRpcServerError(code) {\n    return code >= -32099 && code <= -32000;\n}\nfunction assignOriginalError(error) {\n    if (error && typeof error === 'object' && !Array.isArray(error)) {\n        return Object.assign({}, error);\n    }\n    return error;\n}\nfunction hasKey(obj, key) {\n    return Object.prototype.hasOwnProperty.call(obj, key);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvdXRpbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsdURBQTREO0FBQzVELHVDQUF5RTtBQUV6RSxNQUFNLG1CQUFtQixHQUFHLDRCQUFVLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztBQUNwRCxNQUFNLGdCQUFnQixHQUFHLDZEQUE2RCxDQUFDO0FBQ3ZGLE1BQU0sY0FBYyxHQUErQjtJQUNqRCxJQUFJLEVBQUUsbUJBQW1CO0lBQ3pCLE9BQU8sRUFBRSxrQkFBa0IsQ0FBQyxtQkFBbUIsQ0FBQztDQUNqRCxDQUFDO0FBRVcsUUFBQSw2QkFBNkIsR0FBRywyQkFBMkIsQ0FBQztBQUl6RTs7O0dBR0c7QUFDSCxTQUFnQixrQkFBa0IsQ0FDaEMsSUFBWSxFQUNaLGtCQUEwQixnQkFBZ0I7SUFFMUMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFO1FBQzFCLE1BQU0sVUFBVSxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUVuQyxJQUFJLE1BQU0sQ0FBQyw2QkFBVyxFQUFFLFVBQVUsQ0FBQyxFQUFFO1lBQ25DLE9BQU8sNkJBQVcsQ0FBQyxVQUEyQixDQUFDLENBQUMsT0FBTyxDQUFDO1NBQ3pEO1FBQ0QsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUM5QixPQUFPLHFDQUE2QixDQUFDO1NBQ3RDO0tBQ0Y7SUFDRCxPQUFPLGVBQWUsQ0FBQztBQUN6QixDQUFDO0FBZkQsZ0RBZUM7QUFFRDs7O0dBR0c7QUFDSCxTQUFnQixXQUFXLENBQUMsSUFBWTtJQUN0QyxJQUFJLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUMzQixPQUFPLEtBQUssQ0FBQztLQUNkO0lBRUQsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBQ25DLElBQUksNkJBQVcsQ0FBQyxVQUEy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","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayAbstract = exports.APP_VERSION_KEY = exports.LOCAL_STORAGE_ADDRESSES_KEY = exports.WALLET_USER_NAME_KEY = void 0;\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nexports.WALLET_USER_NAME_KEY = \"walletUsername\";\nexports.LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nexports.APP_VERSION_KEY = \"AppVersion\";\nclass WalletLinkRelayAbstract {\n    async makeEthereumJSONRPCRequest(request, jsonRpcUrl) {\n        if (!jsonRpcUrl)\n            throw new Error(\"Error: No jsonRpcUrl provided\");\n        return window\n            .fetch(jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" }\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw eth_rpc_errors_1.ethErrors.rpc.parse({});\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw (0, eth_rpc_errors_1.serializeError)(error);\n            }\n            return response;\n        });\n    }\n}\nexports.WalletLinkRelayAbstract = WalletLinkRelayAbstract;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('keccak/js')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = void 0;\nconst WalletLinkAnalytics_1 = require(\"./connection/WalletLinkAnalytics\");\nconst ScopedLocalStorage_1 = require(\"./lib/ScopedLocalStorage\");\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLinkSdkUI_1 = require(\"./provider/WalletLinkSdkUI\");\nconst WalletLinkRelay_1 = require(\"./relay/WalletLinkRelay\");\nconst WalletLinkRelayEventManager_1 = require(\"./relay/WalletLinkRelayEventManager\");\nconst util_1 = require(\"./util\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    /**\n     * Constructor\n     * @param options WalletLink options object\n     */\n    constructor(options) {\n        var _a;\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = null;\n        this._relayEventManager = null;\n        const walletLinkUrl = options.walletLinkUrl || WALLETLINK_URL;\n        let walletLinkUIConstructor;\n        if (!options.walletLinkUIConstructor) {\n            walletLinkUIConstructor = opts => new WalletLinkSdkUI_1.WalletLinkSdkUI(opts);\n        }\n        else {\n            walletLinkUIConstructor = options.walletLinkUIConstructor;\n        }\n        if (typeof options.overrideIsMetaMask === \"undefined\") {\n            this._overrideIsMetaMask = false;\n        }\n        else {\n            this._overrideIsMetaMask = options.overrideIsMetaMask;\n        }\n        this._overrideIsCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        const u = new URL(walletLinkUrl);\n        const walletLinkOrigin = `${u.protocol}//${u.host}`;\n        this._storage = new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${walletLinkOrigin}`);\n        this._storage.setItem(\"version\", WalletLink.VERSION);\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            return;\n        }\n        this._relayEventManager = new WalletLinkRelayEventManager_1.WalletLinkRelayEventManager();\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl,\n            version: WALLETLINK_VERSION,\n            darkMode: !!options.darkMode,\n            walletLinkUIConstructor,\n            storage: this._storage,\n            relayEventManager: this._relayEventManager,\n            walletLinkAnalytics: this._walletLinkAnalytics\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        this._relay.attachUI();\n    }\n    /**\n     * Create a Web3 Provider object\n     * @param jsonRpcUrl Ethereum JSON RPC URL (Default: \"\")\n     * @param chainId Ethereum Chain ID (Default: 1)\n     * @returns A Web3 Provider\n     */\n    makeWeb3Provider(jsonRpcUrl = \"\", chainId = 1) {\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setProviderInfo(jsonRpcUrl, chainId);\n            }\n            return window.walletLinkExtension;\n        }\n        const relay = this._relay;\n        if (!relay || !this._relayEventManager || !this._storage) {\n            throw new Error(\"Relay not initialized, should never happen\");\n        }\n        if (!jsonRpcUrl)\n            relay.setConnectDisabled(true);\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relayProvider: () => Promise.resolve(relay),\n            relayEventManager: this._relayEventManager,\n            storage: this._storage,\n            jsonRpcUrl,\n            chainId,\n            walletLinkAnalytics: this._walletLinkAnalytics,\n            overrideIsMetaMask: this._overrideIsMetaMask,\n            overrideIsCoinbaseWallet: this._overrideIsCoinbaseWallet\n        });\n    }\n    /**\n     * Set application information\n     * @param appName Application name\n     * @param appLogoUrl Application logo image URL\n     */\n    setAppInfo(appName, appLogoUrl) {\n        var _a;\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || (0, util_1.getFavicon)();\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setAppInfo(this._appName, this._appLogoUrl);\n            }\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.setAppInfo(this._appName, this._appLogoUrl);\n        }\n    }\n    /**\n     * Disconnect. After disconnecting, this will reload the web page to ensure\n     * all potential stale state is cleared.\n     */\n    disconnect() {\n        var _a;\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            window.walletLinkExtension.close();\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.resetAndReload();\n        }\n    }\n}\nexports.WalletLink = WalletLink;\n/**\n * WalletLink version\n */\nWalletLink.VERSION = WALLETLINK_VERSION;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCode = void 0;\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst qrcode_svg_1 = __importDefault(require(\"../vendor-js/qrcode-svg\"));\nconst QRCode = props => {\n    const [svg, setSvg] = (0, hooks_1.useState)(\"\");\n    (0, hooks_1.useEffect)(() => {\n        var _a, _b;\n        const qrcode = new qrcode_svg_1.default({\n            content: props.content,\n            background: props.bgColor || \"#ffffff\",\n            color: props.fgColor || \"#000000\",\n            container: \"svg\",\n            ecl: \"M\",\n            width: (_a = props.width) !== null && _a !== void 0 ? _a : 256,\n            height: (_b = props.height) !== null && _b !== void 0 ? _b : 256,\n            padding: 0,\n            image: props.image\n        });\n        const base64 = Buffer.from(qrcode.svg(), \"utf8\").toString(\"base64\");\n        setSvg(`data:image/svg+xml;base64,${base64}`);\n    });\n    return svg ? (0, preact_1.h)(\"img\", { src: svg, alt: \"QR Code\" }) : null;\n};\nexports.QRCode = QRCode;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Spinner = void 0;\nconst preact_1 = require(\"preact\");\nconst Spinner_css_1 = __importDefault(require(\"./Spinner-css\"));\nconst Spinner = props => {\n    var _a;\n    const size = (_a = props.size) !== null && _a !== void 0 ? _a : 64;\n    const color = props.color || \"#000\";\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-spinner\" },\n        (0, preact_1.h)(\"style\", null, Spinner_css_1.default),\n        (0, preact_1.h)(\"svg\", { viewBox: \"0 0 100 100\", xmlns: \"http://www.w3.org/2000/svg\", style: { width: size, height: size } },\n            (0, preact_1.h)(\"circle\", { style: { cx: 50, cy: 50, r: 45, stroke: color } }))));\n};\nexports.Spinner = Spinner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LIB_VERSION = void 0;\nexports.LIB_VERSION = \"2.5.0\";\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Method = void 0;\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"generic\"] = \"generic\";\n    Web3Method[\"childRequestEthereumAccounts\"] = \"childRequestEthereumAccounts\";\n    Web3Method[\"addEthereumChain\"] = \"addEthereumChain\";\n    Web3Method[\"switchEthereumChain\"] = \"switchEthereumChain\";\n    Web3Method[\"makeEthereumJSONRPCRequest\"] = \"makeEthereumJSONRPCRequest\";\n    Web3Method[\"watchAsset\"] = \"watchAsset\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n"],"sourceRoot":""}